(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52340,e=>{"use strict";var t=e.i(122);e.s(["Container",()=>t.default])},69378,e=>{e.v({bookingDetails:"page-module__pIbf3G__bookingDetails",cartContent:"page-module__pIbf3G__cartContent",cartItem:"page-module__pIbf3G__cartItem",cartItems:"page-module__pIbf3G__cartItems",cartPage:"page-module__pIbf3G__cartPage",cartSummary:"page-module__pIbf3G__cartSummary",checkoutActions:"page-module__pIbf3G__checkoutActions",checkoutLink:"page-module__pIbf3G__checkoutLink",discount:"page-module__pIbf3G__discount",emptyCart:"page-module__pIbf3G__emptyCart",header:"page-module__pIbf3G__header",itemActions:"page-module__pIbf3G__itemActions",itemDetails:"page-module__pIbf3G__itemDetails",itemInfo:"page-module__pIbf3G__itemInfo",itemName:"page-module__pIbf3G__itemName",itemPrice:"page-module__pIbf3G__itemPrice",itemSubtotal:"page-module__pIbf3G__itemSubtotal",loading:"page-module__pIbf3G__loading",quantityControl:"page-module__pIbf3G__quantityControl",quantityInput:"page-module__pIbf3G__quantityInput",quantityLabel:"page-module__pIbf3G__quantityLabel",removeButton:"page-module__pIbf3G__removeButton",summaryTitle:"page-module__pIbf3G__summaryTitle",title:"page-module__pIbf3G__title",totalAmount:"page-module__pIbf3G__totalAmount",totalRow:"page-module__pIbf3G__totalRow",totalRowFinal:"page-module__pIbf3G__totalRowFinal",totals:"page-module__pIbf3G__totals",updateButton:"page-module__pIbf3G__updateButton"})},67492,e=>{"use strict";e.i(49632);var t=e.i(43021),a=e.i(1725),l=e.i(21204),s=e.i(98631);let i=(0,s.default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),n=(0,s.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.i(40271);var d=e.i(52340),o=e.i(47080),c=e.i(6263),r=e.i(60481),u=e.i(69378);function m(){let{items:e,itemsCount:s,totals:m,loading:p,fetchCart:_,updateCartItem:h,removeCartItem:f}=(0,r.useCartStore)(),[y,x]=(0,a.useState)({}),[g,j]=(0,a.useState)(!1),b=(0,a.useCallback)(async()=>{await _()},[_]);(0,a.useEffect)(()=>{(0,a.startTransition)(()=>{j(!0)}),b()},[b]),(0,a.useEffect)(()=>{if(e.length>0){let t={};e.forEach(e=>{t[e.key]=e.quantity}),(0,a.startTransition)(()=>{x(t)})}},[e]);let v=async e=>{let t=y[e];if(t&&t>0)try{await h(e,t)}catch(e){}},I=async e=>{await v(e)},N=async e=>{try{await f(e)}catch(e){}},k=e=>{if(!e)return"$0.00";let t=("string"==typeof e?e:e.toString()).replace(/[^0-9.]/g,""),a=parseFloat(t);return isNaN(a)?"$0.00":(!t.includes(".")&&a>=100&&(a/=100),new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a))};return g?0!==e.length||p?(0,t.jsx)(d.Container,{children:(0,t.jsxs)("div",{className:u.default.cartPage,children:[(0,t.jsx)("div",{className:u.default.header,children:(0,t.jsxs)("h1",{className:u.default.title,children:["Cart (",s," ",1===s?"item":"items",")"]})}),(0,t.jsxs)("div",{className:u.default.cartContent,children:[(0,t.jsx)("div",{className:u.default.cartItems,children:e.map(a=>{var l;let s,d,r=(a.prices?.price||a.totals?.line_subtotal||"0").replace(/[^0-9.]/g,""),m=parseFloat(r);isNaN(m)&&(m=0),!r.includes(".")&&m>=100&&(m/=100);let _=m*a.quantity,h="booking"===a.type,f=a.item_data?.find(e=>"Booking Date"===e.name)?.value,g=a.item_data?.find(e=>"Booking Time"===e.name)?.value;return(0,t.jsxs)("div",{className:u.default.cartItem,children:[(0,t.jsxs)("div",{className:u.default.itemInfo,children:[(0,t.jsxs)("div",{className:u.default.itemDetails,children:[(0,t.jsx)("h3",{className:u.default.itemName,children:a.name}),h&&(f||g)&&(0,t.jsxs)("div",{className:u.default.bookingDetails,children:[f&&(0,t.jsx)("span",{children:f}),f&&g&&(0,t.jsx)("span",{children:" at "}),g&&(0,t.jsx)("span",{children:g})]})]}),(0,t.jsx)("div",{className:u.default.itemPrice,children:k(_)})]}),(0,t.jsxs)("div",{className:u.default.itemActions,children:[!h&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:u.default.quantityControl,children:[(0,t.jsx)("label",{htmlFor:`quantity-${a.key}`,className:u.default.quantityLabel,children:"Quantity"}),(0,t.jsx)("input",{id:`quantity-${a.key}`,type:"number",min:"1",value:y[a.key]||a.quantity,onChange:e=>{var t,l;return t=a.key,void(!((l=parseInt(e.target.value,10))<1)&&x(e=>({...e,[t]:l})))},className:u.default.quantityInput,disabled:p})]}),(0,t.jsxs)(o.Button,{color:"secondary",onClick:()=>I(a.key),disabled:p||(s=y[l=a.key],!(d=e.find(e=>e.key===l))||void 0===s||s===d.quantity),className:u.default.updateButton,"aria-label":"Update quantity",children:[(0,t.jsx)(i,{size:18}),(0,t.jsx)(c.VisuallyHidden,{children:p?"Updating...":"Update"})]})]}),(0,t.jsxs)(o.Button,{color:"secondary",onClick:()=>N(a.key),disabled:p,className:u.default.removeButton,"aria-label":"Remove item",children:[(0,t.jsx)(n,{size:18}),(0,t.jsx)(c.VisuallyHidden,{children:"Remove"})]})]})]},a.key)})}),(0,t.jsxs)("div",{className:u.default.cartSummary,children:[(0,t.jsx)("h2",{className:u.default.summaryTitle,children:"Order Summary"}),m&&(0,t.jsxs)("div",{className:u.default.totals,children:[(0,t.jsxs)("div",{className:u.default.totalRow,children:[(0,t.jsx)("span",{children:"Subtotal"}),(0,t.jsx)("span",{children:k(m.total_items)})]}),m.total_discount&&parseFloat(m.total_discount.replace(/[^0-9.]/g,""))>0&&(0,t.jsxs)("div",{className:u.default.totalRow,children:[(0,t.jsx)("span",{children:"Discount"}),(0,t.jsxs)("span",{className:u.default.discount,children:["-",k(m.total_discount)]})]}),m.total_shipping&&parseFloat(m.total_shipping.replace(/[^0-9.]/g,""))>0&&(0,t.jsxs)("div",{className:u.default.totalRow,children:[(0,t.jsx)("span",{children:"Shipping"}),(0,t.jsx)("span",{children:k(m.total_shipping)})]}),m.total_tax&&parseFloat(m.total_tax.replace(/[^0-9.]/g,""))>0&&(0,t.jsxs)("div",{className:u.default.totalRow,children:[(0,t.jsx)("span",{children:"Tax"}),(0,t.jsx)("span",{children:k(m.total_tax)})]}),(0,t.jsxs)("div",{className:`${u.default.totalRow} ${u.default.totalRowFinal}`,children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsx)("span",{className:u.default.totalAmount,children:k(m.total_price)})]})]}),(0,t.jsxs)("div",{className:u.default.checkoutActions,children:[(0,t.jsx)("a",{href:"https://chirostretch-copy.local/checkout/",className:u.default.checkoutLink,children:(0,t.jsx)(o.Button,{fullWidth:!0,children:"Proceed to Checkout"})}),(0,t.jsx)(l.default,{href:"/shop",children:(0,t.jsx)(o.Button,{color:"secondary",fullWidth:!0,children:"Continue Shopping"})})]})]})]})]})}):(0,t.jsx)(d.Container,{children:(0,t.jsxs)("div",{className:u.default.cartPage,children:[(0,t.jsx)("h1",{className:u.default.title,children:"Cart"}),(0,t.jsxs)("div",{className:u.default.emptyCart,children:[(0,t.jsx)("p",{children:"Your cart is empty."}),(0,t.jsx)(l.default,{href:"/shop",children:(0,t.jsx)(o.Button,{children:"Continue Shopping"})})]})]})}):(0,t.jsx)(d.Container,{children:(0,t.jsxs)("div",{className:u.default.cartPage,children:[(0,t.jsx)("h1",{className:u.default.title,children:"Cart"}),(0,t.jsx)("div",{className:u.default.loading,children:"Loading cart..."})]})})}e.s(["default",()=>m],67492)}]);