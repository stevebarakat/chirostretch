module.exports=[25739,a=>{"use strict";var b=a.i(88808);a.s(["Container",()=>b.default])},21158,a=>{a.v({bookingDetails:"page-module__pIbf3G__bookingDetails",cartContent:"page-module__pIbf3G__cartContent",cartItem:"page-module__pIbf3G__cartItem",cartItems:"page-module__pIbf3G__cartItems",cartPage:"page-module__pIbf3G__cartPage",cartSummary:"page-module__pIbf3G__cartSummary",checkoutActions:"page-module__pIbf3G__checkoutActions",checkoutLink:"page-module__pIbf3G__checkoutLink",discount:"page-module__pIbf3G__discount",emptyCart:"page-module__pIbf3G__emptyCart",header:"page-module__pIbf3G__header",itemActions:"page-module__pIbf3G__itemActions",itemDetails:"page-module__pIbf3G__itemDetails",itemInfo:"page-module__pIbf3G__itemInfo",itemName:"page-module__pIbf3G__itemName",itemPrice:"page-module__pIbf3G__itemPrice",itemSubtotal:"page-module__pIbf3G__itemSubtotal",loading:"page-module__pIbf3G__loading",quantityControl:"page-module__pIbf3G__quantityControl",quantityInput:"page-module__pIbf3G__quantityInput",quantityLabel:"page-module__pIbf3G__quantityLabel",removeButton:"page-module__pIbf3G__removeButton",summaryTitle:"page-module__pIbf3G__summaryTitle",title:"page-module__pIbf3G__title",totalAmount:"page-module__pIbf3G__totalAmount",totalRow:"page-module__pIbf3G__totalRow",totalRowFinal:"page-module__pIbf3G__totalRowFinal",totals:"page-module__pIbf3G__totals",updateButton:"page-module__pIbf3G__updateButton"})},28710,a=>{"use strict";var b=a.i(46933),c=a.i(21968),d=a.i(80238),e=a.i(72873);let f=(0,e.default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),g=(0,e.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.i(20383);var h=a.i(25739),i=a.i(75943),j=a.i(8096),k=a.i(50615),l=a.i(21158);function m(){let{items:a,itemsCount:e,totals:m,loading:n,fetchCart:o,updateCartItem:p,removeCartItem:q}=(0,k.useCartStore)(),[r,s]=(0,c.useState)({}),[t,u]=(0,c.useState)(!1),v=(0,c.useCallback)(async()=>{await o()},[o]);(0,c.useEffect)(()=>{(0,c.startTransition)(()=>{u(!0)}),v()},[v]),(0,c.useEffect)(()=>{if(a.length>0){let b={};a.forEach(a=>{b[a.key]=a.quantity}),(0,c.startTransition)(()=>{s(b)})}},[a]);let w=async a=>{let b=r[a];if(b&&b>0)try{await p(a,b)}catch(a){}},x=async a=>{await w(a)},y=async a=>{try{await q(a)}catch(a){}},z=a=>{if(!a)return"$0.00";let b=("string"==typeof a?a:a.toString()).replace(/[^0-9.]/g,""),c=parseFloat(b);return isNaN(c)?"$0.00":(!b.includes(".")&&c>=100&&(c/=100),new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(c))};return t?0!==a.length||n?(0,b.jsx)(h.Container,{children:(0,b.jsxs)("div",{className:l.default.cartPage,children:[(0,b.jsx)("div",{className:l.default.header,children:(0,b.jsxs)("h1",{className:l.default.title,children:["Cart (",e," ",1===e?"item":"items",")"]})}),(0,b.jsxs)("div",{className:l.default.cartContent,children:[(0,b.jsx)("div",{className:l.default.cartItems,children:a.map(c=>{var d;let e,h,k=(c.prices?.price||c.totals?.line_subtotal||"0").replace(/[^0-9.]/g,""),m=parseFloat(k);isNaN(m)&&(m=0),!k.includes(".")&&m>=100&&(m/=100);let o=m*c.quantity,p="booking"===c.type,q=c.item_data?.find(a=>"Booking Date"===a.name)?.value,t=c.item_data?.find(a=>"Booking Time"===a.name)?.value;return(0,b.jsxs)("div",{className:l.default.cartItem,children:[(0,b.jsxs)("div",{className:l.default.itemInfo,children:[(0,b.jsxs)("div",{className:l.default.itemDetails,children:[(0,b.jsx)("h3",{className:l.default.itemName,children:c.name}),p&&(q||t)&&(0,b.jsxs)("div",{className:l.default.bookingDetails,children:[q&&(0,b.jsx)("span",{children:q}),q&&t&&(0,b.jsx)("span",{children:" at "}),t&&(0,b.jsx)("span",{children:t})]})]}),(0,b.jsx)("div",{className:l.default.itemPrice,children:z(o)})]}),(0,b.jsxs)("div",{className:l.default.itemActions,children:[!p&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:l.default.quantityControl,children:[(0,b.jsx)("label",{htmlFor:`quantity-${c.key}`,className:l.default.quantityLabel,children:"Quantity"}),(0,b.jsx)("input",{id:`quantity-${c.key}`,type:"number",min:"1",value:r[c.key]||c.quantity,onChange:a=>{var b,d;return b=c.key,void(!((d=parseInt(a.target.value,10))<1)&&s(a=>({...a,[b]:d})))},className:l.default.quantityInput,disabled:n})]}),(0,b.jsxs)(i.Button,{color:"secondary",onClick:()=>x(c.key),disabled:n||(e=r[d=c.key],!(h=a.find(a=>a.key===d))||void 0===e||e===h.quantity),className:l.default.updateButton,"aria-label":"Update quantity",children:[(0,b.jsx)(f,{size:18}),(0,b.jsx)(j.VisuallyHidden,{children:n?"Updating...":"Update"})]})]}),(0,b.jsxs)(i.Button,{color:"secondary",onClick:()=>y(c.key),disabled:n,className:l.default.removeButton,"aria-label":"Remove item",children:[(0,b.jsx)(g,{size:18}),(0,b.jsx)(j.VisuallyHidden,{children:"Remove"})]})]})]},c.key)})}),(0,b.jsxs)("div",{className:l.default.cartSummary,children:[(0,b.jsx)("h2",{className:l.default.summaryTitle,children:"Order Summary"}),m&&(0,b.jsxs)("div",{className:l.default.totals,children:[(0,b.jsxs)("div",{className:l.default.totalRow,children:[(0,b.jsx)("span",{children:"Subtotal"}),(0,b.jsx)("span",{children:z(m.total_items)})]}),m.total_discount&&parseFloat(m.total_discount.replace(/[^0-9.]/g,""))>0&&(0,b.jsxs)("div",{className:l.default.totalRow,children:[(0,b.jsx)("span",{children:"Discount"}),(0,b.jsxs)("span",{className:l.default.discount,children:["-",z(m.total_discount)]})]}),m.total_shipping&&parseFloat(m.total_shipping.replace(/[^0-9.]/g,""))>0&&(0,b.jsxs)("div",{className:l.default.totalRow,children:[(0,b.jsx)("span",{children:"Shipping"}),(0,b.jsx)("span",{children:z(m.total_shipping)})]}),m.total_tax&&parseFloat(m.total_tax.replace(/[^0-9.]/g,""))>0&&(0,b.jsxs)("div",{className:l.default.totalRow,children:[(0,b.jsx)("span",{children:"Tax"}),(0,b.jsx)("span",{children:z(m.total_tax)})]}),(0,b.jsxs)("div",{className:`${l.default.totalRow} ${l.default.totalRowFinal}`,children:[(0,b.jsx)("span",{children:"Total"}),(0,b.jsx)("span",{className:l.default.totalAmount,children:z(m.total_price)})]})]}),(0,b.jsxs)("div",{className:l.default.checkoutActions,children:[(0,b.jsx)("a",{href:"https://chirostretch-copy.local/checkout/",className:l.default.checkoutLink,children:(0,b.jsx)(i.Button,{fullWidth:!0,children:"Proceed to Checkout"})}),(0,b.jsx)(d.default,{href:"/shop",children:(0,b.jsx)(i.Button,{color:"secondary",fullWidth:!0,children:"Continue Shopping"})})]})]})]})]})}):(0,b.jsx)(h.Container,{children:(0,b.jsxs)("div",{className:l.default.cartPage,children:[(0,b.jsx)("h1",{className:l.default.title,children:"Cart"}),(0,b.jsxs)("div",{className:l.default.emptyCart,children:[(0,b.jsx)("p",{children:"Your cart is empty."}),(0,b.jsx)(d.default,{href:"/shop",children:(0,b.jsx)(i.Button,{children:"Continue Shopping"})})]})]})}):(0,b.jsx)(h.Container,{children:(0,b.jsxs)("div",{className:l.default.cartPage,children:[(0,b.jsx)("h1",{className:l.default.title,children:"Cart"}),(0,b.jsx)("div",{className:l.default.loading,children:"Loading cart..."})]})})}a.s(["default",()=>m],28710)}];

//# sourceMappingURL=src_840f6a58._.js.map