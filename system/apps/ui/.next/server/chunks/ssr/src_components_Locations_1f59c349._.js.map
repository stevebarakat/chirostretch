{"version":3,"sources":["turbopack:///[project]/src/components/Locations/LocationMapWrapper.module.css [app-ssr] (css module)","../../../../src/components/Locations/LocationMapWrapper.tsx","turbopack:///[project]/src/components/Locations/LocationCard/LocationCard.module.css [app-ssr] (css module)","turbopack:///[project]/src/components/Locations/LocationsSearch/InfiniteLocationsHits.module.css [app-ssr] (css module)","../../../../src/components/Locations/LocationsSearch/LocationsSearch.tsx","../../../../src/components/Locations/LocationsSearch/InfiniteLocationsHits.tsx","../../../../src/components/Locations/LocationCard/LocationCard.tsx"],"sourcesContent":["__turbopack_context__.v({\n  \"placeholder\": \"LocationMapWrapper-module__G3pDaW__placeholder\",\n});\n","\"use client\";\n\nimport dynamic from \"next/dynamic\";\nimport styles from \"./LocationMapWrapper.module.css\";\n\nconst LocationMap = dynamic(\n  () => import(\"./LocationMap\").then((mod) => mod.default),\n  {\n    ssr: false,\n    loading: () => <div className={styles.placeholder}>Loading map...</div>,\n  }\n);\n\ntype LocationMapWrapperProps = {\n  title?: string;\n  coordinates?: {\n    lat?: number | null;\n    lng?: number | null;\n  };\n  address?: string;\n  mapEmbed?: string;\n};\n\nexport default function LocationMapWrapper(props: LocationMapWrapperProps) {\n  return <LocationMap {...props} />;\n}\n","__turbopack_context__.v({\n  \"card\": \"LocationCard-module__aB1IFG__card\",\n  \"cardTitle\": \"LocationCard-module__aB1IFG__cardTitle\",\n  \"content\": \"LocationCard-module__aB1IFG__content\",\n  \"description\": \"LocationCard-module__aB1IFG__description\",\n  \"mapWrapper\": \"LocationCard-module__aB1IFG__mapWrapper\",\n});\n","__turbopack_context__.v({\n  \"cardLink\": \"InfiniteLocationsHits-module__gP-HJG__cardLink\",\n  \"empty\": \"InfiniteLocationsHits-module__gP-HJG__empty\",\n  \"grid\": \"InfiniteLocationsHits-module__gP-HJG__grid\",\n  \"sentinel\": \"InfiniteLocationsHits-module__gP-HJG__sentinel\",\n});\n","\"use client\";\n\nimport { InstantSearch, Configure } from \"react-instantsearch-hooks-web\";\nimport { searchClient, isAlgoliaConfigured } from \"@/lib/search/client\";\nimport { algoliaConfig } from \"@/config/algolia.config\";\nimport { PageHeader } from \"@/components/UI\";\nimport { ErrorState } from \"@/components/UI\";\nimport { AlgoliaSearchBox } from \"@/components/Search\";\nimport { InfiniteLocationsHits } from \"./InfiniteLocationsHits\";\n\nexport function LocationsSearch() {\n  if (!isAlgoliaConfigured() || !searchClient) {\n    return (\n      <ErrorState>\n        Search is not configured. Please check your Algolia settings.\n      </ErrorState>\n    );\n  }\n\n  return (\n    // @ts-expect-error - react-instantsearch types incompatible with React 19\n    <InstantSearch\n      searchClient={\n        searchClient as unknown as Parameters<\n          typeof InstantSearch\n        >[0][\"searchClient\"]\n      }\n      indexName={algoliaConfig.indices.locations}\n    >\n      <Configure hitsPerPage={12} />\n      <PageHeader\n        title=\"Our Locations\"\n        subtitle=\"Find a clinic near you and visit us today\"\n        searchSlot={<AlgoliaSearchBox placeholder=\"Search locations...\" />}\n      />\n      <InfiniteLocationsHits />\n    </InstantSearch>\n  );\n}\n","\"use client\";\n\n// eslint-disable-next-line no-restricted-imports\nimport { useRef, useEffect } from \"react\";\nimport { useInfiniteHits, useSearchBox } from \"react-instantsearch-hooks-web\";\nimport Link from \"next/link\";\nimport { LocationCard } from \"../LocationCard\";\nimport styles from \"./InfiniteLocationsHits.module.css\";\n\ntype LocationHit = {\n  objectID: string;\n  title: string;\n  slug: string;\n  city?: string;\n  state?: string;\n  streetAddress?: string;\n  content?: string;\n  shortDescription?: string;\n  image?: string;\n  imageAlt?: string;\n  latitude?: number | null;\n  longitude?: number | null;\n};\n\nexport function InfiniteLocationsHits() {\n  const { hits, isLastPage, showMore } = useInfiniteHits<LocationHit>();\n  const { query } = useSearchBox();\n  const sentinelRef = useRef<HTMLLIElement>(null);\n\n  // Reason this component must use useEffect:\n  // - Syncing with browser API (IntersectionObserver) for infinite scroll\n  // - IntersectionObserver is a browser API that requires DOM access\n  // - This is a side effect that sets up and cleans up an observer when dependencies change\n  useEffect(() => {\n    const sentinel = sentinelRef.current;\n    if (!sentinel) return;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting && !isLastPage) {\n            showMore();\n          }\n        });\n      },\n      { rootMargin: \"400px\" } // Trigger 400px before reaching bottom\n    );\n\n    observer.observe(sentinel);\n    return () => observer.disconnect();\n  }, [isLastPage, showMore]);\n\n  if (hits.length === 0 && query) {\n    return (\n      <div className={styles.empty}>\n        <p>No locations found for &ldquo;{query}&rdquo;</p>\n      </div>\n    );\n  }\n\n  if (hits.length === 0) {\n    return (\n      <div className={styles.empty}>\n        <p>No locations available.</p>\n      </div>\n    );\n  }\n\n  return (\n    <ul className={styles.grid}>\n      {hits.map((hit) => (\n        <li key={hit.objectID}>\n          <Link href={`/locations/${hit.slug}`} className={styles.cardLink}>\n            <LocationCard\n              title={hit.title}\n              content={hit.shortDescription || hit.content}\n              coordinates={{\n                lat: hit.latitude,\n                lng: hit.longitude,\n              }}\n            />\n          </Link>\n        </li>\n      ))}\n      <li ref={sentinelRef} aria-hidden=\"true\" className={styles.sentinel} />\n    </ul>\n  );\n}\n","import LocationMapWrapper from \"@/components/Locations/LocationMapWrapper\";\nimport styles from \"./LocationCard.module.css\";\n\ntype LocationCardProps = {\n  title: string;\n  content?: string;\n  coordinates?: {\n    lat?: number | null;\n    lng?: number | null;\n  };\n};\n\nexport function LocationCard({\n  title,\n  content,\n  coordinates,\n}: LocationCardProps) {\n  return (\n    <article className={styles.card}>\n      <div className={styles.content}>\n        <h3 className={styles.cardTitle}>{title}</h3>\n        {content && <p className={styles.description}>{content}</p>}\n      </div>\n      <div className={styles.mapWrapper}>\n        <LocationMapWrapper title={title} coordinates={coordinates} />\n      </div>\n    </article>\n  );\n}\n"],"names":[],"mappings":"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"}