{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/app/api/revalidate/route.ts"],"sourcesContent":["import { revalidateTag } from \"next/cache\";\nimport { NextRequest, NextResponse } from \"next/server\";\n\nexport async function POST(request: NextRequest) {\n  const secret = request.nextUrl.searchParams.get(\"secret\");\n\n  if (secret !== process.env.REVALIDATE_SECRET) {\n    return NextResponse.json({ message: \"Invalid secret\" }, { status: 401 });\n  }\n\n  try {\n    const body = await request.json().catch(() => ({}));\n    const tag = body.tag || \"wordpress-content\";\n    const reason = body.reason || \"manual\";\n\n    revalidateTag(tag, \"default\");\n\n    console.log(`[revalidate] tag=${tag} reason=${reason}`);\n\n    return NextResponse.json({\n      revalidated: true,\n      tag,\n      reason,\n      now: Date.now(),\n    });\n  } catch (err) {\n    console.error(\"[revalidate] error:\", err);\n    return NextResponse.json(\n      {\n        message: \"Error revalidating\",\n        error: err instanceof Error ? err.message : String(err),\n      },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAoB;IAC7C,MAAM,SAAS,QAAQ,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC;IAEhD,IAAI,WAAW,QAAQ,GAAG,CAAC,iBAAiB,EAAE;QAC5C,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAiB,GAAG;YAAE,QAAQ;QAAI;IACxE;IAEA,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QACjD,MAAM,MAAM,KAAK,GAAG,IAAI;QACxB,MAAM,SAAS,KAAK,MAAM,IAAI;QAE9B,IAAA,gJAAa,EAAC,KAAK;QAEnB,QAAQ,GAAG,CAAC,CAAC,iBAAiB,EAAE,IAAI,QAAQ,EAAE,QAAQ;QAEtD,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,aAAa;YACb;YACA;YACA,KAAK,KAAK,GAAG;QACf;IACF,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,gJAAY,CAAC,IAAI,CACtB;YACE,SAAS;YACT,OAAO,eAAe,QAAQ,IAAI,OAAO,GAAG,OAAO;QACrD,GACA;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}