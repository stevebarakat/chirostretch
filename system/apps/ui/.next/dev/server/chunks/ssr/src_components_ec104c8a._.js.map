{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Events/EventsContext.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useRef, useCallback, useMemo } from \"react\";\n\ntype ScrollToEventFn = (slug: string) => void;\n\ntype EventsContextValue = {\n  scrollToEvent: (slug: string) => void;\n  registerScrollToEvent: (fn: ScrollToEventFn) => void;\n};\n\nconst EventsContext = createContext<EventsContextValue | null>(null);\n\nexport function EventsProvider({ children }: { children: React.ReactNode }) {\n  const scrollToEventRef = useRef<ScrollToEventFn | null>(null);\n\n  const registerScrollToEvent = useCallback((fn: ScrollToEventFn) => {\n    scrollToEventRef.current = fn;\n  }, []);\n\n  const scrollToEvent = useCallback((slug: string) => {\n    scrollToEventRef.current?.(slug);\n  }, []);\n\n  const value = useMemo(\n    () => ({ scrollToEvent, registerScrollToEvent }),\n    [scrollToEvent, registerScrollToEvent]\n  );\n\n  return (\n    <EventsContext.Provider value={value}>{children}</EventsContext.Provider>\n  );\n}\n\nexport function useEventsContext() {\n  return useContext(EventsContext);\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAWA,MAAM,8BAAgB,IAAA,sNAAa,EAA4B;AAExD,SAAS,eAAe,EAAE,QAAQ,EAAiC;IACxE,MAAM,mBAAmB,IAAA,+MAAM,EAAyB;IAExD,MAAM,wBAAwB,IAAA,oNAAW,EAAC,CAAC;QACzC,iBAAiB,OAAO,GAAG;IAC7B,GAAG,EAAE;IAEL,MAAM,gBAAgB,IAAA,oNAAW,EAAC,CAAC;QACjC,iBAAiB,OAAO,GAAG;IAC7B,GAAG,EAAE;IAEL,MAAM,QAAQ,IAAA,gNAAO,EACnB,IAAM,CAAC;YAAE;YAAe;QAAsB,CAAC,GAC/C;QAAC;QAAe;KAAsB;IAGxC,qBACE,8OAAC,cAAc,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAE3C;AAEO,SAAS;IACd,OAAO,IAAA,mNAAU,EAAC;AACpB"}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Search/EventSearchModal.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  InstantSearch,\n  useSearchBox,\n  useHits,\n  Configure,\n} from \"react-instantsearch-hooks-web\";\nimport { searchClient, isAlgoliaConfigured } from \"@/lib/search/client\";\nimport { algoliaConfig } from \"@/config/algolia.config\";\nimport Image from \"next/image\";\nimport { X, Calendar } from \"lucide-react\";\nimport { Modal } from \"@/components/UI\";\nimport { useEventsContext } from \"@/components/Events/EventsContext\";\nimport styles from \"./SearchModal.module.css\";\n\ntype EventSearchModalProps = {\n  isOpen: boolean;\n  onClose: () => void;\n};\n\nfunction SearchBox() {\n  const { query, refine } = useSearchBox();\n  const inputValue = query || \"\";\n\n  function handleChange(e: React.ChangeEvent<HTMLInputElement>) {\n    refine(e.target.value);\n  }\n\n  return (\n    <input\n      type=\"search\"\n      value={inputValue}\n      onChange={handleChange}\n      placeholder=\"Search by event name, location, or date...\"\n      className={styles.searchBox}\n      autoFocus\n    />\n  );\n}\n\ntype EventHit = {\n  objectID: string;\n  title: string;\n  slug: string;\n  startDate?: string;\n  venue?: string;\n  venueCity?: string;\n  venueState?: string;\n  image?: string;\n  imageAlt?: string;\n};\n\nfunction formatDate(startDate?: string): string {\n  if (!startDate) return \"\";\n  return new Date(startDate).toLocaleDateString(\"en-US\", {\n    weekday: \"short\",\n    month: \"short\",\n    day: \"numeric\",\n  });\n}\n\ntype HitComponentProps = {\n  hit: EventHit;\n  onSelect: (slug: string) => void;\n};\n\nfunction EventHitComponent({ hit, onSelect }: HitComponentProps) {\n  const locationParts = [hit.venueCity, hit.venueState]\n    .filter(Boolean)\n    .join(\", \");\n\n  return (\n    <button\n      type=\"button\"\n      className={styles.hit}\n      onClick={() => onSelect(hit.slug)}\n    >\n      <div className={styles.hitImage}>\n        {hit.image ? (\n          <Image\n            src={hit.image}\n            alt={hit.imageAlt || hit.title}\n            width={80}\n            height={80}\n            className={styles.hitImageInner}\n          />\n        ) : (\n          <Calendar\n            size={32}\n            style={{ margin: \"auto\", color: \"var(--color-text-tertiary)\" }}\n          />\n        )}\n      </div>\n      <div className={styles.hitContent}>\n        <h3 className={styles.hitTitle}>{hit.title}</h3>\n        {hit.startDate && (\n          <p className={styles.hitExcerpt}>{formatDate(hit.startDate)}</p>\n        )}\n        {locationParts && <p className={styles.hitExcerpt}>{locationParts}</p>}\n      </div>\n    </button>\n  );\n}\n\ntype SearchResultsProps = {\n  onSelect: (slug: string) => void;\n};\n\nfunction SearchResults({ onSelect }: SearchResultsProps) {\n  const { hits } = useHits<EventHit>();\n  const { query } = useSearchBox();\n\n  if (!query || query.trim() === \"\") {\n    return (\n      <div className={styles.noResults}>\n        <p>Search for events by name, location, or keyword.</p>\n      </div>\n    );\n  }\n\n  if (hits.length === 0) {\n    return (\n      <div className={styles.noResults}>\n        <p>No events found for &quot;{query}&quot;.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.results}>\n      {hits.map((hit) => (\n        <EventHitComponent key={hit.objectID} hit={hit} onSelect={onSelect} />\n      ))}\n    </div>\n  );\n}\n\nexport default function EventSearchModal({\n  isOpen,\n  onClose,\n}: EventSearchModalProps) {\n  const eventsContext = useEventsContext();\n\n  function handleEventSelect(slug: string) {\n    eventsContext?.scrollToEvent(slug);\n    onClose();\n  }\n\n  return (\n    <Modal\n      open={isOpen}\n      onClose={onClose}\n      showCloseButton={false}\n      className={styles.modal}\n    >\n      <div className={styles.content}>\n        <div className={styles.header}>\n          <h2 className={styles.title}>Search Events</h2>\n          <button\n            type=\"button\"\n            onClick={onClose}\n            className={styles.closeButton}\n            aria-label=\"Close search\"\n          >\n            <X size={24} />\n          </button>\n        </div>\n        {!isAlgoliaConfigured() || !searchClient ? (\n          <div className={styles.noResults}>\n            <p>Search is not configured.</p>\n          </div>\n        ) : (\n          <InstantSearch\n            searchClient={\n              searchClient as unknown as Parameters<\n                typeof InstantSearch\n              >[0][\"searchClient\"]\n            }\n            indexName={algoliaConfig.indices.events}\n          >\n            <Configure hitsPerPage={10} />\n            <SearchBox />\n            <SearchResults onSelect={handleEventSelect} />\n          </InstantSearch>\n        )}\n      </div>\n    </Modal>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 349, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Search/AlgoliaSearchBox.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"clearButton\": \"AlgoliaSearchBox-module__CZD6La__clearButton\",\n  \"search\": \"AlgoliaSearchBox-module__CZD6La__search\",\n  \"searchIcon\": \"AlgoliaSearchBox-module__CZD6La__searchIcon\",\n  \"searchInput\": \"AlgoliaSearchBox-module__CZD6La__searchInput\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 359, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Search/AlgoliaSearchBox.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSearchBox } from \"react-instantsearch-hooks-web\";\nimport { Search, X } from \"lucide-react\";\nimport styles from \"./AlgoliaSearchBox.module.css\";\n\ntype AlgoliaSearchBoxProps = {\n  placeholder?: string;\n};\n\nexport function AlgoliaSearchBox({\n  placeholder = \"Search...\",\n}: AlgoliaSearchBoxProps) {\n  const { query, refine, clear } = useSearchBox();\n\n  return (\n    <div className={styles.search}>\n      <Search className={styles.searchIcon} size={20} aria-hidden=\"true\" />\n      <input\n        type=\"search\"\n        value={query}\n        onChange={(e) => refine(e.target.value)}\n        placeholder={placeholder}\n        className={styles.searchInput}\n        aria-label={placeholder}\n      />\n      {query && (\n        <button\n          type=\"button\"\n          onClick={() => clear()}\n          className={styles.clearButton}\n          aria-label=\"Clear search\"\n        >\n          <X size={16} />\n        </button>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAJA;;;;;AAUO,SAAS,iBAAiB,EAC/B,cAAc,WAAW,EACH;IACtB,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,2MAAY;IAE7C,qBACE,8OAAC;QAAI,WAAW,sKAAM,CAAC,MAAM;;0BAC3B,8OAAC,gNAAM;gBAAC,WAAW,sKAAM,CAAC,UAAU;gBAAE,MAAM;gBAAI,eAAY;;;;;;0BAC5D,8OAAC;gBACC,MAAK;gBACL,OAAO;gBACP,UAAU,CAAC,IAAM,OAAO,EAAE,MAAM,CAAC,KAAK;gBACtC,aAAa;gBACb,WAAW,sKAAM,CAAC,WAAW;gBAC7B,cAAY;;;;;;YAEb,uBACC,8OAAC;gBACC,MAAK;gBACL,SAAS,IAAM;gBACf,WAAW,sKAAM,CAAC,WAAW;gBAC7B,cAAW;0BAEX,cAAA,8OAAC,iMAAC;oBAAC,MAAM;;;;;;;;;;;;;;;;;AAKnB"}},
    {"offset": {"line": 427, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Search/index.ts"],"sourcesContent":["export { default as SearchModal } from \"./SearchModal\";\nexport { default as LocationSearchModal } from \"./LocationSearchModal\";\nexport { default as EventSearchModal } from \"./EventSearchModal\";\nexport { AlgoliaSearchBox } from \"./AlgoliaSearchBox\";\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 439, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Articles/ArticleCard/ArticleCard.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"card\": \"ArticleCard-module__weuz2a__card\",\n  \"cardTitle\": \"ArticleCard-module__weuz2a__cardTitle\",\n  \"category\": \"ArticleCard-module__weuz2a__category\",\n  \"content\": \"ArticleCard-module__weuz2a__content\",\n  \"excerpt\": \"ArticleCard-module__weuz2a__excerpt\",\n  \"image\": \"ArticleCard-module__weuz2a__image\",\n  \"imageLink\": \"ArticleCard-module__weuz2a__imageLink\",\n  \"imageWrapper\": \"ArticleCard-module__weuz2a__imageWrapper\",\n  \"readMore\": \"ArticleCard-module__weuz2a__readMore\",\n  \"tag\": \"ArticleCard-module__weuz2a__tag\",\n  \"taxonomies\": \"ArticleCard-module__weuz2a__taxonomies\",\n  \"taxonomyLabel\": \"ArticleCard-module__weuz2a__taxonomyLabel\",\n  \"taxonomyList\": \"ArticleCard-module__weuz2a__taxonomyList\",\n  \"taxonomyRow\": \"ArticleCard-module__weuz2a__taxonomyRow\",\n  \"titleLink\": \"ArticleCard-module__weuz2a__titleLink\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 460, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Articles/ArticleCard/ArticleCard.tsx"],"sourcesContent":["import Image from \"next/image\";\nimport Link from \"next/link\";\nimport { ImageWrapper } from \"@/components/UI\";\nimport { NoImage } from \"@/components/UI\";\nimport styles from \"./ArticleCard.module.css\";\n\ntype TaxonomyItem = {\n  name: string;\n  slug: string;\n};\n\ntype ArticleCardProps = {\n  title: string;\n  slug: string;\n  image?: string;\n  imageAlt?: string;\n  excerpt?: string;\n  tags?: TaxonomyItem[];\n  categories?: TaxonomyItem[];\n};\n\nfunction cleanExcerpt(excerpt: string): string {\n  return excerpt\n    .replace(/\\[&hellip;]|\\[…]|&hellip;|…$/g, \"\")\n    .trim();\n}\n\nexport function ArticleCard({\n  title,\n  slug,\n  image,\n  imageAlt,\n  excerpt,\n  tags = [],\n  categories = [],\n}: ArticleCardProps) {\n  const hasTaxonomies = tags.length > 0 || categories.length > 0;\n  const articleUrl = `/articles/${slug}`;\n  const cleanedExcerpt = excerpt ? cleanExcerpt(excerpt) : \"\";\n\n  return (\n    <article className={styles.card}>\n      <Link href={articleUrl} className={styles.imageLink}>\n        {image ? (\n          <ImageWrapper className={styles.imageWrapper}>\n            <Image\n              src={image}\n              alt={imageAlt || title || \"Article image\"}\n              fill\n              className={styles.image}\n              sizes=\"(max-width: 639px) 100vw, 320px\"\n            />\n          </ImageWrapper>\n        ) : (\n          <ImageWrapper className={styles.imageWrapper}>\n            <NoImage />\n          </ImageWrapper>\n        )}\n      </Link>\n      <div className={styles.content}>\n        <h3 className={styles.cardTitle}>\n          <Link href={articleUrl} className={styles.titleLink}>\n            {title}\n          </Link>\n        </h3>\n        {cleanedExcerpt && (\n          <p className={styles.excerpt}>\n            {cleanedExcerpt}\n            <Link href={articleUrl} className={styles.readMore}>\n              Read more\n            </Link>\n          </p>\n        )}\n        {hasTaxonomies && (\n          <div className={styles.taxonomies}>\n            {tags.length > 0 && (\n              <div className={styles.taxonomyRow}>\n                <span className={styles.taxonomyLabel}>Tags:</span>\n                <div className={styles.taxonomyList}>\n                  {tags.map((tag) => (\n                    <Link\n                      key={tag.slug}\n                      href={`/tag/${tag.slug}`}\n                      className={styles.tag}\n                    >\n                      {tag.name}\n                    </Link>\n                  ))}\n                </div>\n              </div>\n            )}\n            {categories.length > 0 && (\n              <div className={styles.taxonomyRow}>\n                <span className={styles.taxonomyLabel}>\n                  {categories.length === 1 ? \"Category:\" : \"Categories:\"}\n                </span>\n                <div className={styles.taxonomyList}>\n                  {categories.map((category) => (\n                    <Link\n                      key={category.slug}\n                      href={`/category/${category.slug}`}\n                      className={styles.category}\n                    >\n                      {category.name}\n                    </Link>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </article>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;AACA;AACA;;;;;;;AAiBA,SAAS,aAAa,OAAe;IACnC,OAAO,QACJ,OAAO,CAAC,iCAAiC,IACzC,IAAI;AACT;AAEO,SAAS,YAAY,EAC1B,KAAK,EACL,IAAI,EACJ,KAAK,EACL,QAAQ,EACR,OAAO,EACP,OAAO,EAAE,EACT,aAAa,EAAE,EACE;IACjB,MAAM,gBAAgB,KAAK,MAAM,GAAG,KAAK,WAAW,MAAM,GAAG;IAC7D,MAAM,aAAa,CAAC,UAAU,EAAE,MAAM;IACtC,MAAM,iBAAiB,UAAU,aAAa,WAAW;IAEzD,qBACE,8OAAC;QAAQ,WAAW,kLAAM,CAAC,IAAI;;0BAC7B,8OAAC,uKAAI;gBAAC,MAAM;gBAAY,WAAW,kLAAM,CAAC,SAAS;0BAChD,sBACC,8OAAC,iLAAY;oBAAC,WAAW,kLAAM,CAAC,YAAY;8BAC1C,cAAA,8OAAC,wIAAK;wBACJ,KAAK;wBACL,KAAK,YAAY,SAAS;wBAC1B,IAAI;wBACJ,WAAW,kLAAM,CAAC,KAAK;wBACvB,OAAM;;;;;;;;;;yCAIV,8OAAC,iLAAY;oBAAC,WAAW,kLAAM,CAAC,YAAY;8BAC1C,cAAA,8OAAC,kKAAO;;;;;;;;;;;;;;;0BAId,8OAAC;gBAAI,WAAW,kLAAM,CAAC,OAAO;;kCAC5B,8OAAC;wBAAG,WAAW,kLAAM,CAAC,SAAS;kCAC7B,cAAA,8OAAC,uKAAI;4BAAC,MAAM;4BAAY,WAAW,kLAAM,CAAC,SAAS;sCAChD;;;;;;;;;;;oBAGJ,gCACC,8OAAC;wBAAE,WAAW,kLAAM,CAAC,OAAO;;4BACzB;0CACD,8OAAC,uKAAI;gCAAC,MAAM;gCAAY,WAAW,kLAAM,CAAC,QAAQ;0CAAE;;;;;;;;;;;;oBAKvD,+BACC,8OAAC;wBAAI,WAAW,kLAAM,CAAC,UAAU;;4BAC9B,KAAK,MAAM,GAAG,mBACb,8OAAC;gCAAI,WAAW,kLAAM,CAAC,WAAW;;kDAChC,8OAAC;wCAAK,WAAW,kLAAM,CAAC,aAAa;kDAAE;;;;;;kDACvC,8OAAC;wCAAI,WAAW,kLAAM,CAAC,YAAY;kDAChC,KAAK,GAAG,CAAC,CAAC,oBACT,8OAAC,uKAAI;gDAEH,MAAM,CAAC,KAAK,EAAE,IAAI,IAAI,EAAE;gDACxB,WAAW,kLAAM,CAAC,GAAG;0DAEpB,IAAI,IAAI;+CAJJ,IAAI,IAAI;;;;;;;;;;;;;;;;4BAUtB,WAAW,MAAM,GAAG,mBACnB,8OAAC;gCAAI,WAAW,kLAAM,CAAC,WAAW;;kDAChC,8OAAC;wCAAK,WAAW,kLAAM,CAAC,aAAa;kDAClC,WAAW,MAAM,KAAK,IAAI,cAAc;;;;;;kDAE3C,8OAAC;wCAAI,WAAW,kLAAM,CAAC,YAAY;kDAChC,WAAW,GAAG,CAAC,CAAC,yBACf,8OAAC,uKAAI;gDAEH,MAAM,CAAC,UAAU,EAAE,SAAS,IAAI,EAAE;gDAClC,WAAW,kLAAM,CAAC,QAAQ;0DAEzB,SAAS,IAAI;+CAJT,SAAS,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAexC"}},
    {"offset": {"line": 654, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Articles/ArticleCard/index.ts"],"sourcesContent":["export { ArticleCard } from \"./ArticleCard\";\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 660, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Articles/ArticlesSearch/InfiniteArticlesHits.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"empty\": \"InfiniteArticlesHits-module__4BegZa__empty\",\n  \"grid\": \"InfiniteArticlesHits-module__4BegZa__grid\",\n  \"sentinel\": \"InfiniteArticlesHits-module__4BegZa__sentinel\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 669, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Articles/ArticlesSearch/InfiniteArticlesHits.tsx"],"sourcesContent":["\"use client\";\n\n// eslint-disable-next-line no-restricted-imports\nimport { useRef, useEffect } from \"react\";\nimport { useInfiniteHits, useSearchBox } from \"react-instantsearch-hooks-web\";\nimport { ArticleCard } from \"../ArticleCard\";\nimport styles from \"./InfiniteArticlesHits.module.css\";\n\ntype ArticleHit = {\n  objectID: string;\n  title: string;\n  slug: string;\n  excerpt?: string;\n  image?: string;\n  imageAlt?: string;\n  categories?: string[];\n  categorySlugs?: string[];\n  tags?: string[];\n  tagSlugs?: string[];\n};\n\nfunction buildTaxonomyItems(\n  names: string[] = [],\n  slugs: string[] = []\n): { name: string; slug: string }[] {\n  return names\n    .map((name, i) => ({ name, slug: slugs[i] || \"\" }))\n    .filter((item) => item.slug);\n}\n\nexport function InfiniteArticlesHits() {\n  const { hits, isLastPage, showMore } = useInfiniteHits<ArticleHit>();\n  const { query } = useSearchBox();\n  const sentinelRef = useRef<HTMLLIElement>(null);\n\n  // Reason this component must use useEffect:\n  // - Syncing with browser API (IntersectionObserver) for infinite scroll\n  // - IntersectionObserver is a browser API that requires DOM access\n  // - This is a side effect that sets up and cleans up an observer when dependencies change\n  useEffect(() => {\n    const sentinel = sentinelRef.current;\n    if (!sentinel) return;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting && !isLastPage) {\n            showMore();\n          }\n        });\n      },\n      { rootMargin: \"400px\" }\n    );\n\n    observer.observe(sentinel);\n    return () => observer.disconnect();\n  }, [isLastPage, showMore]);\n\n  if (hits.length === 0 && query) {\n    return (\n      <div className={styles.empty}>\n        <p>No articles found for &ldquo;{query}&rdquo;</p>\n      </div>\n    );\n  }\n\n  if (hits.length === 0) {\n    return (\n      <div className={styles.empty}>\n        <p>No articles available.</p>\n      </div>\n    );\n  }\n\n  return (\n    <ul className={styles.grid}>\n      {hits.map((hit) => (\n        <li key={hit.objectID}>\n          <ArticleCard\n            title={hit.title}\n            slug={hit.slug}\n            image={hit.image}\n            imageAlt={hit.imageAlt}\n            excerpt={hit.excerpt}\n            tags={buildTaxonomyItems(hit.tags, hit.tagSlugs)}\n            categories={buildTaxonomyItems(hit.categories, hit.categorySlugs)}\n          />\n        </li>\n      ))}\n      <li ref={sentinelRef} aria-hidden=\"true\" className={styles.sentinel} />\n    </ul>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA,iDAAiD;AACjD;AACA;AAAA;AACA;AAAA;AACA;AANA;;;;;;AAqBA,SAAS,mBACP,QAAkB,EAAE,EACpB,QAAkB,EAAE;IAEpB,OAAO,MACJ,GAAG,CAAC,CAAC,MAAM,IAAM,CAAC;YAAE;YAAM,MAAM,KAAK,CAAC,EAAE,IAAI;QAAG,CAAC,GAChD,MAAM,CAAC,CAAC,OAAS,KAAK,IAAI;AAC/B;AAEO,SAAS;IACd,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,IAAA,iNAAe;IACtD,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,2MAAY;IAC9B,MAAM,cAAc,IAAA,+MAAM,EAAgB;IAE1C,4CAA4C;IAC5C,wEAAwE;IACxE,mEAAmE;IACnE,0FAA0F;IAC1F,IAAA,kNAAS,EAAC;QACR,MAAM,WAAW,YAAY,OAAO;QACpC,IAAI,CAAC,UAAU;QAEf,MAAM,WAAW,IAAI,qBACnB,CAAC;YACC,QAAQ,OAAO,CAAC,CAAC;gBACf,IAAI,MAAM,cAAc,IAAI,CAAC,YAAY;oBACvC;gBACF;YACF;QACF,GACA;YAAE,YAAY;QAAQ;QAGxB,SAAS,OAAO,CAAC;QACjB,OAAO,IAAM,SAAS,UAAU;IAClC,GAAG;QAAC;QAAY;KAAS;IAEzB,IAAI,KAAK,MAAM,KAAK,KAAK,OAAO;QAC9B,qBACE,8OAAC;YAAI,WAAW,8LAAM,CAAC,KAAK;sBAC1B,cAAA,8OAAC;;oBAAE;oBAA8B;oBAAM;;;;;;;;;;;;IAG7C;IAEA,IAAI,KAAK,MAAM,KAAK,GAAG;QACrB,qBACE,8OAAC;YAAI,WAAW,8LAAM,CAAC,KAAK;sBAC1B,cAAA,8OAAC;0BAAE;;;;;;;;;;;IAGT;IAEA,qBACE,8OAAC;QAAG,WAAW,8LAAM,CAAC,IAAI;;YACvB,KAAK,GAAG,CAAC,CAAC,oBACT,8OAAC;8BACC,cAAA,8OAAC,2KAAW;wBACV,OAAO,IAAI,KAAK;wBAChB,MAAM,IAAI,IAAI;wBACd,OAAO,IAAI,KAAK;wBAChB,UAAU,IAAI,QAAQ;wBACtB,SAAS,IAAI,OAAO;wBACpB,MAAM,mBAAmB,IAAI,IAAI,EAAE,IAAI,QAAQ;wBAC/C,YAAY,mBAAmB,IAAI,UAAU,EAAE,IAAI,aAAa;;;;;;mBAR3D,IAAI,QAAQ;;;;;0BAYvB,8OAAC;gBAAG,KAAK;gBAAa,eAAY;gBAAO,WAAW,8LAAM,CAAC,QAAQ;;;;;;;;;;;;AAGzE"}},
    {"offset": {"line": 797, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Articles/ArticlesSearch/ArticlesSearch.tsx"],"sourcesContent":["\"use client\";\n\nimport { InstantSearch, Configure } from \"react-instantsearch-hooks-web\";\nimport { searchClient, isAlgoliaConfigured } from \"@/lib/search/client\";\nimport { algoliaConfig } from \"@/config/algolia.config\";\nimport { PageHeader } from \"@/components/UI\";\nimport { ErrorState } from \"@/components/UI\";\nimport { AlgoliaSearchBox } from \"@/components/Search\";\nimport { InfiniteArticlesHits } from \"./InfiniteArticlesHits\";\n\nexport function ArticlesSearch() {\n  if (!isAlgoliaConfigured() || !searchClient) {\n    return (\n      <ErrorState>Search is not configured. Please check your Algolia settings.</ErrorState>\n    );\n  }\n\n  return (\n    <InstantSearch\n      searchClient={searchClient as unknown as Parameters<typeof InstantSearch>[0][\"searchClient\"]}\n      indexName={algoliaConfig.indices.articles}\n    >\n      <Configure hitsPerPage={12} />\n      <PageHeader\n        title=\"Articles\"\n        subtitle=\"Insights, tips, and updates from our team\"\n        searchSlot={<AlgoliaSearchBox placeholder=\"Search articles...\" />}\n      />\n      <InfiniteArticlesHits />\n    </InstantSearch>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AARA;;;;;;;;;AAUO,SAAS;IACd,IAAI,CAAC,IAAA,qJAAmB,OAAM,CAAC,8IAAY,EAAE;QAC3C,qBACE,8OAAC,8KAAU;sBAAC;;;;;;IAEhB;IAEA,qBACE,8OAAC,6MAAa;QACZ,cAAc,8IAAY;QAC1B,WAAW,mJAAa,CAAC,OAAO,CAAC,QAAQ;;0BAEzC,8OAAC,qMAAS;gBAAC,aAAa;;;;;;0BACxB,8OAAC,qNAAU;gBACT,OAAM;gBACN,UAAS;gBACT,0BAAY,8OAAC,oKAAgB;oBAAC,aAAY;;;;;;;;;;;0BAE5C,8OAAC,gMAAoB;;;;;;;;;;;AAG3B"}},
    {"offset": {"line": 873, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Articles/ArticlesSearch/ArticlesTaxonomySearch.tsx"],"sourcesContent":["\"use client\";\n\nimport { InstantSearch, Configure } from \"react-instantsearch-hooks-web\";\nimport { searchClient, isAlgoliaConfigured } from \"@/lib/search/client\";\nimport { algoliaConfig } from \"@/config/algolia.config\";\nimport { PageHeader } from \"@/components/UI\";\nimport { ErrorState } from \"@/components/UI\";\nimport { AlgoliaSearchBox } from \"@/components/Search\";\nimport { InfiniteArticlesHits } from \"./InfiniteArticlesHits\";\n\ntype ArticlesTaxonomySearchProps = {\n  taxonomyType: \"category\" | \"tag\";\n  slug: string;\n  title: string;\n  subtitle?: string;\n};\n\nexport function ArticlesTaxonomySearch({\n  taxonomyType,\n  slug,\n  title,\n  subtitle,\n}: ArticlesTaxonomySearchProps) {\n  if (!isAlgoliaConfigured() || !searchClient) {\n    return (\n      <ErrorState>\n        Search is not configured. Please check your Algolia settings.\n      </ErrorState>\n    );\n  }\n\n  const filterAttribute =\n    taxonomyType === \"category\" ? \"categorySlugs\" : \"tagSlugs\";\n  const filters = `${filterAttribute}:${slug}`;\n\n  return (\n    <InstantSearch\n      searchClient={\n        searchClient as unknown as Parameters<typeof InstantSearch>[0][\"searchClient\"]\n      }\n      indexName={algoliaConfig.indices.articles}\n    >\n      <Configure hitsPerPage={12} filters={filters} />\n      <PageHeader\n        title={title}\n        subtitle={subtitle || `Browse ${title} articles`}\n        searchSlot={<AlgoliaSearchBox placeholder=\"Search articles...\" />}\n      />\n      <InfiniteArticlesHits />\n    </InstantSearch>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AARA;;;;;;;;;AAiBO,SAAS,uBAAuB,EACrC,YAAY,EACZ,IAAI,EACJ,KAAK,EACL,QAAQ,EACoB;IAC5B,IAAI,CAAC,IAAA,qJAAmB,OAAM,CAAC,8IAAY,EAAE;QAC3C,qBACE,8OAAC,8KAAU;sBAAC;;;;;;IAIhB;IAEA,MAAM,kBACJ,iBAAiB,aAAa,kBAAkB;IAClD,MAAM,UAAU,GAAG,gBAAgB,CAAC,EAAE,MAAM;IAE5C,qBACE,8OAAC,6MAAa;QACZ,cACE,8IAAY;QAEd,WAAW,mJAAa,CAAC,OAAO,CAAC,QAAQ;;0BAEzC,8OAAC,qMAAS;gBAAC,aAAa;gBAAI,SAAS;;;;;;0BACrC,8OAAC,qNAAU;gBACT,OAAO;gBACP,UAAU,YAAY,CAAC,OAAO,EAAE,MAAM,SAAS,CAAC;gBAChD,0BAAY,8OAAC,oKAAgB;oBAAC,aAAY;;;;;;;;;;;0BAE5C,8OAAC,gMAAoB;;;;;;;;;;;AAG3B"}},
    {"offset": {"line": 951, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/ProductCard/ProductCard.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"addToCartButton\": \"ProductCard-module__g-pugq__addToCartButton\",\n  \"card\": \"ProductCard-module__g-pugq__card\",\n  \"content\": \"ProductCard-module__g-pugq__content\",\n  \"contentInner\": \"ProductCard-module__g-pugq__contentInner\",\n  \"featured\": \"ProductCard-module__g-pugq__featured\",\n  \"image\": \"ProductCard-module__g-pugq__image\",\n  \"imageWrapper\": \"ProductCard-module__g-pugq__imageWrapper\",\n  \"name\": \"ProductCard-module__g-pugq__name\",\n  \"outOfStock\": \"ProductCard-module__g-pugq__outOfStock\",\n  \"overlay\": \"ProductCard-module__g-pugq__overlay\",\n  \"overlayContent\": \"ProductCard-module__g-pugq__overlayContent\",\n  \"price\": \"ProductCard-module__g-pugq__price\",\n  \"priceContainer\": \"ProductCard-module__g-pugq__priceContainer\",\n  \"rating\": \"ProductCard-module__g-pugq__rating\",\n  \"ratingPriceRow\": \"ProductCard-module__g-pugq__ratingPriceRow\",\n  \"regularPrice\": \"ProductCard-module__g-pugq__regularPrice\",\n  \"saleBadge\": \"ProductCard-module__g-pugq__saleBadge\",\n  \"title\": \"ProductCard-module__g-pugq__title\",\n  \"viewItemButton\": \"ProductCard-module__g-pugq__viewItemButton\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 976, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/ProductCard/ProductCard.tsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport Link from \"next/link\";\n// eslint-disable-next-line no-restricted-imports\nimport { useEffect } from \"react\";\nimport { ImageWrapper } from \"@/components/UI\";\nimport { NoImage } from \"@/components/UI\";\nimport { StarRating } from \"@/components/UI\";\nimport { Button } from \"@/components/UI\";\nimport { formatPrice } from \"@/lib/utils/formatPrice\";\nimport { useCartStore } from \"@/stores/useCartStore\";\nimport styles from \"./ProductCard.module.css\";\n\ntype ProductImage = {\n  sourceUrl?: string;\n  altText?: string;\n  srcSet?: string;\n  sizes?: string;\n  mediaDetails?: {\n    width?: number;\n    height?: number;\n  };\n};\n\ntype ProductCardProps = {\n  id?: string;\n  databaseId?: number;\n  name?: string;\n  slug?: string;\n  price?: string;\n  regularPrice?: string;\n  salePrice?: string;\n  image?: ProductImage;\n  featuredImage?: {\n    node?: ProductImage;\n  };\n  averageRating?: number;\n  reviewCount?: number;\n  stockStatus?: string;\n  variant?: \"default\" | \"featured\";\n  priority?: boolean;\n  className?: string;\n};\n\nexport function ProductCard({\n  id,\n  databaseId,\n  name,\n  slug,\n  price,\n  regularPrice,\n  salePrice,\n  image,\n  featuredImage,\n  averageRating,\n  reviewCount,\n  stockStatus,\n  variant = \"default\",\n  priority = false,\n  className,\n}: ProductCardProps) {\n  const addToCart = useCartStore((state) => state.addToCart);\n  const fetchCart = useCartStore((state) => state.fetchCart);\n  const loading = useCartStore((state) => state.loading);\n\n  // Reason this component must use useEffect:\n  // - Syncing with external API (cart data) on component mount\n  // - Server Components cannot handle client-side API calls\n  // - This ensures cart state is available for add-to-cart functionality\n  useEffect(() => {\n    fetchCart();\n  }, [fetchCart]);\n\n  const handleAddToCart = async (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!databaseId) {\n      console.error(\"Cannot add to cart: missing databaseId\");\n      return;\n    }\n\n    try {\n      await addToCart(databaseId, 1);\n    } catch (error) {\n      console.error(\"Failed to add product to cart:\", error);\n    }\n  };\n  const productName = name || \"Product\";\n  const productSlug = slug;\n  const productId = id;\n\n  const imageSource = image || featuredImage?.node;\n  const imageUrl = imageSource?.sourceUrl || \"\";\n  const hasValidImage = imageUrl.length > 0;\n  const imageAlt = imageSource?.altText || productName;\n  const imageSizes = imageSource?.sizes;\n  const imageWidth = imageSource?.mediaDetails?.width;\n  const imageHeight = imageSource?.mediaDetails?.height;\n\n  const rating = averageRating ?? 0;\n  const reviewCountValue = reviewCount ?? 0;\n\n  const isOnSale = salePrice && regularPrice && salePrice !== regularPrice;\n  const displayPrice = salePrice || price || regularPrice;\n  const formattedPrice = displayPrice\n    ? variant === \"default\"\n      ? formatPrice(displayPrice)\n      : displayPrice\n    : null;\n\n  const isOutOfStock = stockStatus === \"OUT_OF_STOCK\";\n  const isInStock = stockStatus === \"IN_STOCK\" || stockStatus === undefined;\n\n  const cardContent = (\n    <>\n      {hasValidImage ? (\n        <ImageWrapper className={styles.imageWrapper}>\n          <Image\n            src={imageUrl}\n            alt={imageAlt}\n            {...(variant === \"featured\"\n              ? {\n                  fill: true,\n                  sizes:\n                    imageSizes ||\n                    \"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw\",\n                }\n              : {\n                  width: imageWidth || 400,\n                  height: imageHeight || 400,\n                  sizes:\n                    \"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw\",\n                })}\n            quality={variant === \"featured\" ? 75 : undefined}\n            className={styles.image}\n            priority={priority}\n            fetchPriority={priority ? \"high\" : \"auto\"}\n          />\n          {isOnSale && <span className={styles.saleBadge}>Sale</span>}\n        </ImageWrapper>\n      ) : (\n        <ImageWrapper className={styles.imageWrapper}>\n          <NoImage />\n        </ImageWrapper>\n      )}\n\n      {variant === \"featured\" && (\n        <div className={styles.overlay}>\n          <div className={styles.overlayContent}>\n            {productName && (\n              <h3 className={styles.name}>{productName}</h3>\n            )}\n            <div className={styles.contentInner}>\n              {(rating > 0 || reviewCountValue > 0) && (\n                <div className={styles.rating}>\n                  <StarRating rating={rating} reviewCount={reviewCountValue} />\n                </div>\n              )}\n              {formattedPrice && (\n                <div className={styles.price}>{formattedPrice}</div>\n              )}\n              {databaseId && (\n                <Button\n                  color=\"secondary\"\n                  variant=\"inverse\"\n                  className={styles.addToCartButton}\n                  onClick={handleAddToCart}\n                  disabled={!isInStock || loading}\n                  aria-description={`Add ${productName} to cart`}\n                >\n                  {loading\n                    ? \"Adding...\"\n                    : isInStock\n                    ? \"Add to Cart\"\n                    : \"Out of Stock\"}\n                </Button>\n              )}\n              {productSlug && !databaseId && (\n                <Button\n                  as=\"a\"\n                  href={`/products/${productSlug}`}\n                  color=\"secondary\"\n                  variant=\"inverse\"\n                  className={styles.viewItemButton}\n                  aria-description={`View details for ${productName}`}\n                >\n                  View Item\n                </Button>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className={styles.content}>\n        {productName && (\n          <h3 className={variant === \"featured\" ? styles.name : styles.title}>\n            {productName}\n          </h3>\n        )}\n\n        {variant === \"featured\" ? (\n          <div className={styles.ratingPriceRow}>\n            {(rating > 0 || reviewCountValue > 0) && (\n              <div className={styles.rating}>\n                <StarRating rating={rating} reviewCount={reviewCountValue} />\n              </div>\n            )}\n            {formattedPrice && (\n              <div className={styles.price}>{formattedPrice}</div>\n            )}\n          </div>\n        ) : (\n          <>\n            {formattedPrice && (\n              <div className={styles.priceContainer}>\n                {isOnSale && regularPrice && (\n                  <span className={styles.regularPrice}>\n                    {formatPrice(regularPrice)}\n                  </span>\n                )}\n                <span className={styles.price}>{formattedPrice}</span>\n              </div>\n            )}\n            {isOutOfStock && (\n              <span className={styles.outOfStock}>Out of Stock</span>\n            )}\n          </>\n        )}\n      </div>\n    </>\n  );\n\n  const cardClassName = [styles.card, styles[variant], className]\n    .filter(Boolean)\n    .join(\" \");\n\n  if (productSlug) {\n    return (\n      <Link\n        href={`/products/${productSlug}`}\n        className={cardClassName}\n        key={productId || productSlug}\n      >\n        {cardContent}\n      </Link>\n    );\n  }\n\n  return (\n    <div className={cardClassName} key={productId}>\n      {cardContent}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1296, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/ProductCard/index.ts"],"sourcesContent":["export { ProductCard } from \"./ProductCard\";\n\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 1302, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Products/ProductsSearch/InfiniteProductsHits.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"empty\": \"InfiniteProductsHits-module__922whq__empty\",\n  \"grid\": \"InfiniteProductsHits-module__922whq__grid\",\n  \"sentinel\": \"InfiniteProductsHits-module__922whq__sentinel\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1311, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Products/ProductsSearch/InfiniteProductsHits.tsx"],"sourcesContent":["\"use client\";\n\n// eslint-disable-next-line no-restricted-imports\nimport { useRef, useEffect } from \"react\";\nimport { useInfiniteHits, useSearchBox } from \"react-instantsearch-hooks-web\";\nimport { ProductCard } from \"@/components/ProductCard\";\nimport { FlipMotion, FlipMotionItem } from \"@/components/UI\";\nimport styles from \"./InfiniteProductsHits.module.css\";\n\ntype ProductHit = {\n  objectID: string;\n  name: string;\n  slug: string;\n  price?: string;\n  regularPrice?: string;\n  salePrice?: string;\n  stockStatus?: string;\n  image?: string;\n  imageAlt?: string;\n  categories?: string;\n  excerpt?: string;\n};\n\nexport function InfiniteProductsHits() {\n  const { hits, isLastPage, showMore } = useInfiniteHits<ProductHit>();\n  const { query } = useSearchBox();\n  const sentinelRef = useRef<HTMLLIElement>(null);\n\n  // Reason this component must use useEffect:\n  // - Syncing with browser API (IntersectionObserver) for infinite scroll\n  // - IntersectionObserver is a browser API that requires DOM access\n  // - This is a side effect that sets up and cleans up an observer when dependencies change\n  useEffect(() => {\n    const sentinel = sentinelRef.current;\n    if (!sentinel) return;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting && !isLastPage) {\n            showMore();\n          }\n        });\n      },\n      { rootMargin: \"400px\" }\n    );\n\n    observer.observe(sentinel);\n    return () => observer.disconnect();\n  }, [isLastPage, showMore]);\n\n  if (hits.length === 0 && query) {\n    return (\n      <div className={styles.empty}>\n        <p>No products found for &ldquo;{query}&rdquo;</p>\n      </div>\n    );\n  }\n\n  if (hits.length === 0) {\n    return (\n      <div className={styles.empty}>\n        <p>No products available.</p>\n      </div>\n    );\n  }\n\n  return (\n    <FlipMotion className={styles.grid} enableExit={false}>\n      {hits.map((hit) => {\n        const databaseId = parseInt(hit.objectID.replace(\"product_\", \"\"), 10);\n\n        return (\n          <FlipMotionItem key={hit.objectID} itemId={hit.objectID}>\n            <ProductCard\n              id={hit.objectID}\n              databaseId={isNaN(databaseId) ? undefined : databaseId}\n              name={hit.name}\n              slug={hit.slug}\n              price={hit.price}\n              regularPrice={hit.regularPrice}\n              salePrice={hit.salePrice}\n              stockStatus={hit.stockStatus}\n              featuredImage={\n                hit.image\n                  ? {\n                      node: {\n                        sourceUrl: hit.image,\n                        altText: hit.imageAlt,\n                      },\n                    }\n                  : undefined\n              }\n            />\n          </FlipMotionItem>\n        );\n      })}\n      <FlipMotionItem\n        ref={sentinelRef}\n        aria-hidden={true}\n        className={styles.sentinel}\n        itemId=\"sentinel\"\n        initialOpacity={0}\n        animateOpacity={0}\n      >\n        {/* Sentinel element for infinite scroll */}\n      </FlipMotionItem>\n    </FlipMotion>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA,iDAAiD;AACjD;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAPA;;;;;;;AAuBO,SAAS;IACd,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,IAAA,iNAAe;IACtD,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,2MAAY;IAC9B,MAAM,cAAc,IAAA,+MAAM,EAAgB;IAE1C,4CAA4C;IAC5C,wEAAwE;IACxE,mEAAmE;IACnE,0FAA0F;IAC1F,IAAA,kNAAS,EAAC;QACR,MAAM,WAAW,YAAY,OAAO;QACpC,IAAI,CAAC,UAAU;QAEf,MAAM,WAAW,IAAI,qBACnB,CAAC;YACC,QAAQ,OAAO,CAAC,CAAC;gBACf,IAAI,MAAM,cAAc,IAAI,CAAC,YAAY;oBACvC;gBACF;YACF;QACF,GACA;YAAE,YAAY;QAAQ;QAGxB,SAAS,OAAO,CAAC;QACjB,OAAO,IAAM,SAAS,UAAU;IAClC,GAAG;QAAC;QAAY;KAAS;IAEzB,IAAI,KAAK,MAAM,KAAK,KAAK,OAAO;QAC9B,qBACE,8OAAC;YAAI,WAAW,8LAAM,CAAC,KAAK;sBAC1B,cAAA,8OAAC;;oBAAE;oBAA8B;oBAAM;;;;;;;;;;;;IAG7C;IAEA,IAAI,KAAK,MAAM,KAAK,GAAG;QACrB,qBACE,8OAAC;YAAI,WAAW,8LAAM,CAAC,KAAK;sBAC1B,cAAA,8OAAC;0BAAE;;;;;;;;;;;IAGT;IAEA,qBACE,8OAAC,6KAAU;QAAC,WAAW,8LAAM,CAAC,IAAI;QAAE,YAAY;;YAC7C,KAAK,GAAG,CAAC,CAAC;gBACT,MAAM,aAAa,SAAS,IAAI,QAAQ,CAAC,OAAO,CAAC,YAAY,KAAK;gBAElE,qBACE,8OAAC,iLAAc;oBAAoB,QAAQ,IAAI,QAAQ;8BACrD,cAAA,8OAAC,+JAAW;wBACV,IAAI,IAAI,QAAQ;wBAChB,YAAY,MAAM,cAAc,YAAY;wBAC5C,MAAM,IAAI,IAAI;wBACd,MAAM,IAAI,IAAI;wBACd,OAAO,IAAI,KAAK;wBAChB,cAAc,IAAI,YAAY;wBAC9B,WAAW,IAAI,SAAS;wBACxB,aAAa,IAAI,WAAW;wBAC5B,eACE,IAAI,KAAK,GACL;4BACE,MAAM;gCACJ,WAAW,IAAI,KAAK;gCACpB,SAAS,IAAI,QAAQ;4BACvB;wBACF,IACA;;;;;;mBAlBW,IAAI,QAAQ;;;;;YAuBrC;0BACA,8OAAC,iLAAc;gBACb,KAAK;gBACL,eAAa;gBACb,WAAW,8LAAM,CAAC,QAAQ;gBAC1B,QAAO;gBACP,gBAAgB;gBAChB,gBAAgB;;;;;;;;;;;;AAMxB"}},
    {"offset": {"line": 1451, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Products/ProductsSearch/ProductsSearch.tsx"],"sourcesContent":["\"use client\";\n\nimport { InstantSearch, Configure } from \"react-instantsearch-hooks-web\";\nimport { searchClient, isAlgoliaConfigured } from \"@/lib/search/client\";\nimport { algoliaConfig } from \"@/config/algolia.config\";\nimport { PageHeader } from \"@/components/UI\";\nimport { ErrorState } from \"@/components/UI\";\nimport { AlgoliaSearchBox } from \"@/components/Search\";\nimport { InfiniteProductsHits } from \"./InfiniteProductsHits\";\n\nexport function ProductsSearch() {\n  if (!isAlgoliaConfigured() || !searchClient) {\n    return (\n      <ErrorState>\n        Search is not configured. Please check your Algolia settings.\n      </ErrorState>\n    );\n  }\n\n  return (\n    <InstantSearch\n      searchClient={\n        searchClient as unknown as Parameters<\n          typeof InstantSearch\n        >[0][\"searchClient\"]\n      }\n      indexName={algoliaConfig.indices.products}\n    >\n      <Configure hitsPerPage={12} />\n      <PageHeader\n        title=\"Shop\"\n        subtitle=\"Browse our collection\"\n        showCart\n        searchSlot={<AlgoliaSearchBox placeholder=\"Search products...\" />}\n      />\n      <InfiniteProductsHits />\n    </InstantSearch>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AARA;;;;;;;;;AAUO,SAAS;IACd,IAAI,CAAC,IAAA,qJAAmB,OAAM,CAAC,8IAAY,EAAE;QAC3C,qBACE,8OAAC,8KAAU;sBAAC;;;;;;IAIhB;IAEA,qBACE,8OAAC,6MAAa;QACZ,cACE,8IAAY;QAId,WAAW,mJAAa,CAAC,OAAO,CAAC,QAAQ;;0BAEzC,8OAAC,qMAAS;gBAAC,aAAa;;;;;;0BACxB,8OAAC,qNAAU;gBACT,OAAM;gBACN,UAAS;gBACT,QAAQ;gBACR,0BAAY,8OAAC,oKAAgB;oBAAC,aAAY;;;;;;;;;;;0BAE5C,8OAAC,gMAAoB;;;;;;;;;;;AAG3B"}},
    {"offset": {"line": 1528, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Products/ProductsSearch/ProductsTaxonomySearch.tsx"],"sourcesContent":["\"use client\";\n\nimport { InstantSearch, Configure } from \"react-instantsearch-hooks-web\";\nimport { searchClient, isAlgoliaConfigured } from \"@/lib/search/client\";\nimport { algoliaConfig } from \"@/config/algolia.config\";\nimport { PageHeader } from \"@/components/UI\";\nimport { ErrorState } from \"@/components/UI\";\nimport { AlgoliaSearchBox } from \"@/components/Search\";\nimport { InfiniteProductsHits } from \"./InfiniteProductsHits\";\n\ntype ProductsTaxonomySearchProps = {\n  taxonomyType: \"category\" | \"tag\";\n  slug: string;\n  title: string;\n  subtitle?: string;\n};\n\nexport function ProductsTaxonomySearch({\n  taxonomyType,\n  slug,\n  title,\n  subtitle,\n}: ProductsTaxonomySearchProps) {\n  if (!isAlgoliaConfigured() || !searchClient) {\n    return (\n      <ErrorState>\n        Search is not configured. Please check your Algolia settings.\n      </ErrorState>\n    );\n  }\n\n  const filterAttribute =\n    taxonomyType === \"category\" ? \"categorySlugs\" : \"tagSlugs\";\n  const filters = `${filterAttribute}:${slug}`;\n\n  return (\n    <InstantSearch\n      searchClient={\n        searchClient as unknown as Parameters<\n          typeof InstantSearch\n        >[0][\"searchClient\"]\n      }\n      indexName={algoliaConfig.indices.products}\n    >\n      <Configure hitsPerPage={12} filters={filters} />\n      <PageHeader\n        title={title}\n        subtitle={subtitle || `Browse ${title} products`}\n        showCart\n        searchSlot={<AlgoliaSearchBox placeholder=\"Search products...\" />}\n      />\n      <InfiniteProductsHits />\n    </InstantSearch>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AARA;;;;;;;;;AAiBO,SAAS,uBAAuB,EACrC,YAAY,EACZ,IAAI,EACJ,KAAK,EACL,QAAQ,EACoB;IAC5B,IAAI,CAAC,IAAA,qJAAmB,OAAM,CAAC,8IAAY,EAAE;QAC3C,qBACE,8OAAC,8KAAU;sBAAC;;;;;;IAIhB;IAEA,MAAM,kBACJ,iBAAiB,aAAa,kBAAkB;IAClD,MAAM,UAAU,GAAG,gBAAgB,CAAC,EAAE,MAAM;IAE5C,qBACE,8OAAC,6MAAa;QACZ,cACE,8IAAY;QAId,WAAW,mJAAa,CAAC,OAAO,CAAC,QAAQ;;0BAEzC,8OAAC,qMAAS;gBAAC,aAAa;gBAAI,SAAS;;;;;;0BACrC,8OAAC,qNAAU;gBACT,OAAO;gBACP,UAAU,YAAY,CAAC,OAAO,EAAE,MAAM,SAAS,CAAC;gBAChD,QAAQ;gBACR,0BAAY,8OAAC,oKAAgB;oBAAC,aAAY;;;;;;;;;;;0BAE5C,8OAAC,gMAAoB;;;;;;;;;;;AAG3B"}}]
}