{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Events/EventsContext.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useRef, useCallback, useMemo } from \"react\";\n\ntype ScrollToEventFn = (slug: string) => void;\n\ntype EventsContextValue = {\n  scrollToEvent: (slug: string) => void;\n  registerScrollToEvent: (fn: ScrollToEventFn) => void;\n};\n\nconst EventsContext = createContext<EventsContextValue | null>(null);\n\nexport function EventsProvider({ children }: { children: React.ReactNode }) {\n  const scrollToEventRef = useRef<ScrollToEventFn | null>(null);\n\n  const registerScrollToEvent = useCallback((fn: ScrollToEventFn) => {\n    scrollToEventRef.current = fn;\n  }, []);\n\n  const scrollToEvent = useCallback((slug: string) => {\n    scrollToEventRef.current?.(slug);\n  }, []);\n\n  const value = useMemo(\n    () => ({ scrollToEvent, registerScrollToEvent }),\n    [scrollToEvent, registerScrollToEvent]\n  );\n\n  return (\n    <EventsContext.Provider value={value}>{children}</EventsContext.Provider>\n  );\n}\n\nexport function useEventsContext() {\n  return useContext(EventsContext);\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAWA,MAAM,8BAAgB,IAAA,8ZAAa,EAA4B;AAExD,SAAS,eAAe,EAAE,QAAQ,EAAiC;IACxE,MAAM,mBAAmB,IAAA,uZAAM,EAAyB;IAExD,MAAM,wBAAwB,IAAA,4ZAAW,EAAC,CAAC;QACzC,iBAAiB,OAAO,GAAG;IAC7B,GAAG,EAAE;IAEL,MAAM,gBAAgB,IAAA,4ZAAW,EAAC,CAAC;QACjC,iBAAiB,OAAO,GAAG;IAC7B,GAAG,EAAE;IAEL,MAAM,QAAQ,IAAA,wZAAO,EACnB,IAAM,CAAC;YAAE;YAAe;QAAsB,CAAC,GAC/C;QAAC;QAAe;KAAsB;IAGxC,qBACE,sbAAC,cAAc,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAE3C;AAEO,SAAS;IACd,OAAO,IAAA,2ZAAU,EAAC;AACpB"}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Search/EventSearchModal.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  InstantSearch,\n  useSearchBox,\n  useHits,\n  Configure,\n} from \"react-instantsearch-hooks-web\";\nimport { searchClient, isAlgoliaConfigured } from \"@/lib/search/client\";\nimport { algoliaConfig } from \"@/config/algolia.config\";\nimport Image from \"next/image\";\nimport { X, Calendar } from \"lucide-react\";\nimport { Modal } from \"@/components/UI\";\nimport { useEventsContext } from \"@/components/Events/EventsContext\";\nimport styles from \"./SearchModal.module.css\";\n\ntype EventSearchModalProps = {\n  isOpen: boolean;\n  onClose: () => void;\n};\n\nfunction SearchBox() {\n  const { query, refine } = useSearchBox();\n  const inputValue = query || \"\";\n\n  function handleChange(e: React.ChangeEvent<HTMLInputElement>) {\n    refine(e.target.value);\n  }\n\n  return (\n    <input\n      type=\"search\"\n      value={inputValue}\n      onChange={handleChange}\n      placeholder=\"Search by event name, location, or date...\"\n      className={styles.searchBox}\n      autoFocus\n    />\n  );\n}\n\ntype EventHit = {\n  objectID: string;\n  title: string;\n  slug: string;\n  startDate?: string;\n  venue?: string;\n  venueCity?: string;\n  venueState?: string;\n  image?: string;\n  imageAlt?: string;\n};\n\nfunction formatDate(startDate?: string): string {\n  if (!startDate) return \"\";\n  return new Date(startDate).toLocaleDateString(\"en-US\", {\n    weekday: \"short\",\n    month: \"short\",\n    day: \"numeric\",\n  });\n}\n\ntype HitComponentProps = {\n  hit: EventHit;\n  onSelect: (slug: string) => void;\n};\n\nfunction EventHitComponent({ hit, onSelect }: HitComponentProps) {\n  const locationParts = [hit.venueCity, hit.venueState]\n    .filter(Boolean)\n    .join(\", \");\n\n  return (\n    <button\n      type=\"button\"\n      className={styles.hit}\n      onClick={() => onSelect(hit.slug)}\n    >\n      <div className={styles.hitImage}>\n        {hit.image ? (\n          <Image\n            src={hit.image}\n            alt={hit.imageAlt || hit.title}\n            width={80}\n            height={80}\n            className={styles.hitImageInner}\n          />\n        ) : (\n          <Calendar\n            size={32}\n            style={{ margin: \"auto\", color: \"var(--color-text-tertiary)\" }}\n          />\n        )}\n      </div>\n      <div className={styles.hitContent}>\n        <h3 className={styles.hitTitle}>{hit.title}</h3>\n        {hit.startDate && (\n          <p className={styles.hitExcerpt}>{formatDate(hit.startDate)}</p>\n        )}\n        {locationParts && <p className={styles.hitExcerpt}>{locationParts}</p>}\n      </div>\n    </button>\n  );\n}\n\ntype SearchResultsProps = {\n  onSelect: (slug: string) => void;\n};\n\nfunction SearchResults({ onSelect }: SearchResultsProps) {\n  const { hits } = useHits<EventHit>();\n  const { query } = useSearchBox();\n\n  if (!query || query.trim() === \"\") {\n    return (\n      <div className={styles.noResults}>\n        <p>Search for events by name, location, or keyword.</p>\n      </div>\n    );\n  }\n\n  if (hits.length === 0) {\n    return (\n      <div className={styles.noResults}>\n        <p>No events found for &quot;{query}&quot;.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.results}>\n      {hits.map((hit) => (\n        <EventHitComponent key={hit.objectID} hit={hit} onSelect={onSelect} />\n      ))}\n    </div>\n  );\n}\n\nexport default function EventSearchModal({\n  isOpen,\n  onClose,\n}: EventSearchModalProps) {\n  const eventsContext = useEventsContext();\n\n  function handleEventSelect(slug: string) {\n    eventsContext?.scrollToEvent(slug);\n    onClose();\n  }\n\n  return (\n    <Modal\n      open={isOpen}\n      onClose={onClose}\n      showCloseButton={false}\n      className={styles.modal}\n    >\n      <div className={styles.content}>\n        <div className={styles.header}>\n          <h2 className={styles.title}>Search Events</h2>\n          <button\n            type=\"button\"\n            onClick={onClose}\n            className={styles.closeButton}\n            aria-label=\"Close search\"\n          >\n            <X size={24} />\n          </button>\n        </div>\n        {!isAlgoliaConfigured() || !searchClient ? (\n          <div className={styles.noResults}>\n            <p>Search is not configured.</p>\n          </div>\n        ) : (\n          // @ts-expect-error - react-instantsearch types incompatible with React 19\n          <InstantSearch\n            searchClient={\n              searchClient as unknown as Parameters<\n                typeof InstantSearch\n              >[0][\"searchClient\"]\n            }\n            indexName={algoliaConfig.indices.events}\n          >\n            <Configure hitsPerPage={10} />\n            <SearchBox />\n            <SearchResults onSelect={handleEventSelect} />\n          </InstantSearch>\n        )}\n      </div>\n    </Modal>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 350, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Search/AlgoliaSearchBox.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"clearButton\": \"AlgoliaSearchBox-module__CZD6La__clearButton\",\n  \"search\": \"AlgoliaSearchBox-module__CZD6La__search\",\n  \"searchIcon\": \"AlgoliaSearchBox-module__CZD6La__searchIcon\",\n  \"searchInput\": \"AlgoliaSearchBox-module__CZD6La__searchInput\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 360, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Search/AlgoliaSearchBox.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSearchBox } from \"react-instantsearch-hooks-web\";\nimport { Search, X } from \"lucide-react\";\nimport styles from \"./AlgoliaSearchBox.module.css\";\n\ntype AlgoliaSearchBoxProps = {\n  placeholder?: string;\n};\n\nexport function AlgoliaSearchBox({\n  placeholder = \"Search...\",\n}: AlgoliaSearchBoxProps) {\n  const { query, refine, clear } = useSearchBox();\n\n  return (\n    <div className={styles.search}>\n      <Search className={styles.searchIcon} size={20} aria-hidden=\"true\" />\n      <input\n        type=\"search\"\n        value={query}\n        onChange={(e) => refine(e.target.value)}\n        placeholder={placeholder}\n        className={styles.searchInput}\n        aria-label={placeholder}\n      />\n      {query && (\n        <button\n          type=\"button\"\n          onClick={() => clear()}\n          className={styles.clearButton}\n          aria-label=\"Clear search\"\n        >\n          <X size={16} />\n        </button>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAJA;;;;;AAUO,SAAS,iBAAiB,EAC/B,cAAc,WAAW,EACH;IACtB,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,4UAAY;IAE7C,qBACE,sbAAC;QAAI,WAAW,sKAAM,CAAC,MAAM;;0BAC3B,sbAAC,oSAAM;gBAAC,WAAW,sKAAM,CAAC,UAAU;gBAAE,MAAM;gBAAI,eAAY;;;;;;0BAC5D,sbAAC;gBACC,MAAK;gBACL,OAAO;gBACP,UAAU,CAAC,IAAM,OAAO,EAAE,MAAM,CAAC,KAAK;gBACtC,aAAa;gBACb,WAAW,sKAAM,CAAC,WAAW;gBAC7B,cAAY;;;;;;YAEb,uBACC,sbAAC;gBACC,MAAK;gBACL,SAAS,IAAM;gBACf,WAAW,sKAAM,CAAC,WAAW;gBAC7B,cAAW;0BAEX,cAAA,sbAAC,qRAAC;oBAAC,MAAM;;;;;;;;;;;;;;;;;AAKnB"}},
    {"offset": {"line": 428, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Search/index.ts"],"sourcesContent":["export { default as SearchModal } from \"./SearchModal\";\nexport { default as LocationSearchModal } from \"./LocationSearchModal\";\nexport { default as EventSearchModal } from \"./EventSearchModal\";\nexport { AlgoliaSearchBox } from \"./AlgoliaSearchBox\";\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 440, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/ProductCard/ProductCard.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"addToCartButton\": \"ProductCard-module__g-pugq__addToCartButton\",\n  \"card\": \"ProductCard-module__g-pugq__card\",\n  \"content\": \"ProductCard-module__g-pugq__content\",\n  \"contentInner\": \"ProductCard-module__g-pugq__contentInner\",\n  \"featured\": \"ProductCard-module__g-pugq__featured\",\n  \"image\": \"ProductCard-module__g-pugq__image\",\n  \"imageWrapper\": \"ProductCard-module__g-pugq__imageWrapper\",\n  \"name\": \"ProductCard-module__g-pugq__name\",\n  \"outOfStock\": \"ProductCard-module__g-pugq__outOfStock\",\n  \"overlay\": \"ProductCard-module__g-pugq__overlay\",\n  \"overlayContent\": \"ProductCard-module__g-pugq__overlayContent\",\n  \"price\": \"ProductCard-module__g-pugq__price\",\n  \"priceContainer\": \"ProductCard-module__g-pugq__priceContainer\",\n  \"rating\": \"ProductCard-module__g-pugq__rating\",\n  \"ratingPriceRow\": \"ProductCard-module__g-pugq__ratingPriceRow\",\n  \"regularPrice\": \"ProductCard-module__g-pugq__regularPrice\",\n  \"saleBadge\": \"ProductCard-module__g-pugq__saleBadge\",\n  \"title\": \"ProductCard-module__g-pugq__title\",\n  \"viewItemButton\": \"ProductCard-module__g-pugq__viewItemButton\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 465, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/ProductCard/ProductCard.tsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport Link from \"next/link\";\n// eslint-disable-next-line no-restricted-imports\nimport { useEffect } from \"react\";\nimport { ImageWrapper } from \"@/components/UI\";\nimport { NoImage } from \"@/components/UI\";\nimport { StarRating } from \"@/components/UI\";\nimport { Button } from \"@/components/UI\";\nimport { formatPrice } from \"@/lib/utils/formatPrice\";\nimport { useCartStore } from \"@/stores/useCartStore\";\nimport styles from \"./ProductCard.module.css\";\n\ntype ProductImage = {\n  sourceUrl?: string;\n  altText?: string;\n  srcSet?: string;\n  sizes?: string;\n  mediaDetails?: {\n    width?: number;\n    height?: number;\n  };\n};\n\ntype ProductCardProps = {\n  id?: string;\n  databaseId?: number;\n  name?: string;\n  slug?: string;\n  price?: string;\n  regularPrice?: string;\n  salePrice?: string;\n  image?: ProductImage;\n  featuredImage?: {\n    node?: ProductImage;\n  };\n  averageRating?: number;\n  reviewCount?: number;\n  stockStatus?: string;\n  variant?: \"default\" | \"featured\";\n  priority?: boolean;\n  className?: string;\n};\n\nexport function ProductCard({\n  id,\n  databaseId,\n  name,\n  slug,\n  price,\n  regularPrice,\n  salePrice,\n  image,\n  featuredImage,\n  averageRating,\n  reviewCount,\n  stockStatus,\n  variant = \"default\",\n  priority = false,\n  className,\n}: ProductCardProps) {\n  const addToCart = useCartStore((state) => state.addToCart);\n  const fetchCart = useCartStore((state) => state.fetchCart);\n  const loading = useCartStore((state) => state.loading);\n\n  // Reason this component must use useEffect:\n  // - Syncing with external API (cart data) on component mount\n  // - Server Components cannot handle client-side API calls\n  // - This ensures cart state is available for add-to-cart functionality\n  useEffect(() => {\n    fetchCart();\n  }, [fetchCart]);\n\n  const handleAddToCart = async (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!databaseId) {\n      console.error(\"Cannot add to cart: missing databaseId\");\n      return;\n    }\n\n    try {\n      await addToCart(databaseId, 1);\n    } catch (error) {\n      console.error(\"Failed to add product to cart:\", error);\n    }\n  };\n  const productName = name || \"Product\";\n  const productSlug = slug;\n  const productId = id;\n\n  const imageSource = image || featuredImage?.node;\n  const imageUrl = imageSource?.sourceUrl || \"\";\n  const hasValidImage = imageUrl.length > 0;\n  const imageAlt = imageSource?.altText || productName;\n  const imageSizes = imageSource?.sizes;\n  const imageWidth = imageSource?.mediaDetails?.width;\n  const imageHeight = imageSource?.mediaDetails?.height;\n\n  const rating = averageRating ?? 0;\n  const reviewCountValue = reviewCount ?? 0;\n\n  const isOnSale = salePrice && regularPrice && salePrice !== regularPrice;\n  const displayPrice = salePrice || price || regularPrice;\n  const formattedPrice = displayPrice\n    ? variant === \"default\"\n      ? formatPrice(displayPrice)\n      : displayPrice\n    : null;\n\n  const isOutOfStock = stockStatus === \"OUT_OF_STOCK\";\n  const isInStock = stockStatus === \"IN_STOCK\" || stockStatus === undefined;\n\n  const cardContent = (\n    <>\n      {hasValidImage ? (\n        <ImageWrapper className={styles.imageWrapper}>\n          <Image\n            src={imageUrl}\n            alt={imageAlt}\n            {...(variant === \"featured\"\n              ? {\n                  fill: true,\n                  sizes:\n                    imageSizes ||\n                    \"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw\",\n                }\n              : {\n                  width: imageWidth || 400,\n                  height: imageHeight || 400,\n                  sizes:\n                    \"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw\",\n                })}\n            quality={variant === \"featured\" ? 75 : undefined}\n            className={styles.image}\n            priority={priority}\n            fetchPriority={priority ? \"high\" : \"auto\"}\n          />\n          {isOnSale && <span className={styles.saleBadge}>Sale</span>}\n        </ImageWrapper>\n      ) : (\n        <ImageWrapper className={styles.imageWrapper}>\n          <NoImage />\n        </ImageWrapper>\n      )}\n\n      {variant === \"featured\" && (\n        <div className={styles.overlay}>\n          <div className={styles.overlayContent}>\n            {productName && (\n              <h3 className={styles.name}>{productName}</h3>\n            )}\n            <div className={styles.contentInner}>\n              {(rating > 0 || reviewCountValue > 0) && (\n                <div className={styles.rating}>\n                  <StarRating rating={rating} reviewCount={reviewCountValue} />\n                </div>\n              )}\n              {formattedPrice && (\n                <div className={styles.price}>{formattedPrice}</div>\n              )}\n              {databaseId && (\n                <Button\n                  color=\"secondary\"\n                  variant=\"inverse\"\n                  className={styles.addToCartButton}\n                  onClick={handleAddToCart}\n                  disabled={!isInStock || loading}\n                  aria-description={`Add ${productName} to cart`}\n                >\n                  {loading\n                    ? \"Adding...\"\n                    : isInStock\n                    ? \"Add to Cart\"\n                    : \"Out of Stock\"}\n                </Button>\n              )}\n              {productSlug && !databaseId && (\n                <Button\n                  as=\"a\"\n                  href={`/products/${productSlug}`}\n                  color=\"secondary\"\n                  variant=\"inverse\"\n                  className={styles.viewItemButton}\n                  aria-description={`View details for ${productName}`}\n                >\n                  View Item\n                </Button>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className={styles.content}>\n        {productName && (\n          <h3 className={variant === \"featured\" ? styles.name : styles.title}>\n            {productName}\n          </h3>\n        )}\n\n        {variant === \"featured\" ? (\n          <div className={styles.ratingPriceRow}>\n            {(rating > 0 || reviewCountValue > 0) && (\n              <div className={styles.rating}>\n                <StarRating rating={rating} reviewCount={reviewCountValue} />\n              </div>\n            )}\n            {formattedPrice && (\n              <div className={styles.price}>{formattedPrice}</div>\n            )}\n          </div>\n        ) : (\n          <>\n            {formattedPrice && (\n              <div className={styles.priceContainer}>\n                {isOnSale && regularPrice && (\n                  <span className={styles.regularPrice}>\n                    {formatPrice(regularPrice)}\n                  </span>\n                )}\n                <span className={styles.price}>{formattedPrice}</span>\n              </div>\n            )}\n            {isOutOfStock && (\n              <span className={styles.outOfStock}>Out of Stock</span>\n            )}\n          </>\n        )}\n      </div>\n    </>\n  );\n\n  const cardClassName = [styles.card, styles[variant], className]\n    .filter(Boolean)\n    .join(\" \");\n\n  if (productSlug) {\n    return (\n      <Link\n        href={`/products/${productSlug}`}\n        className={cardClassName}\n        key={productId || productSlug}\n      >\n        {cardContent}\n      </Link>\n    );\n  }\n\n  return (\n    <div className={cardClassName} key={productId}>\n      {cardContent}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 785, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/ProductCard/index.ts"],"sourcesContent":["export { ProductCard } from \"./ProductCard\";\n\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 791, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Products/ProductsSearch/InfiniteProductsHits.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"empty\": \"InfiniteProductsHits-module__922whq__empty\",\n  \"grid\": \"InfiniteProductsHits-module__922whq__grid\",\n  \"sentinel\": \"InfiniteProductsHits-module__922whq__sentinel\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 800, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Products/ProductsSearch/InfiniteProductsHits.tsx"],"sourcesContent":["\"use client\";\n\n// eslint-disable-next-line no-restricted-imports\nimport { useRef, useEffect } from \"react\";\nimport { useInfiniteHits, useSearchBox } from \"react-instantsearch-hooks-web\";\nimport { ProductCard } from \"@/components/ProductCard\";\nimport { FlipMotion, FlipMotionItem } from \"@/components/UI\";\nimport styles from \"./InfiniteProductsHits.module.css\";\n\ntype ProductHit = {\n  objectID: string;\n  name: string;\n  slug: string;\n  price?: string;\n  regularPrice?: string;\n  salePrice?: string;\n  stockStatus?: string;\n  image?: string;\n  imageAlt?: string;\n  categories?: string;\n  excerpt?: string;\n};\n\nexport function InfiniteProductsHits() {\n  const { hits, isLastPage, showMore } = useInfiniteHits<ProductHit>();\n  const { query } = useSearchBox();\n  const sentinelRef = useRef<HTMLLIElement>(null);\n\n  // Reason this component must use useEffect:\n  // - Syncing with browser API (IntersectionObserver) for infinite scroll\n  // - IntersectionObserver is a browser API that requires DOM access\n  // - This is a side effect that sets up and cleans up an observer when dependencies change\n  useEffect(() => {\n    const sentinel = sentinelRef.current;\n    if (!sentinel) return;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting && !isLastPage) {\n            showMore();\n          }\n        });\n      },\n      { rootMargin: \"400px\" }\n    );\n\n    observer.observe(sentinel);\n    return () => observer.disconnect();\n  }, [isLastPage, showMore]);\n\n  if (hits.length === 0 && query) {\n    return (\n      <div className={styles.empty}>\n        <p>No products found for &ldquo;{query}&rdquo;</p>\n      </div>\n    );\n  }\n\n  if (hits.length === 0) {\n    return (\n      <div className={styles.empty}>\n        <p>No products available.</p>\n      </div>\n    );\n  }\n\n  return (\n    <FlipMotion className={styles.grid} enableExit={false}>\n      {hits.map((hit) => {\n        const databaseId = parseInt(hit.objectID.replace(\"product_\", \"\"), 10);\n\n        return (\n          <FlipMotionItem key={hit.objectID} itemId={hit.objectID}>\n            <ProductCard\n              id={hit.objectID}\n              databaseId={isNaN(databaseId) ? undefined : databaseId}\n              name={hit.name}\n              slug={hit.slug}\n              price={hit.price}\n              regularPrice={hit.regularPrice}\n              salePrice={hit.salePrice}\n              stockStatus={hit.stockStatus}\n              featuredImage={\n                hit.image\n                  ? {\n                      node: {\n                        sourceUrl: hit.image,\n                        altText: hit.imageAlt,\n                      },\n                    }\n                  : undefined\n              }\n            />\n          </FlipMotionItem>\n        );\n      })}\n      <FlipMotionItem\n        ref={sentinelRef}\n        aria-hidden={true}\n        className={styles.sentinel}\n        itemId=\"sentinel\"\n        initialOpacity={0}\n        animateOpacity={1}\n      >\n        {/* Sentinel element for infinite scroll */}\n      </FlipMotionItem>\n    </FlipMotion>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA,iDAAiD;AACjD;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAPA;;;;;;;AAuBO,SAAS;IACd,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,IAAA,kVAAe;IACtD,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,4UAAY;IAC9B,MAAM,cAAc,IAAA,uZAAM,EAAgB;IAE1C,4CAA4C;IAC5C,wEAAwE;IACxE,mEAAmE;IACnE,0FAA0F;IAC1F,IAAA,0ZAAS,EAAC;QACR,MAAM,WAAW,YAAY,OAAO;QACpC,IAAI,CAAC,UAAU;QAEf,MAAM,WAAW,IAAI,qBACnB,CAAC;YACC,QAAQ,OAAO,CAAC,CAAC;gBACf,IAAI,MAAM,cAAc,IAAI,CAAC,YAAY;oBACvC;gBACF;YACF;QACF,GACA;YAAE,YAAY;QAAQ;QAGxB,SAAS,OAAO,CAAC;QACjB,OAAO,IAAM,SAAS,UAAU;IAClC,GAAG;QAAC;QAAY;KAAS;IAEzB,IAAI,KAAK,MAAM,KAAK,KAAK,OAAO;QAC9B,qBACE,sbAAC;YAAI,WAAW,8LAAM,CAAC,KAAK;sBAC1B,cAAA,sbAAC;;oBAAE;oBAA8B;oBAAM;;;;;;;;;;;;IAG7C;IAEA,IAAI,KAAK,MAAM,KAAK,GAAG;QACrB,qBACE,sbAAC;YAAI,WAAW,8LAAM,CAAC,KAAK;sBAC1B,cAAA,sbAAC;0BAAE;;;;;;;;;;;IAGT;IAEA,qBACE,sbAAC,6KAAU;QAAC,WAAW,8LAAM,CAAC,IAAI;QAAE,YAAY;;YAC7C,KAAK,GAAG,CAAC,CAAC;gBACT,MAAM,aAAa,SAAS,IAAI,QAAQ,CAAC,OAAO,CAAC,YAAY,KAAK;gBAElE,qBACE,sbAAC,iLAAc;oBAAoB,QAAQ,IAAI,QAAQ;8BACrD,cAAA,sbAAC,+JAAW;wBACV,IAAI,IAAI,QAAQ;wBAChB,YAAY,MAAM,cAAc,YAAY;wBAC5C,MAAM,IAAI,IAAI;wBACd,MAAM,IAAI,IAAI;wBACd,OAAO,IAAI,KAAK;wBAChB,cAAc,IAAI,YAAY;wBAC9B,WAAW,IAAI,SAAS;wBACxB,aAAa,IAAI,WAAW;wBAC5B,eACE,IAAI,KAAK,GACL;4BACE,MAAM;gCACJ,WAAW,IAAI,KAAK;gCACpB,SAAS,IAAI,QAAQ;4BACvB;wBACF,IACA;;;;;;mBAlBW,IAAI,QAAQ;;;;;YAuBrC;0BACA,sbAAC,iLAAc;gBACb,KAAK;gBACL,eAAa;gBACb,WAAW,8LAAM,CAAC,QAAQ;gBAC1B,QAAO;gBACP,gBAAgB;gBAChB,gBAAgB;;;;;;;;;;;;AAMxB"}},
    {"offset": {"line": 940, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Products/ProductsSearch/ProductsSearch.tsx"],"sourcesContent":["\"use client\";\n\nimport { InstantSearch, Configure } from \"react-instantsearch-hooks-web\";\nimport { searchClient, isAlgoliaConfigured } from \"@/lib/search/client\";\nimport { algoliaConfig } from \"@/config/algolia.config\";\nimport { PageHeader } from \"@/components/UI\";\nimport { ErrorState } from \"@/components/UI\";\nimport { AlgoliaSearchBox } from \"@/components/Search\";\nimport { InfiniteProductsHits } from \"./InfiniteProductsHits\";\n\nexport function ProductsSearch() {\n  if (!isAlgoliaConfigured() || !searchClient) {\n    return (\n      <ErrorState>\n        Search is not configured. Please check your Algolia settings.\n      </ErrorState>\n    );\n  }\n\n  return (\n    // @ts-expect-error - react-instantsearch types incompatible with React 19\n    <InstantSearch\n      searchClient={\n        searchClient as unknown as Parameters<\n          typeof InstantSearch\n        >[0][\"searchClient\"]\n      }\n      indexName={algoliaConfig.indices.products}\n    >\n      <Configure hitsPerPage={12} />\n      <PageHeader\n        title=\"Shop\"\n        subtitle=\"Browse our collection\"\n        showCart\n        searchSlot={<AlgoliaSearchBox placeholder=\"Search products...\" />}\n      />\n      <InfiniteProductsHits />\n    </InstantSearch>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AARA;;;;;;;;;AAUO,SAAS;IACd,IAAI,CAAC,IAAA,qJAAmB,OAAM,CAAC,8IAAY,EAAE;QAC3C,qBACE,sbAAC,8KAAU;sBAAC;;;;;;IAIhB;IAEA,OACE,0EAA0E;kBAC1E,sbAAC,8UAAa;QACZ,cACE,8IAAY;QAId,WAAW,mJAAa,CAAC,OAAO,CAAC,QAAQ;;0BAEzC,sbAAC,sUAAS;gBAAC,aAAa;;;;;;0BACxB,sbAAC,qNAAU;gBACT,OAAM;gBACN,UAAS;gBACT,QAAQ;gBACR,0BAAY,sbAAC,oKAAgB;oBAAC,aAAY;;;;;;;;;;;0BAE5C,sbAAC,gMAAoB;;;;;;;;;;;AAG3B"}},
    {"offset": {"line": 1018, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Products/ProductsSearch/ProductsTaxonomySearch.tsx"],"sourcesContent":["\"use client\";\n\nimport { InstantSearch, Configure } from \"react-instantsearch-hooks-web\";\nimport { searchClient, isAlgoliaConfigured } from \"@/lib/search/client\";\nimport { algoliaConfig } from \"@/config/algolia.config\";\nimport { PageHeader } from \"@/components/UI\";\nimport { ErrorState } from \"@/components/UI\";\nimport { AlgoliaSearchBox } from \"@/components/Search\";\nimport { InfiniteProductsHits } from \"./InfiniteProductsHits\";\n\ntype ProductsTaxonomySearchProps = {\n  taxonomyType: \"category\" | \"tag\";\n  slug: string;\n  title: string;\n  subtitle?: string;\n};\n\nexport function ProductsTaxonomySearch({\n  taxonomyType,\n  slug,\n  title,\n  subtitle,\n}: ProductsTaxonomySearchProps) {\n  if (!isAlgoliaConfigured() || !searchClient) {\n    return (\n      <ErrorState>\n        Search is not configured. Please check your Algolia settings.\n      </ErrorState>\n    );\n  }\n\n  const filterAttribute =\n    taxonomyType === \"category\" ? \"categorySlugs\" : \"tagSlugs\";\n  const filters = `${filterAttribute}:${slug}`;\n\n  return (\n    // @ts-expect-error - react-instantsearch types incompatible with React 19\n    <InstantSearch\n      searchClient={\n        searchClient as unknown as Parameters<\n          typeof InstantSearch\n        >[0][\"searchClient\"]\n      }\n      indexName={algoliaConfig.indices.products}\n    >\n      <Configure hitsPerPage={12} filters={filters} />\n      <PageHeader\n        title={title}\n        subtitle={subtitle || `Browse ${title} products`}\n        showCart\n        searchSlot={<AlgoliaSearchBox placeholder=\"Search products...\" />}\n      />\n      <InfiniteProductsHits />\n    </InstantSearch>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AARA;;;;;;;;;AAiBO,SAAS,uBAAuB,EACrC,YAAY,EACZ,IAAI,EACJ,KAAK,EACL,QAAQ,EACoB;IAC5B,IAAI,CAAC,IAAA,qJAAmB,OAAM,CAAC,8IAAY,EAAE;QAC3C,qBACE,sbAAC,8KAAU;sBAAC;;;;;;IAIhB;IAEA,MAAM,kBACJ,iBAAiB,aAAa,kBAAkB;IAClD,MAAM,UAAU,GAAG,gBAAgB,CAAC,EAAE,MAAM;IAE5C,OACE,0EAA0E;kBAC1E,sbAAC,8UAAa;QACZ,cACE,8IAAY;QAId,WAAW,mJAAa,CAAC,OAAO,CAAC,QAAQ;;0BAEzC,sbAAC,sUAAS;gBAAC,aAAa;gBAAI,SAAS;;;;;;0BACrC,sbAAC,qNAAU;gBACT,OAAO;gBACP,UAAU,YAAY,CAAC,OAAO,EAAE,MAAM,SAAS,CAAC;gBAChD,QAAQ;gBACR,0BAAY,sbAAC,oKAAgB;oBAAC,aAAY;;;;;;;;;;;0BAE5C,sbAAC,gMAAoB;;;;;;;;;;;AAG3B"}},
    {"offset": {"line": 1098, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Products/ProductInfo/ProductInfo.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"actions\": \"ProductInfo-module__UMlEzq__actions\",\n  \"attribute\": \"ProductInfo-module__UMlEzq__attribute\",\n  \"attributes\": \"ProductInfo-module__UMlEzq__attributes\",\n  \"button\": \"ProductInfo-module__UMlEzq__button\",\n  \"categories\": \"ProductInfo-module__UMlEzq__categories\",\n  \"category\": \"ProductInfo-module__UMlEzq__category\",\n  \"continueShoppingButton\": \"ProductInfo-module__UMlEzq__continueShoppingButton\",\n  \"inStock\": \"ProductInfo-module__UMlEzq__inStock\",\n  \"info\": \"ProductInfo-module__UMlEzq__info\",\n  \"metadata\": \"ProductInfo-module__UMlEzq__metadata\",\n  \"metadataItem\": \"ProductInfo-module__UMlEzq__metadataItem\",\n  \"metadataLink\": \"ProductInfo-module__UMlEzq__metadataLink\",\n  \"originalPrice\": \"ProductInfo-module__UMlEzq__originalPrice\",\n  \"outOfStock\": \"ProductInfo-module__UMlEzq__outOfStock\",\n  \"price\": \"ProductInfo-module__UMlEzq__price\",\n  \"priceSection\": \"ProductInfo-module__UMlEzq__priceSection\",\n  \"quantityInput\": \"ProductInfo-module__UMlEzq__quantityInput\",\n  \"quantityLabel\": \"ProductInfo-module__UMlEzq__quantityLabel\",\n  \"quantityWrapper\": \"ProductInfo-module__UMlEzq__quantityWrapper\",\n  \"regularPrice\": \"ProductInfo-module__UMlEzq__regularPrice\",\n  \"saleBadge\": \"ProductInfo-module__UMlEzq__saleBadge\",\n  \"salePrice\": \"ProductInfo-module__UMlEzq__salePrice\",\n  \"shortDescription\": \"ProductInfo-module__UMlEzq__shortDescription\",\n  \"sku\": \"ProductInfo-module__UMlEzq__sku\",\n  \"stockStatus\": \"ProductInfo-module__UMlEzq__stockStatus\",\n  \"title\": \"ProductInfo-module__UMlEzq__title\",\n  \"variations\": \"ProductInfo-module__UMlEzq__variations\",\n  \"viewCartButton\": \"ProductInfo-module__UMlEzq__viewCartButton\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1132, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Products/ProductInfo/ProductInfo.tsx"],"sourcesContent":["\"use client\";\n\n// eslint-disable-next-line no-restricted-imports\nimport { useEffect, useState } from \"react\";\nimport { Button, Input } from \"@/components/UI\";\nimport { useCartStore } from \"@/stores/useCartStore\";\nimport styles from \"./ProductInfo.module.css\";\n\ntype ProductVariation = {\n  id?: string;\n  databaseId?: number;\n  price?: string;\n  regularPrice?: string;\n  salePrice?: string;\n  stockStatus?: string;\n  attributes?: {\n    nodes?: Array<{\n      name?: string;\n      value?: string;\n    }>;\n  };\n};\n\ntype ProductAttribute = {\n  id?: string;\n  name?: string;\n  options?: string[];\n  variation?: boolean;\n};\n\ntype ProductCategory = {\n  id?: string;\n  name?: string;\n  slug?: string;\n};\n\ntype ProductTag = {\n  id?: string;\n  name?: string;\n  slug?: string;\n};\n\ntype BaseProduct = {\n  id?: string;\n  databaseId?: number;\n  name?: string;\n  slug?: string;\n  sku?: string;\n  description?: string;\n  shortDescription?: string;\n  stockStatus?: string;\n  price?: string;\n  regularPrice?: string;\n  salePrice?: string;\n  attributes?: {\n    nodes?: ProductAttribute[];\n  };\n  productCategories?: {\n    nodes?: ProductCategory[];\n  };\n  productTags?: {\n    nodes?: ProductTag[];\n  };\n  __typename?: string;\n};\n\ntype SimpleProduct = BaseProduct & { __typename?: \"SimpleProduct\" };\ntype VariableProduct = BaseProduct & {\n  __typename?: \"VariableProduct\";\n  variations?: { nodes?: ProductVariation[] };\n};\ntype ExternalProduct = BaseProduct & {\n  __typename?: \"ExternalProduct\";\n  externalUrl?: string;\n  buttonText?: string;\n};\ntype GroupProduct = BaseProduct & { __typename?: \"GroupProduct\" };\n\ntype ProductInfoProps = {\n  product: SimpleProduct | VariableProduct | ExternalProduct | GroupProduct;\n};\n\nexport default function ProductInfo({ product }: ProductInfoProps) {\n  const [quantity, setQuantity] = useState(1);\n\n  const addToCart = useCartStore((state) => state.addToCart);\n  const fetchCart = useCartStore((state) => state.fetchCart);\n  const loading = useCartStore((state) => state.loading);\n\n  const isOnSale =\n    product.salePrice && product.salePrice !== product.regularPrice;\n  const displayPrice =\n    product.salePrice || product.price || product.regularPrice;\n  const isInStock = product.stockStatus === \"IN_STOCK\";\n  const isVariable = product.__typename === \"VariableProduct\";\n  const isExternal = product.__typename === \"ExternalProduct\";\n\n  // Reason this component must use useEffect:\n  // - Syncing with external API (cart data) on component mount\n  // - Server Components cannot handle client-side API calls\n  // - This ensures cart state is available for add-to-cart functionality\n  useEffect(() => {\n    fetchCart();\n  }, [fetchCart]);\n\n  const handleAddToCart = async () => {\n    if (!product.databaseId) {\n      console.error(\"Cannot add to cart: missing databaseId\", product);\n      return;\n    }\n\n    try {\n      await addToCart(product.databaseId, quantity);\n    } catch (error) {\n      console.error(\"Failed to add product to cart:\", error);\n    }\n  };\n\n  const handleQuantityChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = parseInt(e.target.value, 10);\n    if (!isNaN(value) && value > 0) {\n      setQuantity(value);\n    }\n  };\n\n  const formatPrice = (price?: string) => {\n    if (!price) return \"\";\n    const numPrice = parseFloat(price.replace(/[^0-9.]/g, \"\"));\n    return new Intl.NumberFormat(\"en-US\", {\n      style: \"currency\",\n      currency: \"USD\",\n    }).format(numPrice);\n  };\n\n  return (\n    <div className={styles.info}>\n      <h1 className={styles.title}>{product.name}</h1>\n\n      <div className={styles.priceSection}>\n        {displayPrice && (\n          <div className={styles.price}>\n            <span className={isOnSale ? styles.salePrice : styles.regularPrice}>\n              {formatPrice(displayPrice)}\n            </span>\n            {isOnSale && product.regularPrice && (\n              <span className={styles.originalPrice}>\n                {formatPrice(product.regularPrice)}\n              </span>\n            )}\n          </div>\n        )}\n        {isOnSale && <span className={styles.saleBadge}>On Sale</span>}\n      </div>\n\n      {product.shortDescription && (\n        <div\n          className={styles.shortDescription}\n          dangerouslySetInnerHTML={{ __html: product.shortDescription }}\n        />\n      )}\n\n      <div className={styles.actions}>\n        {isExternal && product.externalUrl ? (\n          <Button\n            as=\"a\"\n            href={product.externalUrl}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className={styles.button}\n          >\n            {product.buttonText || \"Buy Now\"}\n          </Button>\n        ) : (\n          <>\n            <div className={styles.quantityWrapper}>\n              <label htmlFor=\"quantity\" className={styles.quantityLabel}>\n                Quantity\n              </label>\n              <Input\n                id=\"quantity\"\n                type=\"number\"\n                min=\"1\"\n                value={quantity}\n                onChange={handleQuantityChange}\n                size=\"md\"\n                className={styles.quantityInput}\n                disabled={!isInStock}\n              />\n            </div>\n\n            <Button\n              className={styles.button}\n              disabled={!isInStock || loading}\n              onClick={handleAddToCart}\n            >\n              {loading\n                ? \"Adding...\"\n                : isInStock\n                ? \"Add to Cart\"\n                : \"Out of Stock\"}\n            </Button>\n\n            <Button\n              as=\"a\"\n              href=\"/cart\"\n              className={styles.viewCartButton}\n              color=\"secondary\"\n            >\n              View Cart\n            </Button>\n          </>\n        )}\n      </div>\n\n      <div className={styles.metadata}>\n        {product.sku && (\n          <span className={styles.metadataItem}>\n            <strong>SKU:</strong> {product.sku}\n          </span>\n        )}\n\n        {product.productCategories?.nodes &&\n          product.productCategories.nodes.length > 0 && (\n            <span className={styles.metadataItem}>\n              <strong>Category: </strong>\n              {product.productCategories.nodes.map((category, index) => (\n                <span key={category.id || index}>\n                  {index > 0 && \", \"}\n                  <a\n                    href={`/category/${category.slug}`}\n                    className={styles.metadataLink}\n                  >\n                    {category.name}\n                  </a>\n                </span>\n              ))}\n            </span>\n          )}\n\n        {product.productTags?.nodes && product.productTags.nodes.length > 0 && (\n          <span className={styles.metadataItem}>\n            <strong>Tag:</strong>{\" \"}\n            {product.productTags.nodes.map((tag, index) => (\n              <span key={tag.id || index}>\n                {index > 0 && \", \"}\n                <a href={`/tag/${tag.slug}`} className={styles.metadataLink}>\n                  {tag.name}\n                </a>\n              </span>\n            ))}\n          </span>\n        )}\n      </div>\n\n      {!isInStock && (\n        <div className={styles.stockStatus}>\n          <span className={styles.outOfStock}>Out of Stock</span>\n        </div>\n      )}\n\n      {isVariable &&\n        product.attributes?.nodes &&\n        product.attributes.nodes.length > 0 && (\n          <div className={styles.attributes}>\n            {product.attributes.nodes.map((attr, index) => (\n              <div key={attr.id || index} className={styles.attribute}>\n                <strong>{attr.name}:</strong>{\" \"}\n                {attr.options?.join(\", \") || \"N/A\"}\n              </div>\n            ))}\n          </div>\n        )}\n\n      {isVariable && \"variations\" in product && product.variations?.nodes && (\n        <div className={styles.variations}>\n          <strong>Available Variations:</strong>\n          <ul>\n            {product.variations.nodes.map((variation) => (\n              <li key={variation.id || variation.databaseId}>\n                {variation.attributes?.nodes\n                  ?.map((attr) => `${attr.name}: ${attr.value}`)\n                  .join(\", \") || \"Default\"}\n                {variation.price && ` - ${formatPrice(variation.price)}`}\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n\n      <Button\n        as=\"a\"\n        href=\"/shop\"\n        className={styles.continueShoppingButton}\n        color=\"primary\"\n        variant=\"inverse outline\"\n      >\n        Continue Shopping\n      </Button>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1525, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/ImageMagnifier/ImageMagnifier.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"container\": \"ImageMagnifier-module__Pc6Oha__container\",\n  \"image\": \"ImageMagnifier-module__Pc6Oha__image\",\n  \"imageWrapper\": \"ImageMagnifier-module__Pc6Oha__imageWrapper\",\n  \"zoomed\": \"ImageMagnifier-module__Pc6Oha__zoomed\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1535, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/ImageMagnifier/ImageMagnifier.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRef, useState, useCallback } from \"react\";\nimport Image from \"next/image\";\nimport { clsx } from \"clsx\";\nimport { ImageWrapper } from \"@/components/UI\";\nimport styles from \"./ImageMagnifier.module.css\";\n\ntype ImageMagnifierProps = {\n  src: string;\n  alt: string;\n  width: number;\n  height: number;\n  priority?: boolean;\n  fetchPriority?: \"auto\" | \"high\" | \"low\";\n  sizes?: string;\n  className?: string;\n};\n\nexport default function ImageMagnifier({\n  src,\n  alt,\n  width,\n  height,\n  priority = false,\n  fetchPriority = \"auto\",\n  sizes,\n  className,\n}: ImageMagnifierProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const imageRef = useRef<HTMLDivElement>(null);\n  const [isHovered, setIsHovered] = useState(false);\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n\n  const handleMouseEnter = useCallback(() => {\n    setIsHovered(true);\n  }, []);\n\n  const handleMouseLeave = useCallback(() => {\n    setIsHovered(false);\n  }, []);\n\n  const handleMouseMove = useCallback((e: React.MouseEvent<HTMLDivElement>) => {\n    if (!containerRef.current) return;\n\n    const rect = containerRef.current.getBoundingClientRect();\n    const x = (e.clientX - rect.left) / rect.width;\n    const y = (e.clientY - rect.top) / rect.height;\n\n    // Clamp to 0-1 range\n    const clampedX = Math.max(0, Math.min(1, x));\n    const clampedY = Math.max(0, Math.min(1, y));\n\n    setPosition({\n      x: clampedX,\n      y: clampedY,\n    });\n    setIsHovered(true);\n  }, []);\n\n  return (\n    <div\n      ref={containerRef}\n      className={clsx(styles.container, className)}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n      onMouseMove={handleMouseMove}\n    >\n      <ImageWrapper\n        ref={imageRef}\n        className={clsx(styles.imageWrapper, isHovered && styles.zoomed)}\n        style={\n          isHovered\n            ? {\n                transformOrigin: `${position.x * 100}% ${position.y * 100}%`,\n              }\n            : undefined\n        }\n      >\n        <Image\n          src={src}\n          alt={alt}\n          width={width}\n          height={height}\n          priority={priority}\n          fetchPriority={fetchPriority}\n          sizes={sizes}\n          className={styles.image}\n        />\n      </ImageWrapper>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AACA;AANA;;;;;;;AAmBe,SAAS,eAAe,EACrC,GAAG,EACH,GAAG,EACH,KAAK,EACL,MAAM,EACN,WAAW,KAAK,EAChB,gBAAgB,MAAM,EACtB,KAAK,EACL,SAAS,EACW;IACpB,MAAM,eAAe,IAAA,uZAAM,EAAiB;IAC5C,MAAM,WAAW,IAAA,uZAAM,EAAiB;IACxC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yZAAQ,EAAC;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yZAAQ,EAAC;QAAE,GAAG;QAAG,GAAG;IAAE;IAEtD,MAAM,mBAAmB,IAAA,4ZAAW,EAAC;QACnC,aAAa;IACf,GAAG,EAAE;IAEL,MAAM,mBAAmB,IAAA,4ZAAW,EAAC;QACnC,aAAa;IACf,GAAG,EAAE;IAEL,MAAM,kBAAkB,IAAA,4ZAAW,EAAC,CAAC;QACnC,IAAI,CAAC,aAAa,OAAO,EAAE;QAE3B,MAAM,OAAO,aAAa,OAAO,CAAC,qBAAqB;QACvD,MAAM,IAAI,CAAC,EAAE,OAAO,GAAG,KAAK,IAAI,IAAI,KAAK,KAAK;QAC9C,MAAM,IAAI,CAAC,EAAE,OAAO,GAAG,KAAK,GAAG,IAAI,KAAK,MAAM;QAE9C,qBAAqB;QACrB,MAAM,WAAW,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG;QACzC,MAAM,WAAW,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG;QAEzC,YAAY;YACV,GAAG;YACH,GAAG;QACL;QACA,aAAa;IACf,GAAG,EAAE;IAEL,qBACE,sbAAC;QACC,KAAK;QACL,WAAW,IAAA,8LAAI,EAAC,4KAAM,CAAC,SAAS,EAAE;QAClC,cAAc;QACd,cAAc;QACd,aAAa;kBAEb,cAAA,sbAAC,iLAAY;YACX,KAAK;YACL,WAAW,IAAA,8LAAI,EAAC,4KAAM,CAAC,YAAY,EAAE,aAAa,4KAAM,CAAC,MAAM;YAC/D,OACE,YACI;gBACE,iBAAiB,GAAG,SAAS,CAAC,GAAG,IAAI,EAAE,EAAE,SAAS,CAAC,GAAG,IAAI,CAAC,CAAC;YAC9D,IACA;sBAGN,cAAA,sbAAC,gVAAK;gBACJ,KAAK;gBACL,KAAK;gBACL,OAAO;gBACP,QAAQ;gBACR,UAAU;gBACV,eAAe;gBACf,OAAO;gBACP,WAAW,4KAAM,CAAC,KAAK;;;;;;;;;;;;;;;;AAKjC"}},
    {"offset": {"line": 1621, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Products/ProductGallery/ProductGallery.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"active\": \"ProductGallery-module__ISv3YW__active\",\n  \"gallery\": \"ProductGallery-module__ISv3YW__gallery\",\n  \"image\": \"ProductGallery-module__ISv3YW__image\",\n  \"mainImage\": \"ProductGallery-module__ISv3YW__mainImage\",\n  \"thumbnail\": \"ProductGallery-module__ISv3YW__thumbnail\",\n  \"thumbnailImage\": \"ProductGallery-module__ISv3YW__thumbnailImage\",\n  \"thumbnails\": \"ProductGallery-module__ISv3YW__thumbnails\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1634, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Products/ProductGallery/ProductGallery.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport Image from \"next/image\";\nimport ImageMagnifier from \"@/components/ImageMagnifier/ImageMagnifier\";\nimport styles from \"./ProductGallery.module.css\";\n\ntype ProductImage = {\n  sourceUrl?: string;\n  altText?: string;\n  srcSet?: string;\n  sizes?: string;\n  mediaDetails?: {\n    width?: number;\n    height?: number;\n  };\n};\n\ntype ProductGalleryProps = {\n  mainImage?: ProductImage;\n  galleryImages?: ProductImage[];\n  enableMagnifier?: boolean;\n};\n\nexport default function ProductGallery({\n  mainImage,\n  galleryImages = [],\n  enableMagnifier = true,\n}: ProductGalleryProps) {\n  const [selectedImageIndex, setSelectedImageIndex] = useState(0);\n  const allImages = mainImage ? [mainImage, ...galleryImages] : galleryImages;\n\n  if (allImages.length === 0) {\n    return null;\n  }\n\n  const selectedImage = allImages[selectedImageIndex];\n  const mainImageSrc = selectedImage?.sourceUrl || allImages[0]?.sourceUrl || \"\";\n  const hasValidMainImage = mainImageSrc.length > 0;\n  const mainImageAlt = selectedImage?.altText || allImages[0]?.altText || \"\";\n  const mainImageWidth = selectedImage?.mediaDetails?.width || 800;\n  const mainImageHeight = selectedImage?.mediaDetails?.height || 800;\n\n  return (\n    <div className={styles.gallery}>\n      {hasValidMainImage && enableMagnifier ? (\n        <ImageMagnifier\n          src={mainImageSrc}\n          alt={mainImageAlt}\n          width={mainImageWidth}\n          height={mainImageHeight}\n          priority\n          fetchPriority=\"high\"\n          sizes=\"(max-width: 768px) 100vw, 50vw\"\n          className={styles.mainImage}\n        />\n      ) : hasValidMainImage ? (\n        <div className={styles.mainImage}>\n          <Image\n            src={mainImageSrc}\n            alt={mainImageAlt}\n            width={mainImageWidth}\n            height={mainImageHeight}\n            priority\n            fetchPriority=\"high\"\n            className={styles.image}\n            sizes=\"(max-width: 768px) 100vw, 50vw\"\n          />\n        </div>\n      ) : null}\n      {allImages.length > 1 && (\n        <div className={styles.thumbnails}>\n          {allImages.map((image, index) => {\n            if (!image.sourceUrl || image.sourceUrl.length === 0) return null;\n            return (\n              <button\n                key={index}\n                className={`${styles.thumbnail} ${\n                  selectedImageIndex === index ? styles.active : \"\"\n                }`}\n                onClick={() => setSelectedImageIndex(index)}\n                type=\"button\"\n                aria-label={`Select image: ${image.altText || \"Product image\"}`}\n              >\n                <Image\n                  src={image.sourceUrl}\n                  alt={image.altText || \"\"}\n                  width={image.mediaDetails?.width || 150}\n                  height={image.mediaDetails?.height || 150}\n                  className={styles.thumbnailImage}\n                  sizes=\"150px\"\n                />\n              </button>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAwBe,SAAS,eAAe,EACrC,SAAS,EACT,gBAAgB,EAAE,EAClB,kBAAkB,IAAI,EACF;IACpB,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,yZAAQ,EAAC;IAC7D,MAAM,YAAY,YAAY;QAAC;WAAc;KAAc,GAAG;IAE9D,IAAI,UAAU,MAAM,KAAK,GAAG;QAC1B,OAAO;IACT;IAEA,MAAM,gBAAgB,SAAS,CAAC,mBAAmB;IACnD,MAAM,eAAe,eAAe,aAAa,SAAS,CAAC,EAAE,EAAE,aAAa;IAC5E,MAAM,oBAAoB,aAAa,MAAM,GAAG;IAChD,MAAM,eAAe,eAAe,WAAW,SAAS,CAAC,EAAE,EAAE,WAAW;IACxE,MAAM,iBAAiB,eAAe,cAAc,SAAS;IAC7D,MAAM,kBAAkB,eAAe,cAAc,UAAU;IAE/D,qBACE,sbAAC;QAAI,WAAW,wLAAM,CAAC,OAAO;;YAC3B,qBAAqB,gCACpB,sbAAC,iKAAc;gBACb,KAAK;gBACL,KAAK;gBACL,OAAO;gBACP,QAAQ;gBACR,QAAQ;gBACR,eAAc;gBACd,OAAM;gBACN,WAAW,wLAAM,CAAC,SAAS;;;;;uBAE3B,kCACF,sbAAC;gBAAI,WAAW,wLAAM,CAAC,SAAS;0BAC9B,cAAA,sbAAC,gVAAK;oBACJ,KAAK;oBACL,KAAK;oBACL,OAAO;oBACP,QAAQ;oBACR,QAAQ;oBACR,eAAc;oBACd,WAAW,wLAAM,CAAC,KAAK;oBACvB,OAAM;;;;;;;;;;uBAGR;YACH,UAAU,MAAM,GAAG,mBAClB,sbAAC;gBAAI,WAAW,wLAAM,CAAC,UAAU;0BAC9B,UAAU,GAAG,CAAC,CAAC,OAAO;oBACrB,IAAI,CAAC,MAAM,SAAS,IAAI,MAAM,SAAS,CAAC,MAAM,KAAK,GAAG,OAAO;oBAC7D,qBACE,sbAAC;wBAEC,WAAW,GAAG,wLAAM,CAAC,SAAS,CAAC,CAAC,EAC9B,uBAAuB,QAAQ,wLAAM,CAAC,MAAM,GAAG,IAC/C;wBACF,SAAS,IAAM,sBAAsB;wBACrC,MAAK;wBACL,cAAY,CAAC,cAAc,EAAE,MAAM,OAAO,IAAI,iBAAiB;kCAE/D,cAAA,sbAAC,gVAAK;4BACJ,KAAK,MAAM,SAAS;4BACpB,KAAK,MAAM,OAAO,IAAI;4BACtB,OAAO,MAAM,YAAY,EAAE,SAAS;4BACpC,QAAQ,MAAM,YAAY,EAAE,UAAU;4BACtC,WAAW,wLAAM,CAAC,cAAc;4BAChC,OAAM;;;;;;uBAdH;;;;;gBAkBX;;;;;;;;;;;;AAKV"}}]
}