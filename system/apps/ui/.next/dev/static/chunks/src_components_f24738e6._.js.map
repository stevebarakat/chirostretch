{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Events/EventsCalendar/useCalendarDates.ts"],"sourcesContent":["import {\n  getDay,\n  setDate,\n  addDays,\n  subDays,\n  endOfMonth,\n  startOfMonth,\n  getDaysInMonth,\n} from \"date-fns\";\n\n/**\n * Generates a 2D array of dates for a calendar month view.\n * Includes overflow days from previous/next months to fill complete weeks.\n */\nexport function useCalendarDates(focusedMonth: Date): Date[][] {\n  const daysInMonth = getDaysInMonth(focusedMonth);\n  const firstOfMonth = startOfMonth(focusedMonth);\n  const lastOfMonth = endOfMonth(focusedMonth);\n  const startWeekday = getDay(firstOfMonth); // 0 (Sun) - 6 (Sat)\n  const endWeekday = getDay(lastOfMonth);\n  const daysLeft = 6 - endWeekday;\n\n  // Calculate first date to show (may be from previous month)\n  const firstDayLastMonth = subDays(firstOfMonth, startWeekday);\n  const firstDayNextMonth = addDays(lastOfMonth, 1);\n\n  // Build array of all dates to display\n  const allDates: Date[] = [];\n\n  // Previous month overflow\n  for (let i = 0; i < startWeekday; i++) {\n    allDates.push(addDays(firstDayLastMonth, i));\n  }\n\n  // Current month\n  for (let i = 1; i <= daysInMonth; i++) {\n    allDates.push(setDate(focusedMonth, i));\n  }\n\n  // Next month overflow\n  for (let i = 0; i < daysLeft; i++) {\n    allDates.push(addDays(firstDayNextMonth, i));\n  }\n\n  // Chunk into weeks (7 days each)\n  const weeks: Date[][] = [];\n  for (let i = 0; i < allDates.length; i += 7) {\n    weeks.push(allDates.slice(i, i + 7));\n  }\n\n  return weeks;\n}\n\nexport const WEEKDAYS = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"] as const;\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAcO,SAAS,iBAAiB,YAAkB;IACjD,MAAM,cAAc,IAAA,0NAAc,EAAC;IACnC,MAAM,eAAe,IAAA,sNAAY,EAAC;IAClC,MAAM,cAAc,IAAA,kNAAU,EAAC;IAC/B,MAAM,eAAe,IAAA,0MAAM,EAAC,eAAe,oBAAoB;IAC/D,MAAM,aAAa,IAAA,0MAAM,EAAC;IAC1B,MAAM,WAAW,IAAI;IAErB,4DAA4D;IAC5D,MAAM,oBAAoB,IAAA,4MAAO,EAAC,cAAc;IAChD,MAAM,oBAAoB,IAAA,4MAAO,EAAC,aAAa;IAE/C,sCAAsC;IACtC,MAAM,WAAmB,EAAE;IAE3B,0BAA0B;IAC1B,IAAK,IAAI,IAAI,GAAG,IAAI,cAAc,IAAK;QACrC,SAAS,IAAI,CAAC,IAAA,4MAAO,EAAC,mBAAmB;IAC3C;IAEA,gBAAgB;IAChB,IAAK,IAAI,IAAI,GAAG,KAAK,aAAa,IAAK;QACrC,SAAS,IAAI,CAAC,IAAA,4MAAO,EAAC,cAAc;IACtC;IAEA,sBAAsB;IACtB,IAAK,IAAI,IAAI,GAAG,IAAI,UAAU,IAAK;QACjC,SAAS,IAAI,CAAC,IAAA,4MAAO,EAAC,mBAAmB;IAC3C;IAEA,iCAAiC;IACjC,MAAM,QAAkB,EAAE;IAC1B,IAAK,IAAI,IAAI,GAAG,IAAI,SAAS,MAAM,EAAE,KAAK,EAAG;QAC3C,MAAM,IAAI,CAAC,SAAS,KAAK,CAAC,GAAG,IAAI;IACnC;IAEA,OAAO;AACT;AAEO,MAAM,WAAW;IAAC;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;CAAM"}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Events/EventsCalendar/EventsCalendar.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"calendar\": \"EventsCalendar-module__R4ZGHa__calendar\",\n  \"dateEvents\": \"EventsCalendar-module__R4ZGHa__dateEvents\",\n  \"dateGroup\": \"EventsCalendar-module__R4ZGHa__dateGroup\",\n  \"dateHeader\": \"EventsCalendar-module__R4ZGHa__dateHeader\",\n  \"dayCell\": \"EventsCalendar-module__R4ZGHa__dayCell\",\n  \"dayEvents\": \"EventsCalendar-module__R4ZGHa__dayEvents\",\n  \"dayNumber\": \"EventsCalendar-module__R4ZGHa__dayNumber\",\n  \"desktopView\": \"EventsCalendar-module__R4ZGHa__desktopView\",\n  \"emptyMonth\": \"EventsCalendar-module__R4ZGHa__emptyMonth\",\n  \"eventCity\": \"EventsCalendar-module__R4ZGHa__eventCity\",\n  \"eventItem\": \"EventsCalendar-module__R4ZGHa__eventItem\",\n  \"eventTitle\": \"EventsCalendar-module__R4ZGHa__eventTitle\",\n  \"grid\": \"EventsCalendar-module__R4ZGHa__grid\",\n  \"header\": \"EventsCalendar-module__R4ZGHa__header\",\n  \"highlighted\": \"EventsCalendar-module__R4ZGHa__highlighted\",\n  \"listView\": \"EventsCalendar-module__R4ZGHa__listView\",\n  \"mobileCard\": \"EventsCalendar-module__R4ZGHa__mobileCard\",\n  \"mobileCardContent\": \"EventsCalendar-module__R4ZGHa__mobileCardContent\",\n  \"mobileCardCost\": \"EventsCalendar-module__R4ZGHa__mobileCardCost\",\n  \"mobileCardImage\": \"EventsCalendar-module__R4ZGHa__mobileCardImage\",\n  \"mobileCardLink\": \"EventsCalendar-module__R4ZGHa__mobileCardLink\",\n  \"mobileCardMeta\": \"EventsCalendar-module__R4ZGHa__mobileCardMeta\",\n  \"mobileCardThumb\": \"EventsCalendar-module__R4ZGHa__mobileCardThumb\",\n  \"mobileCardTitle\": \"EventsCalendar-module__R4ZGHa__mobileCardTitle\",\n  \"mobileView\": \"EventsCalendar-module__R4ZGHa__mobileView\",\n  \"monthYear\": \"EventsCalendar-module__R4ZGHa__monthYear\",\n  \"navButton\": \"EventsCalendar-module__R4ZGHa__navButton\",\n  \"otherMonth\": \"EventsCalendar-module__R4ZGHa__otherMonth\",\n  \"pulse\": \"EventsCalendar-module__R4ZGHa__pulse\",\n  \"today\": \"EventsCalendar-module__R4ZGHa__today\",\n  \"week\": \"EventsCalendar-module__R4ZGHa__week\",\n  \"weekday\": \"EventsCalendar-module__R4ZGHa__weekday\",\n  \"weekdayHeader\": \"EventsCalendar-module__R4ZGHa__weekdayHeader\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Events/EventsCalendar/EventsCalendar.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  useReducer,\n  useMemo,\n  useCallback,\n  useImperativeHandle,\n  forwardRef,\n} from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport {\n  format,\n  isSameMonth,\n  isToday,\n  startOfMonth,\n  subMonths,\n  addMonths,\n} from \"date-fns\";\nimport { ChevronLeft, ChevronRight, ArrowRight } from \"lucide-react\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { NoImage } from \"@/components/UI\";\nimport type { Event } from \"../types\";\nimport { useCalendarDates, WEEKDAYS } from \"./useCalendarDates\";\nimport styles from \"./EventsCalendar.module.css\";\n\ntype CalendarState = {\n  focusedMonth: Date;\n};\n\ntype CalendarAction =\n  | { type: \"PREV_MONTH\" }\n  | { type: \"NEXT_MONTH\" }\n  | { type: \"GO_TO_TODAY\" }\n  | { type: \"GO_TO_DATE\"; date: Date };\n\nfunction calendarReducer(\n  state: CalendarState,\n  action: CalendarAction\n): CalendarState {\n  switch (action.type) {\n    case \"PREV_MONTH\":\n      return { focusedMonth: subMonths(state.focusedMonth, 1) };\n    case \"NEXT_MONTH\":\n      return { focusedMonth: addMonths(state.focusedMonth, 1) };\n    case \"GO_TO_TODAY\":\n      return { focusedMonth: startOfMonth(new Date()) };\n    case \"GO_TO_DATE\":\n      return { focusedMonth: startOfMonth(action.date) };\n    default:\n      return state;\n  }\n}\n\nexport type EventsCalendarHandle = {\n  scrollToEvent: (slug: string) => void;\n};\n\nfunction groupEventsByDate(events: Event[]): Map<string, Event[]> {\n  const map = new Map<string, Event[]>();\n  events.forEach((event) => {\n    if (!event.startDate) return;\n    const key = format(new Date(event.startDate), \"yyyy-MM-dd\");\n    map.set(key, [...(map.get(key) || []), event]);\n  });\n  return map;\n}\n\nfunction stripCitySuffix(title?: string): string {\n  if (!title) return \"\";\n  return title.replace(/\\s+at\\s+[A-Za-z\\s]+$/i, \"\").trim();\n}\n\nfunction formatEventDate(startDate?: string): string {\n  if (!startDate) return \"\";\n  const date = new Date(startDate);\n  return date.toLocaleDateString(\"en-US\", {\n    weekday: \"short\",\n    month: \"short\",\n    day: \"numeric\",\n    year: \"numeric\",\n  });\n}\n\nfunction formatEventTime(startDate?: string): string {\n  if (!startDate) return \"\";\n  const date = new Date(startDate);\n  return date.toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n  });\n}\n\nfunction formatCost(cost?: string | null): string {\n  if (!cost || cost === \"0\" || cost === \"$0\" || cost === \"$0.00\") return \"Free\";\n  return cost.startsWith(\"$\") ? cost : `$${cost}`;\n}\n\nexport type EventsCalendarProps = {\n  events: Event[];\n  basePath?: string;\n};\n\nexport const EventsCalendar = forwardRef<\n  EventsCalendarHandle,\n  EventsCalendarProps\n>(function EventsCalendar({ events, basePath = \"/events\" }, ref) {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const [state, dispatch] = useReducer(calendarReducer, {\n    focusedMonth: startOfMonth(new Date()),\n  });\n\n  const weeks = useCalendarDates(state.focusedMonth);\n  const eventsByDate = useMemo(() => groupEventsByDate(events), [events]);\n\n  const scrollToEvent = useCallback(\n    (slug: string) => {\n      const event = events.find((e) => e.slug === slug);\n      if (!event?.startDate) return;\n\n      const eventDate = new Date(event.startDate);\n      dispatch({ type: \"GO_TO_DATE\", date: eventDate });\n\n      setTimeout(() => {\n        const element = document.querySelector<HTMLElement>(\n          `[data-event-slug=\"${slug}\"]`\n        );\n        if (element) {\n          element.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n          element.focus();\n        }\n      }, 100);\n    },\n    [events]\n  );\n\n  useImperativeHandle(ref, () => ({ scrollToEvent }), [scrollToEvent]);\n\n  function handleEventClick(slug: string) {\n    const params = new URLSearchParams(searchParams.toString());\n    params.set(\"event\", slug);\n    router.push(`?${params.toString()}`, { scroll: false });\n  }\n\n  return (\n    <div className={styles.calendar}>\n      {/* Month Navigation Header */}\n      <header className={styles.header}>\n        <button\n          type=\"button\"\n          className={styles.navButton}\n          onClick={() => dispatch({ type: \"PREV_MONTH\" })}\n          aria-label=\"Previous month\"\n        >\n          <ChevronLeft size={20} />\n        </button>\n        <h2 className={styles.monthYear}>\n          {format(state.focusedMonth, \"MMMM yyyy\")}\n        </h2>\n        <button\n          type=\"button\"\n          className={styles.navButton}\n          onClick={() => dispatch({ type: \"NEXT_MONTH\" })}\n          aria-label=\"Next month\"\n        >\n          <ChevronRight size={20} />\n        </button>\n      </header>\n\n      {/* Desktop: Calendar Grid */}\n      <div className={styles.desktopView}>\n        <div className={styles.weekdayHeader} role=\"row\">\n          {WEEKDAYS.map((day) => (\n            <div key={day} className={styles.weekday} role=\"columnheader\">\n              {day}\n            </div>\n          ))}\n        </div>\n\n        <div className={styles.grid} role=\"grid\" aria-label=\"Events calendar\">\n          {weeks.map((week, weekIndex) => (\n            <div key={weekIndex} className={styles.week} role=\"row\">\n              {week.map((date, dayIndex) => {\n                const dateKey = format(date, \"yyyy-MM-dd\");\n                const dayEvents = eventsByDate.get(dateKey) || [];\n                const isCurrentMonth = isSameMonth(date, state.focusedMonth);\n                const isCurrentDay = isToday(date);\n\n                return (\n                  <div\n                    key={dayIndex}\n                    className={`${styles.dayCell} ${\n                      !isCurrentMonth ? styles.otherMonth : \"\"\n                    } ${isCurrentDay ? styles.today : \"\"}`}\n                    role=\"gridcell\"\n                    aria-label={format(date, \"EEEE, MMMM d, yyyy\")}\n                  >\n                    <span className={styles.dayNumber}>\n                      {format(date, \"d\")}\n                    </span>\n                    <div className={styles.dayEvents}>\n                      {dayEvents.map((event) => (\n                        <EventCard\n                          key={event.slug}\n                          event={event}\n                          onClick={() => handleEventClick(event.slug!)}\n                        />\n                      ))}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Mobile: List View */}\n      <div className={styles.mobileView}>\n        <MobileEventsList\n          events={events}\n          focusedMonth={state.focusedMonth}\n          basePath={basePath}\n        />\n      </div>\n    </div>\n  );\n});\n\ntype EventCardProps = {\n  event: Event;\n  onClick: () => void;\n};\n\nfunction EventCard({ event, onClick }: EventCardProps) {\n  const city = event.venue?.city;\n  const title = stripCitySuffix(event.title);\n\n  return (\n    <button\n      type=\"button\"\n      className={styles.eventItem}\n      onClick={onClick}\n      data-event-slug={event.slug}\n    >\n      <span className={styles.eventCity}>{city}</span>\n      <span>-</span>\n      <span className={styles.eventTitle}>{title}</span>\n    </button>\n  );\n}\n\ntype MobileEventsListProps = {\n  events: Event[];\n  focusedMonth: Date;\n  basePath: string;\n};\n\nfunction MobileEventsList({\n  events,\n  focusedMonth,\n  basePath,\n}: MobileEventsListProps) {\n  const monthEvents = events\n    .filter(\n      (e) => e.startDate && isSameMonth(new Date(e.startDate), focusedMonth)\n    )\n    .sort(\n      (a, b) =>\n        new Date(a.startDate!).getTime() - new Date(b.startDate!).getTime()\n    );\n\n  const grouped = groupEventsByDate(monthEvents);\n  const sortedDates = Array.from(grouped.keys()).sort();\n\n  if (sortedDates.length === 0) {\n    return <p className={styles.emptyMonth}>No events this month</p>;\n  }\n\n  return (\n    <div className={styles.listView}>\n      {sortedDates.map((dateKey) => {\n        const dayEvents = grouped.get(dateKey) || [];\n        const date = new Date(dateKey);\n        return (\n          <div key={dateKey} className={styles.dateGroup}>\n            <h3 className={styles.dateHeader}>{format(date, \"MMMM d\")}</h3>\n            <div className={styles.dateEvents}>\n              {dayEvents.map((event) => (\n                <MobileEventCard\n                  key={event.slug}\n                  event={event}\n                  basePath={basePath}\n                />\n              ))}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nfunction MobileEventCard({\n  event,\n  basePath,\n}: {\n  event: Event;\n  basePath: string;\n}) {\n  const title = stripCitySuffix(event.title);\n  const image = event.featuredImage?.node;\n  const dateStr = formatEventDate(event.startDate);\n  const timeStr = formatEventTime(event.startDate);\n  const venue = event.venue?.title;\n\n  return (\n    <article\n      className={styles.mobileCard}\n      data-event-slug={event.slug}\n      tabIndex={-1}\n    >\n      <div className={styles.mobileCardThumb}>\n        {image?.sourceUrl ? (\n          <Image\n            src={image.sourceUrl}\n            alt={image.altText || title}\n            width={100}\n            height={100}\n            className={styles.mobileCardImage}\n          />\n        ) : (\n          <NoImage />\n        )}\n      </div>\n      <div className={styles.mobileCardContent}>\n        <h4 className={styles.mobileCardTitle}>{title}</h4>\n        {event.startDate && (\n          <p className={styles.mobileCardMeta}>\n            {dateStr} Â· {timeStr}\n          </p>\n        )}\n        {venue && <p className={styles.mobileCardMeta}>{venue}</p>}\n        <p className={styles.mobileCardCost}>{formatCost(event.cost)}</p>\n        <Link\n          href={`${basePath}/${event.slug}`}\n          className={styles.mobileCardLink}\n          aria-label={`View full event: ${title}`}\n        >\n          View Full Event <ArrowRight size={14} aria-hidden=\"true\" />\n        </Link>\n      </div>\n    </article>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 645, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Events/EventsGrid/EventsGrid.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"card\": \"EventsGrid-module__xtoRdG__card\",\n  \"category\": \"EventsGrid-module__xtoRdG__category\",\n  \"compactCity\": \"EventsGrid-module__xtoRdG__compactCity\",\n  \"compactContent\": \"EventsGrid-module__xtoRdG__compactContent\",\n  \"compactDay\": \"EventsGrid-module__xtoRdG__compactDay\",\n  \"compactTitle\": \"EventsGrid-module__xtoRdG__compactTitle\",\n  \"fade-in\": \"EventsGrid-module__xtoRdG__fade-in\",\n  \"grid\": \"EventsGrid-module__xtoRdG__grid\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 668, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Events/EventsGrid/EventsGrid.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport type { Event } from \"../types\";\nimport styles from \"./EventsGrid.module.css\";\nimport { Divider } from \"@/components/UI\";\n\ntype EventsGridProps = {\n  events: Event[];\n};\n\nfunction formatCompactDate(startDate?: string): string {\n  if (!startDate) return \"\";\n  const date = new Date(startDate);\n  return date.toLocaleDateString(\"en-US\", { month: \"short\", day: \"numeric\" });\n}\n\nexport function EventsGrid({ events }: EventsGridProps) {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n\n  function handleCardClick(slug: string) {\n    const params = new URLSearchParams(searchParams.toString());\n    params.set(\"event\", slug);\n    router.push(`?${params.toString()}`, { scroll: false });\n  }\n\n  return (\n    <div className={styles.grid}>\n      {events.map((event) => {\n        if (!event.slug) return null;\n\n        const image = event.featuredImage?.node;\n        const day = formatCompactDate(event.startDate);\n        const city = event.venue?.city;\n\n        return (\n          <button\n            key={event.slug}\n            type=\"button\"\n            className={styles.card}\n            onClick={() => handleCardClick(event.slug!)}\n            style={\n              image?.sourceUrl\n                ? { backgroundImage: `url(${image.sourceUrl})` }\n                : undefined\n            }\n          >\n            <div className={styles.compactContent}>\n              <span className={styles.compactDay}>{day}</span>\n              <span className={styles.compactTitle}>{event.title}</span>\n              <Divider\n                orientation=\"horizontal\"\n                thickness=\"thin\"\n                className={styles.divider}\n              />\n              {city && <span className={styles.compactCity}>{city}</span>}\n            </div>\n          </button>\n        );\n      })}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AAAA;;;AALA;;;;AAWA,SAAS,kBAAkB,SAAkB;IAC3C,IAAI,CAAC,WAAW,OAAO;IACvB,MAAM,OAAO,IAAI,KAAK;IACtB,OAAO,KAAK,kBAAkB,CAAC,SAAS;QAAE,OAAO;QAAS,KAAK;IAAU;AAC3E;AAEO,SAAS,WAAW,EAAE,MAAM,EAAmB;;IACpD,MAAM,SAAS,IAAA,0VAAS;IACxB,MAAM,eAAe,IAAA,gWAAe;IAEpC,SAAS,gBAAgB,IAAY;QACnC,MAAM,SAAS,IAAI,gBAAgB,aAAa,QAAQ;QACxD,OAAO,GAAG,CAAC,SAAS;QACpB,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,QAAQ,IAAI,EAAE;YAAE,QAAQ;QAAM;IACvD;IAEA,qBACE,qYAAC;QAAI,WAAW,iLAAM,CAAC,IAAI;kBACxB,OAAO,GAAG,CAAC,CAAC;YACX,IAAI,CAAC,MAAM,IAAI,EAAE,OAAO;YAExB,MAAM,QAAQ,MAAM,aAAa,EAAE;YACnC,MAAM,MAAM,kBAAkB,MAAM,SAAS;YAC7C,MAAM,OAAO,MAAM,KAAK,EAAE;YAE1B,qBACE,qYAAC;gBAEC,MAAK;gBACL,WAAW,iLAAM,CAAC,IAAI;gBACtB,SAAS,IAAM,gBAAgB,MAAM,IAAI;gBACzC,OACE,OAAO,YACH;oBAAE,iBAAiB,CAAC,IAAI,EAAE,MAAM,SAAS,CAAC,CAAC,CAAC;gBAAC,IAC7C;0BAGN,cAAA,qYAAC;oBAAI,WAAW,iLAAM,CAAC,cAAc;;sCACnC,qYAAC;4BAAK,WAAW,iLAAM,CAAC,UAAU;sCAAG;;;;;;sCACrC,qYAAC;4BAAK,WAAW,iLAAM,CAAC,YAAY;sCAAG,MAAM,KAAK;;;;;;sCAClD,qYAAC,gNAAO;4BACN,aAAY;4BACZ,WAAU;4BACV,WAAW,iLAAM,CAAC,OAAO;;;;;;wBAE1B,sBAAQ,qYAAC;4BAAK,WAAW,iLAAM,CAAC,WAAW;sCAAG;;;;;;;;;;;;eAlB5C,MAAM,IAAI;;;;;QAsBrB;;;;;;AAGN;GA9CgB;;QACC,0VAAS;QACH,gWAAe;;;KAFtB"}},
    {"offset": {"line": 795, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Events/EventsContext.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useRef, useCallback, useMemo } from \"react\";\n\ntype ScrollToEventFn = (slug: string) => void;\n\ntype EventsContextValue = {\n  scrollToEvent: (slug: string) => void;\n  registerScrollToEvent: (fn: ScrollToEventFn) => void;\n};\n\nconst EventsContext = createContext<EventsContextValue | null>(null);\n\nexport function EventsProvider({ children }: { children: React.ReactNode }) {\n  const scrollToEventRef = useRef<ScrollToEventFn | null>(null);\n\n  const registerScrollToEvent = useCallback((fn: ScrollToEventFn) => {\n    scrollToEventRef.current = fn;\n  }, []);\n\n  const scrollToEvent = useCallback((slug: string) => {\n    scrollToEventRef.current?.(slug);\n  }, []);\n\n  const value = useMemo(\n    () => ({ scrollToEvent, registerScrollToEvent }),\n    [scrollToEvent, registerScrollToEvent]\n  );\n\n  return (\n    <EventsContext.Provider value={value}>{children}</EventsContext.Provider>\n  );\n}\n\nexport function useEventsContext() {\n  return useContext(EventsContext);\n}\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAWA,MAAM,8BAAgB,IAAA,sXAAa,EAA4B;AAExD,SAAS,eAAe,EAAE,QAAQ,EAAiC;;IACxE,MAAM,mBAAmB,IAAA,+WAAM,EAAyB;IAExD,MAAM,wBAAwB,IAAA,oXAAW;6DAAC,CAAC;YACzC,iBAAiB,OAAO,GAAG;QAC7B;4DAAG,EAAE;IAEL,MAAM,gBAAgB,IAAA,oXAAW;qDAAC,CAAC;YACjC,iBAAiB,OAAO,GAAG;QAC7B;oDAAG,EAAE;IAEL,MAAM,QAAQ,IAAA,gXAAO;yCACnB,IAAM,CAAC;gBAAE;gBAAe;YAAsB,CAAC;wCAC/C;QAAC;QAAe;KAAsB;IAGxC,qBACE,qYAAC,cAAc,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAE3C;GAnBgB;KAAA;AAqBT,SAAS;;IACd,OAAO,IAAA,mXAAU,EAAC;AACpB;IAFgB"}},
    {"offset": {"line": 855, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Search/EventSearchModal.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  InstantSearch,\n  useSearchBox,\n  useHits,\n  Configure,\n} from \"react-instantsearch-hooks-web\";\nimport { searchClient, isAlgoliaConfigured } from \"@/lib/search/client\";\nimport { algoliaConfig } from \"@/config/algolia.config\";\nimport Image from \"next/image\";\nimport { X, Calendar } from \"lucide-react\";\nimport { Modal } from \"@/components/UI\";\nimport { useEventsContext } from \"@/components/Events/EventsContext\";\nimport styles from \"./SearchModal.module.css\";\n\ntype EventSearchModalProps = {\n  isOpen: boolean;\n  onClose: () => void;\n};\n\nfunction SearchBox() {\n  const { query, refine } = useSearchBox();\n  const inputValue = query || \"\";\n\n  function handleChange(e: React.ChangeEvent<HTMLInputElement>) {\n    refine(e.target.value);\n  }\n\n  return (\n    <input\n      type=\"search\"\n      value={inputValue}\n      onChange={handleChange}\n      placeholder=\"Search by event name, location, or date...\"\n      className={styles.searchBox}\n      autoFocus\n    />\n  );\n}\n\ntype EventHit = {\n  objectID: string;\n  title: string;\n  slug: string;\n  startDate?: string;\n  venue?: string;\n  venueCity?: string;\n  venueState?: string;\n  image?: string;\n  imageAlt?: string;\n};\n\nfunction formatDate(startDate?: string): string {\n  if (!startDate) return \"\";\n  return new Date(startDate).toLocaleDateString(\"en-US\", {\n    weekday: \"short\",\n    month: \"short\",\n    day: \"numeric\",\n  });\n}\n\ntype HitComponentProps = {\n  hit: EventHit;\n  onSelect: (slug: string) => void;\n};\n\nfunction EventHitComponent({ hit, onSelect }: HitComponentProps) {\n  const locationParts = [hit.venueCity, hit.venueState]\n    .filter(Boolean)\n    .join(\", \");\n\n  return (\n    <button\n      type=\"button\"\n      className={styles.hit}\n      onClick={() => onSelect(hit.slug)}\n    >\n      <div className={styles.hitImage}>\n        {hit.image ? (\n          <Image\n            src={hit.image}\n            alt={hit.imageAlt || hit.title}\n            width={80}\n            height={80}\n            className={styles.hitImageInner}\n          />\n        ) : (\n          <Calendar\n            size={32}\n            style={{ margin: \"auto\", color: \"var(--color-text-tertiary)\" }}\n          />\n        )}\n      </div>\n      <div className={styles.hitContent}>\n        <h3 className={styles.hitTitle}>{hit.title}</h3>\n        {hit.startDate && (\n          <p className={styles.hitExcerpt}>{formatDate(hit.startDate)}</p>\n        )}\n        {locationParts && <p className={styles.hitExcerpt}>{locationParts}</p>}\n      </div>\n    </button>\n  );\n}\n\ntype SearchResultsProps = {\n  onSelect: (slug: string) => void;\n};\n\nfunction SearchResults({ onSelect }: SearchResultsProps) {\n  const { hits } = useHits<EventHit>();\n  const { query } = useSearchBox();\n\n  if (!query || query.trim() === \"\") {\n    return (\n      <div className={styles.noResults}>\n        <p>Search for events by name, location, or keyword.</p>\n      </div>\n    );\n  }\n\n  if (hits.length === 0) {\n    return (\n      <div className={styles.noResults}>\n        <p>No events found for &quot;{query}&quot;.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.results}>\n      {hits.map((hit) => (\n        <EventHitComponent key={hit.objectID} hit={hit} onSelect={onSelect} />\n      ))}\n    </div>\n  );\n}\n\nexport default function EventSearchModal({\n  isOpen,\n  onClose,\n}: EventSearchModalProps) {\n  const eventsContext = useEventsContext();\n\n  function handleEventSelect(slug: string) {\n    eventsContext?.scrollToEvent(slug);\n    onClose();\n  }\n\n  return (\n    <Modal\n      open={isOpen}\n      onClose={onClose}\n      showCloseButton={false}\n      className={styles.modal}\n    >\n      <div className={styles.content}>\n        <div className={styles.header}>\n          <h2 className={styles.title}>Search Events</h2>\n          <button\n            type=\"button\"\n            onClick={onClose}\n            className={styles.closeButton}\n            aria-label=\"Close search\"\n          >\n            <X size={24} />\n          </button>\n        </div>\n        {!isAlgoliaConfigured() || !searchClient ? (\n          <div className={styles.noResults}>\n            <p>Search is not configured.</p>\n          </div>\n        ) : (\n          // @ts-expect-error - react-instantsearch types incompatible with React 19\n          <InstantSearch\n            searchClient={\n              searchClient as unknown as Parameters<\n                typeof InstantSearch\n              >[0][\"searchClient\"]\n            }\n            indexName={algoliaConfig.indices.events}\n          >\n            <Configure hitsPerPage={10} />\n            <SearchBox />\n            <SearchResults onSelect={handleEventSelect} />\n          </InstantSearch>\n        )}\n      </div>\n    </Modal>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1181, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Events/EventsSearch/EventSearchTrigger.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"icon\": \"EventSearchTrigger-module__OlE4dG__icon\",\n  \"placeholder\": \"EventSearchTrigger-module__OlE4dG__placeholder\",\n  \"trigger\": \"EventSearchTrigger-module__OlE4dG__trigger\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1190, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Events/EventsSearch/EventSearchTrigger.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { Search } from \"lucide-react\";\nimport EventSearchModal from \"@/components/Search/EventSearchModal\";\nimport styles from \"./EventSearchTrigger.module.css\";\n\nexport function EventSearchTrigger() {\n  const [isOpen, setIsOpen] = useState(false);\n\n  return (\n    <>\n      <button\n        type=\"button\"\n        className={styles.trigger}\n        onClick={() => setIsOpen(true)}\n        aria-label=\"Search events\"\n      >\n        <Search className={styles.icon} size={20} aria-hidden=\"true\" />\n        <span className={styles.placeholder}>Search events...</span>\n      </button>\n      <EventSearchModal isOpen={isOpen} onClose={() => setIsOpen(false)} />\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOO,SAAS;;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iXAAQ,EAAC;IAErC,qBACE;;0BACE,qYAAC;gBACC,MAAK;gBACL,WAAW,2LAAM,CAAC,OAAO;gBACzB,SAAS,IAAM,UAAU;gBACzB,cAAW;;kCAEX,qYAAC,uSAAM;wBAAC,WAAW,2LAAM,CAAC,IAAI;wBAAE,MAAM;wBAAI,eAAY;;;;;;kCACtD,qYAAC;wBAAK,WAAW,2LAAM,CAAC,WAAW;kCAAE;;;;;;;;;;;;0BAEvC,qYAAC,8JAAgB;gBAAC,QAAQ;gBAAQ,SAAS,IAAM,UAAU;;;;;;;;AAGjE;GAjBgB;KAAA"}},
    {"offset": {"line": 1262, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Events/EventsCalendar/index.ts"],"sourcesContent":["export { EventsCalendar, type EventsCalendarHandle } from \"./EventsCalendar\";\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 1271, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Events/ExpandedEventModal/ExpandedEventModal.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"categories\": \"ExpandedEventModal-module__M-EGIq__categories\",\n  \"category\": \"ExpandedEventModal-module__M-EGIq__category\",\n  \"closeButton\": \"ExpandedEventModal-module__M-EGIq__closeButton\",\n  \"content\": \"ExpandedEventModal-module__M-EGIq__content\",\n  \"description\": \"ExpandedEventModal-module__M-EGIq__description\",\n  \"excerpt\": \"ExpandedEventModal-module__M-EGIq__excerpt\",\n  \"image\": \"ExpandedEventModal-module__M-EGIq__image\",\n  \"imageWrapper\": \"ExpandedEventModal-module__M-EGIq__imageWrapper\",\n  \"meta\": \"ExpandedEventModal-module__M-EGIq__meta\",\n  \"metaItem\": \"ExpandedEventModal-module__M-EGIq__metaItem\",\n  \"modal\": \"ExpandedEventModal-module__M-EGIq__modal\",\n  \"overlay\": \"ExpandedEventModal-module__M-EGIq__overlay\",\n  \"textContent\": \"ExpandedEventModal-module__M-EGIq__textContent\",\n  \"title\": \"ExpandedEventModal-module__M-EGIq__title\",\n  \"viewLink\": \"ExpandedEventModal-module__M-EGIq__viewLink\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1292, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Events/ExpandedEventModal/ExpandedEventModal.tsx"],"sourcesContent":["\"use client\";\n\n// eslint-disable-next-line no-restricted-imports\nimport { useEffect, useRef, useCallback } from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { motion, AnimatePresence } from \"motion/react\";\nimport {\n  X,\n  Calendar,\n  Clock,\n  DollarSign,\n  MapPin,\n  Users,\n  ArrowRight,\n} from \"lucide-react\";\nimport { ImageWrapper } from \"@/components/UI\";\nimport { NoImage } from \"@/components/UI\";\nimport type { Event } from \"../types\";\nimport styles from \"./ExpandedEventModal.module.css\";\n\ntype ExpandedEventModalProps = {\n  events: Event[];\n  basePath?: string;\n};\n\nfunction formatDate(startDate?: string): string {\n  if (!startDate) return \"\";\n  const date = new Date(startDate);\n  return date.toLocaleDateString(\"en-US\", {\n    weekday: \"short\",\n    month: \"short\",\n    day: \"numeric\",\n    year: \"numeric\",\n  });\n}\n\nfunction formatTime(startDate?: string): string {\n  if (!startDate) return \"\";\n  const date = new Date(startDate);\n  return date.toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n  });\n}\n\nfunction formatCost(cost?: string | null): string {\n  if (!cost || cost === \"0\" || cost === \"$0\" || cost === \"$0.00\") {\n    return \"Free\";\n  }\n  return cost.startsWith(\"$\") ? cost : `$${cost}`;\n}\n\nfunction stripHtml(html: string): string {\n  return html.replace(/<[^>]*>/g, \"\").trim();\n}\n\nexport function ExpandedEventModal({\n  events,\n  basePath = \"\",\n}: ExpandedEventModalProps) {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const activeEventSlug = searchParams.get(\"event\");\n  const modalRef = useRef<HTMLDivElement>(null);\n\n  const activeEvent = events.find((event) => event.slug === activeEventSlug);\n\n  const handleClose = useCallback(() => {\n    const params = new URLSearchParams(searchParams.toString());\n    params.delete(\"event\");\n    const newSearch = params.toString();\n    router.push(newSearch ? `?${newSearch}` : window.location.pathname, {\n      scroll: false,\n    });\n  }, [searchParams, router]);\n\n  // Reason this component must use useEffect:\n  // - Syncing with browser API (document.body.style) to prevent scrolling when modal is open\n  // - This is a side effect that modifies global document state\n  // - Must clean up on unmount or when modal closes\n  useEffect(() => {\n    if (activeEvent) {\n      document.body.style.overflow = \"hidden\";\n    } else {\n      document.body.style.overflow = \"\";\n    }\n\n    return () => {\n      document.body.style.overflow = \"\";\n    };\n  }, [activeEvent]);\n\n  // Reason this component must use useEffect:\n  // - Syncing with browser API (keyboard events and focus management)\n  // - This is a side effect that sets up event listeners and manages focus\n  // - Must clean up event listeners on unmount\n  useEffect(() => {\n    function handleEscape(e: KeyboardEvent) {\n      if (e.key === \"Escape\" && activeEvent) {\n        handleClose();\n      }\n    }\n\n    if (activeEvent) {\n      document.addEventListener(\"keydown\", handleEscape);\n      const firstFocusable = modalRef.current?.querySelector(\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n      ) as HTMLElement;\n      firstFocusable?.focus();\n    }\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscape);\n    };\n  }, [activeEvent, handleClose]);\n\n  function handleBackdropClick(e: React.MouseEvent<HTMLDivElement>) {\n    if (e.target === e.currentTarget) {\n      handleClose();\n    }\n  }\n\n  if (!activeEvent) return null;\n\n  const image = activeEvent.featuredImage?.node;\n  const imageWidth = image?.mediaDetails?.width || 1200;\n  const imageHeight = image?.mediaDetails?.height || 675;\n  const organizer = activeEvent.organizers?.nodes?.[0]?.title;\n  const venueLocation = [activeEvent.venue?.city, activeEvent.venue?.state]\n    .filter(Boolean)\n    .join(\", \");\n  const excerpt = activeEvent.content\n    ? stripHtml(activeEvent.content).substring(0, 300) + \"...\"\n    : \"\";\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        className={styles.overlay}\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        onClick={handleBackdropClick}\n        transition={{ duration: 0.2 }}\n      >\n        <motion.div\n          ref={modalRef}\n          className={styles.modal}\n          onClick={(e) => e.stopPropagation()}\n        >\n          <button\n            type=\"button\"\n            className={styles.closeButton}\n            onClick={handleClose}\n            aria-label=\"Close event details\"\n          >\n            <X size={24} aria-hidden=\"true\" />\n          </button>\n\n          <div className={styles.content}>\n            {image?.sourceUrl ? (\n              <ImageWrapper className={styles.imageWrapper}>\n                <Image\n                  src={image.sourceUrl}\n                  alt={image.altText || activeEvent.title || \"Event image\"}\n                  width={imageWidth}\n                  height={imageHeight}\n                  className={styles.image}\n                  sizes=\"(max-width: 768px) 100vw, 80vw\"\n                />\n              </ImageWrapper>\n            ) : (\n              <ImageWrapper className={styles.imageWrapper}>\n                <NoImage />\n              </ImageWrapper>\n            )}\n\n            <div className={styles.textContent}>\n              <h2 className={styles.title}>{activeEvent.title}</h2>\n\n              {activeEvent.eventsCategories?.nodes &&\n                activeEvent.eventsCategories.nodes.length > 0 && (\n                  <div className={styles.categories}>\n                    {activeEvent.eventsCategories.nodes.map((category) => (\n                      <span key={category.slug} className={styles.category}>\n                        {category.name}\n                      </span>\n                    ))}\n                  </div>\n                )}\n\n              <div className={styles.meta}>\n                {activeEvent.startDate && (\n                  <div className={styles.metaItem}>\n                    <Calendar size={16} />\n                    <span>{formatDate(activeEvent.startDate)}</span>\n                  </div>\n                )}\n                {activeEvent.startDate && (\n                  <div className={styles.metaItem}>\n                    <Clock size={16} />\n                    <span>{formatTime(activeEvent.startDate)}</span>\n                  </div>\n                )}\n                <div className={styles.metaItem}>\n                  <DollarSign size={16} />\n                  <span>{formatCost(activeEvent.cost)}</span>\n                </div>\n                {(activeEvent.venue?.title || venueLocation) && (\n                  <div className={styles.metaItem}>\n                    <MapPin size={16} />\n                    <span>\n                      {activeEvent.venue?.title}\n                      {venueLocation && `, ${venueLocation}`}\n                    </span>\n                  </div>\n                )}\n                {organizer && (\n                  <div className={styles.metaItem}>\n                    <Users size={16} />\n                    <span>{organizer}</span>\n                  </div>\n                )}\n              </div>\n\n              {excerpt && <p className={styles.excerpt}>{excerpt}</p>}\n\n              <Link\n                href={`${basePath}/${activeEvent.slug}`}\n                className={styles.viewLink}\n              >\n                View Full Event <ArrowRight size={16} />\n              </Link>\n            </div>\n          </div>\n        </motion.div>\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1731, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Events/ExpandedEventModal/index.ts"],"sourcesContent":["export { ExpandedEventModal } from \"./ExpandedEventModal\";\n\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 1740, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Events/EventsSearch/InfiniteEventsHits.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"container\": \"InfiniteEventsHits-module__C6JXTW__container\",\n  \"empty\": \"InfiniteEventsHits-module__C6JXTW__empty\",\n  \"sentinel\": \"InfiniteEventsHits-module__C6JXTW__sentinel\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1749, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Events/EventsSearch/InfiniteEventsHits.tsx"],"sourcesContent":["\"use client\";\n\n// eslint-disable-next-line no-restricted-imports\nimport { useRef, useEffect } from \"react\";\nimport { useInfiniteHits, useSearchBox } from \"react-instantsearch-hooks-web\";\nimport { EventsCalendar, type EventsCalendarHandle } from \"../EventsCalendar\";\nimport { ExpandedEventModal } from \"../ExpandedEventModal\";\nimport { useEventsContext } from \"../EventsContext\";\nimport type { Event } from \"../types\";\nimport styles from \"./InfiniteEventsHits.module.css\";\n\ntype EventHit = {\n  objectID: string;\n  title: string;\n  slug: string;\n  content?: string;\n  startDate?: string;\n  endDate?: string;\n  cost?: string;\n  venue?: string;\n  venueCity?: string;\n  venueState?: string;\n  organizer?: string;\n  image?: string;\n  imageAlt?: string;\n};\n\nfunction mapHitToEvent(hit: EventHit): Event {\n  return {\n    id: hit.objectID,\n    slug: hit.slug,\n    title: hit.title,\n    content: hit.content,\n    startDate: hit.startDate,\n    endDate: hit.endDate,\n    cost: hit.cost,\n    venue: hit.venue\n      ? {\n          title: hit.venue,\n          city: hit.venueCity,\n          state: hit.venueState,\n        }\n      : null,\n    organizers: hit.organizer\n      ? {\n          nodes: [{ title: hit.organizer }],\n        }\n      : null,\n    featuredImage: hit.image\n      ? {\n          node: {\n            sourceUrl: hit.image,\n            altText: hit.imageAlt,\n          },\n        }\n      : null,\n  };\n}\n\nexport function InfiniteEventsHits() {\n  const { hits, isLastPage, showMore } = useInfiniteHits<EventHit>();\n  const { query } = useSearchBox();\n  const sentinelRef = useRef<HTMLDivElement>(null);\n  const calendarRef = useRef<EventsCalendarHandle>(null);\n  const eventsContext = useEventsContext();\n\n  // Register scrollToEvent when calendar ref becomes available\n  // Reason: Syncing calendar's scrollToEvent function with context for cross-component access\n  useEffect(() => {\n    if (calendarRef.current && eventsContext) {\n      eventsContext.registerScrollToEvent(calendarRef.current.scrollToEvent);\n    }\n  }, [eventsContext, hits]);\n\n  // Reason this component must use useEffect:\n  // - Syncing with browser API (IntersectionObserver) for infinite scroll\n  // - IntersectionObserver is a browser API that requires DOM access\n  // - This is a side effect that sets up and cleans up an observer when dependencies change\n  useEffect(() => {\n    const sentinel = sentinelRef.current;\n    if (!sentinel) return;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting && !isLastPage) {\n            showMore();\n          }\n        });\n      },\n      { rootMargin: \"400px\" }\n    );\n\n    observer.observe(sentinel);\n    return () => observer.disconnect();\n  }, [isLastPage, showMore]);\n\n  if (hits.length === 0 && query) {\n    return (\n      <div className={styles.empty}>\n        <p>No events found for &ldquo;{query}&rdquo;</p>\n      </div>\n    );\n  }\n\n  if (hits.length === 0) {\n    return (\n      <div className={styles.empty}>\n        <p>No events available.</p>\n      </div>\n    );\n  }\n\n  const events = hits.map(mapHitToEvent);\n\n  return (\n    <div className={styles.container}>\n      <EventsCalendar ref={calendarRef} events={events} basePath=\"/events\" />\n      <ExpandedEventModal events={events} basePath=\"/events\" />\n      <div ref={sentinelRef} aria-hidden=\"true\" className={styles.sentinel} />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA,iDAAiD;AACjD;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAEA;;;AATA;;;;;;;AA2BA,SAAS,cAAc,GAAa;IAClC,OAAO;QACL,IAAI,IAAI,QAAQ;QAChB,MAAM,IAAI,IAAI;QACd,OAAO,IAAI,KAAK;QAChB,SAAS,IAAI,OAAO;QACpB,WAAW,IAAI,SAAS;QACxB,SAAS,IAAI,OAAO;QACpB,MAAM,IAAI,IAAI;QACd,OAAO,IAAI,KAAK,GACZ;YACE,OAAO,IAAI,KAAK;YAChB,MAAM,IAAI,SAAS;YACnB,OAAO,IAAI,UAAU;QACvB,IACA;QACJ,YAAY,IAAI,SAAS,GACrB;YACE,OAAO;gBAAC;oBAAE,OAAO,IAAI,SAAS;gBAAC;aAAE;QACnC,IACA;QACJ,eAAe,IAAI,KAAK,GACpB;YACE,MAAM;gBACJ,WAAW,IAAI,KAAK;gBACpB,SAAS,IAAI,QAAQ;YACvB;QACF,IACA;IACN;AACF;AAEO,SAAS;;IACd,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,IAAA,qVAAe;IACtD,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,+UAAY;IAC9B,MAAM,cAAc,IAAA,+WAAM,EAAiB;IAC3C,MAAM,cAAc,IAAA,+WAAM,EAAuB;IACjD,MAAM,gBAAgB,IAAA,oKAAgB;IAEtC,6DAA6D;IAC7D,4FAA4F;IAC5F,IAAA,kXAAS;wCAAC;YACR,IAAI,YAAY,OAAO,IAAI,eAAe;gBACxC,cAAc,qBAAqB,CAAC,YAAY,OAAO,CAAC,aAAa;YACvE;QACF;uCAAG;QAAC;QAAe;KAAK;IAExB,4CAA4C;IAC5C,wEAAwE;IACxE,mEAAmE;IACnE,0FAA0F;IAC1F,IAAA,kXAAS;wCAAC;YACR,MAAM,WAAW,YAAY,OAAO;YACpC,IAAI,CAAC,UAAU;YAEf,MAAM,WAAW,IAAI;gDACnB,CAAC;oBACC,QAAQ,OAAO;wDAAC,CAAC;4BACf,IAAI,MAAM,cAAc,IAAI,CAAC,YAAY;gCACvC;4BACF;wBACF;;gBACF;+CACA;gBAAE,YAAY;YAAQ;YAGxB,SAAS,OAAO,CAAC;YACjB;gDAAO,IAAM,SAAS,UAAU;;QAClC;uCAAG;QAAC;QAAY;KAAS;IAEzB,IAAI,KAAK,MAAM,KAAK,KAAK,OAAO;QAC9B,qBACE,qYAAC;YAAI,WAAW,2LAAM,CAAC,KAAK;sBAC1B,cAAA,qYAAC;;oBAAE;oBAA4B;oBAAM;;;;;;;;;;;;IAG3C;IAEA,IAAI,KAAK,MAAM,KAAK,GAAG;QACrB,qBACE,qYAAC;YAAI,WAAW,2LAAM,CAAC,KAAK;sBAC1B,cAAA,qYAAC;0BAAE;;;;;;;;;;;IAGT;IAEA,MAAM,SAAS,KAAK,GAAG,CAAC;IAExB,qBACE,qYAAC;QAAI,WAAW,2LAAM,CAAC,SAAS;;0BAC9B,qYAAC,qLAAc;gBAAC,KAAK;gBAAa,QAAQ;gBAAQ,UAAS;;;;;;0BAC3D,qYAAC,iMAAkB;gBAAC,QAAQ;gBAAQ,UAAS;;;;;;0BAC7C,qYAAC;gBAAI,KAAK;gBAAa,eAAY;gBAAO,WAAW,2LAAM,CAAC,QAAQ;;;;;;;;;;;;AAG1E;GA/DgB;;QACyB,qVAAe;QACpC,+UAAY;QAGR,oKAAgB;;;KALxB"}},
    {"offset": {"line": 1941, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Events/EventsSearch/EventsSearch.tsx"],"sourcesContent":["\"use client\";\n\nimport { InstantSearch, Configure } from \"react-instantsearch-hooks-web\";\nimport { searchClient, isAlgoliaConfigured } from \"@/lib/search/client\";\nimport { algoliaConfig } from \"@/config/algolia.config\";\nimport { PageHeader } from \"@/components/UI\";\nimport { ErrorState } from \"@/components/UI\";\nimport { EventsProvider } from \"../EventsContext\";\nimport { EventSearchTrigger } from \"./EventSearchTrigger\";\nimport { InfiniteEventsHits } from \"./InfiniteEventsHits\";\n\nexport function EventsSearch() {\n  if (!isAlgoliaConfigured() || !searchClient) {\n    return (\n      <ErrorState>\n        Search is not configured. Please check your Algolia settings.\n      </ErrorState>\n    );\n  }\n\n  return (\n    <EventsProvider>\n      {/* @ts-expect-error - react-instantsearch types incompatible with React 19 */}\n      <InstantSearch\n        searchClient={\n          searchClient as unknown as Parameters<\n            typeof InstantSearch\n          >[0][\"searchClient\"]\n        }\n        indexName={algoliaConfig.indices.events}\n      >\n        <Configure hitsPerPage={100} />\n        <PageHeader\n          title=\"Events\"\n          subtitle=\"Discover upcoming events and workshops\"\n          searchSlot={<EventSearchTrigger />}\n        />\n        <InfiniteEventsHits />\n      </InstantSearch>\n    </EventsProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;;AAWO,SAAS;IACd,IAAI,CAAC,IAAA,wJAAmB,OAAM,CAAC,iJAAY,EAAE;QAC3C,qBACE,qYAAC,iLAAU;sBAAC;;;;;;IAIhB;IAEA,qBACE,qYAAC,kKAAc;kBAEb,cAAA,qYAAC,iVAAa;YACZ,cACE,iJAAY;YAId,WAAW,sJAAa,CAAC,OAAO,CAAC,MAAM;;8BAEvC,qYAAC,yUAAS;oBAAC,aAAa;;;;;;8BACxB,qYAAC,wNAAU;oBACT,OAAM;oBACN,UAAS;oBACT,0BAAY,qYAAC,2LAAkB;;;;;;;;;;8BAEjC,qYAAC,2LAAkB;;;;;;;;;;;;;;;;AAI3B;KA9BgB"}}]
}