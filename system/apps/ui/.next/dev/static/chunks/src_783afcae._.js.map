{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/utils/constants.ts"],"sourcesContent":["export const blurOptions = {\n  cloud: {\n    cloudName: \"nfcpt\",\n  },\n  transformations: {\n    effect: {\n      name: \"pixelate\",\n    },\n  },\n};\n"],"names":[],"mappings":";;;;AAAO,MAAM,cAAc;IACzB,OAAO;QACL,WAAW;IACb;IACA,iBAAiB;QACf,QAAQ;YACN,MAAM;QACR;IACF;AACF"}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/RawHtml/RawHtml.tsx"],"sourcesContent":["export default function RawHtml({\n  className,\n  children,\n}: {\n  children: React.ReactNode;\n  className?: string;\n}) {\n  return (\n    <span\n      className={className}\n      dangerouslySetInnerHTML={{ __html: children ?? \"\" }}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;;AAAe,SAAS,QAAQ,EAC9B,SAAS,EACT,QAAQ,EAIT;IACC,qBACE,qYAAC;QACC,WAAW;QACX,yBAAyB;YAAE,QAAQ,YAAY;QAAG;;;;;;AAGxD;KAbwB"}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Hero/Hero.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"content\": \"Hero-module__JgYmMq__content\",\n  \"ctaWrapper\": \"Hero-module__JgYmMq__ctaWrapper\",\n  \"description\": \"Hero-module__JgYmMq__description\",\n  \"headline\": \"Hero-module__JgYmMq__headline\",\n  \"hero\": \"Hero-module__JgYmMq__hero\",\n  \"imageWrapper\": \"Hero-module__JgYmMq__imageWrapper\",\n  \"overlay\": \"Hero-module__JgYmMq__overlay\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Hero/Hero.tsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport { usePathname, useSearchParams } from \"next/navigation\";\nimport { blurOptions } from \"@/utils/constants\";\nimport { buildUrl } from \"cloudinary-build-url\";\nimport RawHtml from \"../RawHtml/RawHtml\";\nimport { Button, ButtonIcon } from \"@/components/UI\";\nimport { ImageWrapper } from \"@/components/UI\";\nimport {\n  getSafeImageUrl,\n  useImageFallback,\n  FALLBACK_IMAGES,\n} from \"@/utils/image-helpers\";\nimport styles from \"./Hero.module.css\";\n\ntype IconNode = {\n  sourceUrl?: string;\n  altText?: string;\n  mediaDetails?: {\n    width?: number;\n    height?: number;\n  };\n};\n\ntype HeroUnit = {\n  heroLink?: {\n    target?: string;\n    title?: string;\n    url?: string;\n  };\n  heroLinkIcon?: {\n    node?: IconNode;\n  };\n  heroLink2?: {\n    target?: string;\n    title?: string;\n    url?: string;\n  };\n  heroLinkIcon2?: {\n    node?: IconNode;\n  };\n};\n\ntype HeroProps = {\n  heroUnit?: HeroUnit;\n  featuredImage?: {\n    node?: {\n      altText?: string;\n      sourceUrl?: string;\n      slug?: string;\n      title?: string;\n      description?: string;\n      mediaDetails?: {\n        width?: number;\n        height?: number;\n      };\n    };\n  };\n  description?: string;\n  maxHeight?: number;\n  title?: string;\n};\n\nfunction Hero({\n  featuredImage,\n  heroUnit,\n  description,\n  maxHeight = 750,\n  title,\n}: HeroProps) {\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n  const img = featuredImage?.node;\n  const heading = img?.title || title;\n  const subheading = img?.description || description;\n\n  const style = {\n    maxHeight: `${maxHeight}px`,\n  } as React.CSSProperties;\n\n  const initialUrl = getSafeImageUrl(img?.sourceUrl || \"\", \"hero\");\n  const { currentUrl, handleError } = useImageFallback(\n    initialUrl,\n    FALLBACK_IMAGES.hero\n  );\n  const blurDataURL = buildUrl(img?.slug || \"\", blurOptions);\n\n  if (!img?.sourceUrl) {\n    return null;\n  }\n\n  const icon1 = heroUnit?.heroLinkIcon?.node;\n  const icon2 = heroUnit?.heroLinkIcon2?.node;\n\n  const icon1Element = icon1?.sourceUrl ? (\n    <ButtonIcon icon={icon1} />\n  ) : undefined;\n\n  const icon2Element = icon2?.sourceUrl ? (\n    <ButtonIcon icon={icon2} />\n  ) : undefined;\n\n  const getLinkUrl = (href: string): string => {\n    if (href.startsWith(\"?\")) {\n      const params = new URLSearchParams(href.slice(1));\n      const newParams = new URLSearchParams(searchParams.toString());\n\n      params.forEach((value, key) => {\n        newParams.set(key, value);\n      });\n\n      return newParams.toString()\n        ? `${pathname}?${newParams.toString()}`\n        : pathname;\n    }\n    return href;\n  };\n\n  return (\n    <section className={styles.hero} style={style}>\n      <ImageWrapper className={styles.imageWrapper}>\n        <Image\n          priority\n          fetchPriority=\"high\"\n          fill\n          placeholder=\"blur\"\n          blurDataURL={blurDataURL}\n          src={currentUrl}\n          alt={img?.altText || \"Hero image\"}\n          onError={handleError}\n          sizes=\"100vw\"\n          style={{\n            objectFit: \"cover\",\n            objectPosition: \"center\",\n          }}\n        />\n        <div className={styles.overlay} />\n      </ImageWrapper>\n      <div className={styles.content}>\n        <h1 className={styles.headline}>{heading}</h1>\n        {subheading && (\n          <RawHtml className={styles.description}>{subheading}</RawHtml>\n        )}\n        <div className={styles.ctaWrapper}>\n          {heroUnit?.heroLink?.url && heroUnit?.heroLink?.title && (\n            <>\n              {heroUnit.heroLink.url.startsWith(\"?\") ? (\n                <Button\n                  as=\"Link\"\n                  href={getLinkUrl(heroUnit.heroLink.url)}\n                  scroll={false}\n                  icon={icon1Element}\n                  iconPosition=\"left\"\n                  shadow\n                >\n                  {heroUnit.heroLink.title}\n                </Button>\n              ) : (\n                <Button\n                  as=\"a\"\n                  href={heroUnit.heroLink.url}\n                  icon={icon1Element}\n                  iconPosition=\"left\"\n                  shadow\n                >\n                  {heroUnit.heroLink.title}\n                </Button>\n              )}\n              {heroUnit.heroLink2?.url &&\n                heroUnit.heroLink2?.title &&\n                (heroUnit.heroLink2.url.startsWith(\"?\") ? (\n                  <Button\n                    as=\"Link\"\n                    href={getLinkUrl(heroUnit.heroLink2.url)}\n                    scroll={false}\n                    icon={icon2Element}\n                    iconPosition=\"left\"\n                    color=\"glass\"\n                    outline\n                    shadow\n                  >\n                    {heroUnit.heroLink2.title}\n                  </Button>\n                ) : (\n                  <Button\n                    as=\"a\"\n                    href={heroUnit.heroLink2.url}\n                    icon={icon2Element}\n                    iconPosition=\"left\"\n                    color=\"glass\"\n                    outline\n                    shadow\n                  >\n                    {heroUnit.heroLink2.title}\n                  </Button>\n                ))}\n            </>\n          )}\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default Hero;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Locations/LocationMap.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"mapContainer\": \"LocationMap-module__Jt4qzG__mapContainer\",\n  \"mapError\": \"LocationMap-module__Jt4qzG__mapError\",\n  \"mapIframe\": \"LocationMap-module__Jt4qzG__mapIframe\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 296, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Locations/LocationMap.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo } from \"react\";\nimport styles from \"./LocationMap.module.css\";\n\ntype LocationMapProps = {\n  address?: string;\n  coordinates?: {\n    lat?: number | null;\n    lng?: number | null;\n  };\n  title?: string;\n  mapEmbed?: string;\n};\n\nexport default function LocationMap({\n  address,\n  coordinates,\n  title,\n  mapEmbed,\n}: LocationMapProps) {\n  const embedUrl = useMemo(() => {\n    if (mapEmbed) {\n      return null;\n    }\n\n    if (coordinates?.lat && coordinates?.lng) {\n      const { lat, lng } = coordinates;\n      const query = encodeURIComponent(`${lat},${lng}`);\n      return `https://www.google.com/maps/embed/v1/place?key=${\n        process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY || \"\"\n      }&q=${query}&zoom=15`;\n    }\n\n    if (address || title) {\n      const query = encodeURIComponent(address || title || \"\");\n      return `https://www.google.com/maps/embed/v1/place?key=${\n        process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY || \"\"\n      }&q=${query}&zoom=15`;\n    }\n\n    return null;\n  }, [mapEmbed, coordinates, address, title]);\n\n  if (mapEmbed) {\n    return (\n      <div\n        className={styles.mapContainer}\n        dangerouslySetInnerHTML={{ __html: mapEmbed }}\n      />\n    );\n  }\n\n  if (!embedUrl) {\n    return (\n      <div className={styles.mapError}>\n        <p>Map unavailable</p>\n      </div>\n    );\n  }\n\n  return (\n    <iframe\n      src={embedUrl}\n      className={styles.mapIframe}\n      allowFullScreen\n      loading=\"lazy\"\n      referrerPolicy=\"no-referrer-when-downgrade\"\n      title={title ? `Map for ${title}` : \"Location map\"}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;AAqCQ;;AAnCR;AACA;;;AAHA;;;AAee,SAAS,YAAY,EAClC,OAAO,EACP,WAAW,EACX,KAAK,EACL,QAAQ,EACS;;IACjB,MAAM,WAAW,IAAA,gXAAO;yCAAC;YACvB,IAAI,UAAU;gBACZ,OAAO;YACT;YAEA,IAAI,aAAa,OAAO,aAAa,KAAK;gBACxC,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;gBACrB,MAAM,QAAQ,mBAAmB,GAAG,IAAI,CAAC,EAAE,KAAK;gBAChD,OAAO,CAAC,+CAA+C,EACrD,+EAA+C,GAChD,GAAG,EAAE,MAAM,QAAQ,CAAC;YACvB;YAEA,IAAI,WAAW,OAAO;gBACpB,MAAM,QAAQ,mBAAmB,WAAW,SAAS;gBACrD,OAAO,CAAC,+CAA+C,EACrD,+EAA+C,GAChD,GAAG,EAAE,MAAM,QAAQ,CAAC;YACvB;YAEA,OAAO;QACT;wCAAG;QAAC;QAAU;QAAa;QAAS;KAAM;IAE1C,IAAI,UAAU;QACZ,qBACE,qYAAC;YACC,WAAW,uKAAM,CAAC,YAAY;YAC9B,yBAAyB;gBAAE,QAAQ;YAAS;;;;;;IAGlD;IAEA,IAAI,CAAC,UAAU;QACb,qBACE,qYAAC;YAAI,WAAW,uKAAM,CAAC,QAAQ;sBAC7B,cAAA,qYAAC;0BAAE;;;;;;;;;;;IAGT;IAEA,qBACE,qYAAC;QACC,KAAK;QACL,WAAW,uKAAM,CAAC,SAAS;QAC3B,eAAe;QACf,SAAQ;QACR,gBAAe;QACf,OAAO,QAAQ,CAAC,QAAQ,EAAE,OAAO,GAAG;;;;;;AAG1C;GAxDwB;KAAA"}},
    {"offset": {"line": 384, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Locations/LocationMapWrapper.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"placeholder\": \"LocationMapWrapper-module__G3pDaW__placeholder\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA"}},
    {"offset": {"line": 391, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Locations/LocationMapWrapper.tsx"],"sourcesContent":["\"use client\";\n\nimport dynamic from \"next/dynamic\";\nimport styles from \"./LocationMapWrapper.module.css\";\n\nconst LocationMap = dynamic(\n  () => import(\"./LocationMap\").then((mod) => mod.default),\n  {\n    ssr: false,\n    loading: () => <div className={styles.placeholder}>Loading map...</div>,\n  }\n);\n\ntype LocationMapWrapperProps = {\n  title?: string;\n  coordinates?: {\n    lat?: number | null;\n    lng?: number | null;\n  };\n  address?: string;\n  mapEmbed?: string;\n};\n\nexport default function LocationMapWrapper(props: LocationMapWrapperProps) {\n  return <LocationMap {...props} />;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;AAHA;;;;AAKA,MAAM,cAAc,IAAA,qXAAO,EACzB,IAAM,0IAAwB,IAAI,CAAC,CAAC,MAAQ,IAAI,OAAO;;;;;;IAErD,KAAK;IACL,SAAS,kBAAM,qYAAC;YAAI,WAAW,8KAAM,CAAC,WAAW;sBAAE;;;;;;;KAJjD;AAkBS,SAAS,mBAAmB,KAA8B;IACvE,qBAAO,qYAAC;QAAa,GAAG,KAAK;;;;;;AAC/B;MAFwB"}},
    {"offset": {"line": 439, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Locations/ServicesTabs/ServicesTabs.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"benefitItem\": \"ServicesTabs-module__lYcd6q__benefitItem\",\n  \"benefitsList\": \"ServicesTabs-module__lYcd6q__benefitsList\",\n  \"checkIcon\": \"ServicesTabs-module__lYcd6q__checkIcon\",\n  \"content\": \"ServicesTabs-module__lYcd6q__content\",\n  \"contentDescription\": \"ServicesTabs-module__lYcd6q__contentDescription\",\n  \"contentGrid\": \"ServicesTabs-module__lYcd6q__contentGrid\",\n  \"contentImage\": \"ServicesTabs-module__lYcd6q__contentImage\",\n  \"contentText\": \"ServicesTabs-module__lYcd6q__contentText\",\n  \"contentTitle\": \"ServicesTabs-module__lYcd6q__contentTitle\",\n  \"fade-in\": \"ServicesTabs-module__lYcd6q__fade-in\",\n  \"image\": \"ServicesTabs-module__lYcd6q__image\",\n  \"root\": \"ServicesTabs-module__lYcd6q__root\",\n  \"sectionSubtitle\": \"ServicesTabs-module__lYcd6q__sectionSubtitle\",\n  \"sectionTitle\": \"ServicesTabs-module__lYcd6q__sectionTitle\",\n  \"tabIconFallback\": \"ServicesTabs-module__lYcd6q__tabIconFallback\",\n  \"tabIconImage\": \"ServicesTabs-module__lYcd6q__tabIconImage\",\n  \"tabList\": \"ServicesTabs-module__lYcd6q__tabList\",\n  \"tip\": \"ServicesTabs-module__lYcd6q__tip\",\n  \"trigger\": \"ServicesTabs-module__lYcd6q__trigger\",\n  \"triggerIcon\": \"ServicesTabs-module__lYcd6q__triggerIcon\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 465, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Locations/ServicesTabs/ServicesTabsClient.tsx"],"sourcesContent":["\"use client\";\n\nimport * as Tabs from \"@radix-ui/react-tabs\";\nimport Image from \"next/image\";\nimport { Check } from \"lucide-react\";\nimport styles from \"./ServicesTabs.module.css\";\nimport type { Service } from \"@/lib/graphql/queries\";\n\ntype ServicesTabsClientProps = {\n  services: Service[];\n};\n\nexport function ServicesTabsClient({ services }: ServicesTabsClientProps) {\n  if (services.length === 0) {\n    return null;\n  }\n\n  const defaultValue = services[0]?.tabLabel.toLowerCase().replace(/\\s+/g, \"-\");\n\n  return (\n    <Tabs.Root className={styles.root} defaultValue={defaultValue}>\n      <Tabs.List className={styles.tabList} aria-label=\"Our Core Therapies\">\n        {services.map((service) => {\n          const id = service.tabLabel.toLowerCase().replace(/\\s+/g, \"-\");\n          return (\n            <Tabs.Trigger key={id} className={styles.trigger} value={id}>\n              <span className={styles.triggerIcon}>\n                {service.tabIcon ? (\n                  <Image\n                    src={service.tabIcon.sourceUrl}\n                    alt={service.tabIcon.altText || service.tabLabel}\n                    width={16}\n                    height={16}\n                    className={styles.tabIconImage}\n                  />\n                ) : (\n                  <span className={styles.tabIconFallback}>&#9670;</span>\n                )}\n              </span>\n              {service.tabLabel}\n            </Tabs.Trigger>\n          );\n        })}\n      </Tabs.List>\n\n      {services.map((service) => {\n        const id = service.tabLabel.toLowerCase().replace(/\\s+/g, \"-\");\n        return (\n          <Tabs.Content key={id} className={styles.content} value={id}>\n            <div className={styles.contentGrid}>\n              <div className={styles.contentText}>\n                <h3 className={styles.contentTitle}>{service.title}</h3>\n                <p className={styles.contentDescription}>\n                  {service.description}\n                </p>\n\n                <ul className={styles.benefitsList}>\n                  {service.bulletPoints.map((bullet, index) => (\n                    <li key={index} className={styles.benefitItem}>\n                      <Check className={styles.checkIcon} />\n                      <span>{bullet}</span>\n                    </li>\n                  ))}\n                </ul>\n\n                {service.infoBox && (\n                  <div className={styles.tip}>\n                    <p>{service.infoBox}</p>\n                  </div>\n                )}\n              </div>\n\n              <div className={styles.contentImage}>\n                {service.image ? (\n                  <Image\n                    src={service.image.sourceUrl}\n                    alt={service.image.altText || service.title}\n                    width={service.image.mediaDetails?.width || 500}\n                    height={service.image.mediaDetails?.height || 400}\n                    className={styles.image}\n                  />\n                ) : (\n                  <Image\n                    src={`https://images.unsplash.com/photo-1544161515-4ab6ce6db874?w=600&h=480&fit=crop`}\n                    alt={service.title}\n                    width={500}\n                    height={400}\n                    className={styles.image}\n                  />\n                )}\n              </div>\n            </div>\n          </Tabs.Content>\n        );\n      })}\n    </Tabs.Root>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAYO,SAAS,mBAAmB,EAAE,QAAQ,EAA2B;IACtE,IAAI,SAAS,MAAM,KAAK,GAAG;QACzB,OAAO;IACT;IAEA,MAAM,eAAe,QAAQ,CAAC,EAAE,EAAE,SAAS,cAAc,QAAQ,QAAQ;IAEzE,qBACE,qYAAC,+XAAS;QAAC,WAAW,wLAAM,CAAC,IAAI;QAAE,cAAc;;0BAC/C,qYAAC,+XAAS;gBAAC,WAAW,wLAAM,CAAC,OAAO;gBAAE,cAAW;0BAC9C,SAAS,GAAG,CAAC,CAAC;oBACb,MAAM,KAAK,QAAQ,QAAQ,CAAC,WAAW,GAAG,OAAO,CAAC,QAAQ;oBAC1D,qBACE,qYAAC,kYAAY;wBAAU,WAAW,wLAAM,CAAC,OAAO;wBAAE,OAAO;;0CACvD,qYAAC;gCAAK,WAAW,wLAAM,CAAC,WAAW;0CAChC,QAAQ,OAAO,iBACd,qYAAC,mVAAK;oCACJ,KAAK,QAAQ,OAAO,CAAC,SAAS;oCAC9B,KAAK,QAAQ,OAAO,CAAC,OAAO,IAAI,QAAQ,QAAQ;oCAChD,OAAO;oCACP,QAAQ;oCACR,WAAW,wLAAM,CAAC,YAAY;;;;;yDAGhC,qYAAC;oCAAK,WAAW,wLAAM,CAAC,eAAe;8CAAE;;;;;;;;;;;4BAG5C,QAAQ,QAAQ;;uBAdA;;;;;gBAiBvB;;;;;;YAGD,SAAS,GAAG,CAAC,CAAC;gBACb,MAAM,KAAK,QAAQ,QAAQ,CAAC,WAAW,GAAG,OAAO,CAAC,QAAQ;gBAC1D,qBACE,qYAAC,kYAAY;oBAAU,WAAW,wLAAM,CAAC,OAAO;oBAAE,OAAO;8BACvD,cAAA,qYAAC;wBAAI,WAAW,wLAAM,CAAC,WAAW;;0CAChC,qYAAC;gCAAI,WAAW,wLAAM,CAAC,WAAW;;kDAChC,qYAAC;wCAAG,WAAW,wLAAM,CAAC,YAAY;kDAAG,QAAQ,KAAK;;;;;;kDAClD,qYAAC;wCAAE,WAAW,wLAAM,CAAC,kBAAkB;kDACpC,QAAQ,WAAW;;;;;;kDAGtB,qYAAC;wCAAG,WAAW,wLAAM,CAAC,YAAY;kDAC/B,QAAQ,YAAY,CAAC,GAAG,CAAC,CAAC,QAAQ,sBACjC,qYAAC;gDAAe,WAAW,wLAAM,CAAC,WAAW;;kEAC3C,qYAAC,oSAAK;wDAAC,WAAW,wLAAM,CAAC,SAAS;;;;;;kEAClC,qYAAC;kEAAM;;;;;;;+CAFA;;;;;;;;;;oCAOZ,QAAQ,OAAO,kBACd,qYAAC;wCAAI,WAAW,wLAAM,CAAC,GAAG;kDACxB,cAAA,qYAAC;sDAAG,QAAQ,OAAO;;;;;;;;;;;;;;;;;0CAKzB,qYAAC;gCAAI,WAAW,wLAAM,CAAC,YAAY;0CAChC,QAAQ,KAAK,iBACZ,qYAAC,mVAAK;oCACJ,KAAK,QAAQ,KAAK,CAAC,SAAS;oCAC5B,KAAK,QAAQ,KAAK,CAAC,OAAO,IAAI,QAAQ,KAAK;oCAC3C,OAAO,QAAQ,KAAK,CAAC,YAAY,EAAE,SAAS;oCAC5C,QAAQ,QAAQ,KAAK,CAAC,YAAY,EAAE,UAAU;oCAC9C,WAAW,wLAAM,CAAC,KAAK;;;;;yDAGzB,qYAAC,mVAAK;oCACJ,KAAK,CAAC,8EAA8E,CAAC;oCACrF,KAAK,QAAQ,KAAK;oCAClB,OAAO;oCACP,QAAQ;oCACR,WAAW,wLAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;mBAvCd;;;;;YA8CvB;;;;;;;AAGN;KArFgB"}},
    {"offset": {"line": 679, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Events/EventsContext.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useRef, useCallback, useMemo } from \"react\";\n\ntype ScrollToEventFn = (slug: string) => void;\n\ntype EventsContextValue = {\n  scrollToEvent: (slug: string) => void;\n  registerScrollToEvent: (fn: ScrollToEventFn) => void;\n};\n\nconst EventsContext = createContext<EventsContextValue | null>(null);\n\nexport function EventsProvider({ children }: { children: React.ReactNode }) {\n  const scrollToEventRef = useRef<ScrollToEventFn | null>(null);\n\n  const registerScrollToEvent = useCallback((fn: ScrollToEventFn) => {\n    scrollToEventRef.current = fn;\n  }, []);\n\n  const scrollToEvent = useCallback((slug: string) => {\n    scrollToEventRef.current?.(slug);\n  }, []);\n\n  const value = useMemo(\n    () => ({ scrollToEvent, registerScrollToEvent }),\n    [scrollToEvent, registerScrollToEvent]\n  );\n\n  return (\n    <EventsContext.Provider value={value}>{children}</EventsContext.Provider>\n  );\n}\n\nexport function useEventsContext() {\n  return useContext(EventsContext);\n}\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAWA,MAAM,8BAAgB,IAAA,sXAAa,EAA4B;AAExD,SAAS,eAAe,EAAE,QAAQ,EAAiC;;IACxE,MAAM,mBAAmB,IAAA,+WAAM,EAAyB;IAExD,MAAM,wBAAwB,IAAA,oXAAW;6DAAC,CAAC;YACzC,iBAAiB,OAAO,GAAG;QAC7B;4DAAG,EAAE;IAEL,MAAM,gBAAgB,IAAA,oXAAW;qDAAC,CAAC;YACjC,iBAAiB,OAAO,GAAG;QAC7B;oDAAG,EAAE;IAEL,MAAM,QAAQ,IAAA,gXAAO;yCACnB,IAAM,CAAC;gBAAE;gBAAe;YAAsB,CAAC;wCAC/C;QAAC;QAAe;KAAsB;IAGxC,qBACE,qYAAC,cAAc,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAE3C;GAnBgB;KAAA;AAqBT,SAAS;;IACd,OAAO,IAAA,mXAAU,EAAC;AACpB;IAFgB"}},
    {"offset": {"line": 739, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Search/EventSearchModal.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  InstantSearch,\n  useSearchBox,\n  useHits,\n  Configure,\n} from \"react-instantsearch-hooks-web\";\nimport { searchClient, isAlgoliaConfigured } from \"@/lib/search/client\";\nimport { algoliaConfig } from \"@/config/algolia.config\";\nimport Image from \"next/image\";\nimport { X, Calendar } from \"lucide-react\";\nimport { Modal } from \"@/components/UI\";\nimport { useEventsContext } from \"@/components/Events/EventsContext\";\nimport styles from \"./SearchModal.module.css\";\n\ntype EventSearchModalProps = {\n  isOpen: boolean;\n  onClose: () => void;\n};\n\nfunction SearchBox() {\n  const { query, refine } = useSearchBox();\n  const inputValue = query || \"\";\n\n  function handleChange(e: React.ChangeEvent<HTMLInputElement>) {\n    refine(e.target.value);\n  }\n\n  return (\n    <input\n      type=\"search\"\n      value={inputValue}\n      onChange={handleChange}\n      placeholder=\"Search by event name, location, or date...\"\n      className={styles.searchBox}\n      autoFocus\n    />\n  );\n}\n\ntype EventHit = {\n  objectID: string;\n  title: string;\n  slug: string;\n  startDate?: string;\n  venue?: string;\n  venueCity?: string;\n  venueState?: string;\n  image?: string;\n  imageAlt?: string;\n};\n\nfunction formatDate(startDate?: string): string {\n  if (!startDate) return \"\";\n  return new Date(startDate).toLocaleDateString(\"en-US\", {\n    weekday: \"short\",\n    month: \"short\",\n    day: \"numeric\",\n  });\n}\n\ntype HitComponentProps = {\n  hit: EventHit;\n  onSelect: (slug: string) => void;\n};\n\nfunction EventHitComponent({ hit, onSelect }: HitComponentProps) {\n  const locationParts = [hit.venueCity, hit.venueState]\n    .filter(Boolean)\n    .join(\", \");\n\n  return (\n    <button\n      type=\"button\"\n      className={styles.hit}\n      onClick={() => onSelect(hit.slug)}\n    >\n      <div className={styles.hitImage}>\n        {hit.image ? (\n          <Image\n            src={hit.image}\n            alt={hit.imageAlt || hit.title}\n            width={80}\n            height={80}\n            className={styles.hitImageInner}\n          />\n        ) : (\n          <Calendar\n            size={32}\n            style={{ margin: \"auto\", color: \"var(--color-text-tertiary)\" }}\n          />\n        )}\n      </div>\n      <div className={styles.hitContent}>\n        <h3 className={styles.hitTitle}>{hit.title}</h3>\n        {hit.startDate && (\n          <p className={styles.hitExcerpt}>{formatDate(hit.startDate)}</p>\n        )}\n        {locationParts && <p className={styles.hitExcerpt}>{locationParts}</p>}\n      </div>\n    </button>\n  );\n}\n\ntype SearchResultsProps = {\n  onSelect: (slug: string) => void;\n};\n\nfunction SearchResults({ onSelect }: SearchResultsProps) {\n  const { hits } = useHits<EventHit>();\n  const { query } = useSearchBox();\n\n  if (!query || query.trim() === \"\") {\n    return (\n      <div className={styles.noResults}>\n        <p>Search for events by name, location, or keyword.</p>\n      </div>\n    );\n  }\n\n  if (hits.length === 0) {\n    return (\n      <div className={styles.noResults}>\n        <p>No events found for &quot;{query}&quot;.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.results}>\n      {hits.map((hit) => (\n        <EventHitComponent key={hit.objectID} hit={hit} onSelect={onSelect} />\n      ))}\n    </div>\n  );\n}\n\nexport default function EventSearchModal({\n  isOpen,\n  onClose,\n}: EventSearchModalProps) {\n  const eventsContext = useEventsContext();\n\n  function handleEventSelect(slug: string) {\n    eventsContext?.scrollToEvent(slug);\n    onClose();\n  }\n\n  return (\n    <Modal\n      open={isOpen}\n      onClose={onClose}\n      showCloseButton={false}\n      className={styles.modal}\n    >\n      <div className={styles.content}>\n        <div className={styles.header}>\n          <h2 className={styles.title}>Search Events</h2>\n          <button\n            type=\"button\"\n            onClick={onClose}\n            className={styles.closeButton}\n            aria-label=\"Close search\"\n          >\n            <X size={24} />\n          </button>\n        </div>\n        {!isAlgoliaConfigured() || !searchClient ? (\n          <div className={styles.noResults}>\n            <p>Search is not configured.</p>\n          </div>\n        ) : (\n          // @ts-expect-error - react-instantsearch types incompatible with React 19\n          <InstantSearch\n            searchClient={\n              searchClient as unknown as Parameters<\n                typeof InstantSearch\n              >[0][\"searchClient\"]\n            }\n            indexName={algoliaConfig.indices.events}\n          >\n            <Configure hitsPerPage={10} />\n            <SearchBox />\n            <SearchResults onSelect={handleEventSelect} />\n          </InstantSearch>\n        )}\n      </div>\n    </Modal>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;;;AAdA;;;;;;;;;AAqBA,SAAS;;IACP,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,IAAA,+UAAY;IACtC,MAAM,aAAa,SAAS;IAE5B,SAAS,aAAa,CAAsC;QAC1D,OAAO,EAAE,MAAM,CAAC,KAAK;IACvB;IAEA,qBACE,qYAAC;QACC,MAAK;QACL,OAAO;QACP,UAAU;QACV,aAAY;QACZ,WAAW,oKAAM,CAAC,SAAS;QAC3B,SAAS;;;;;;AAGf;GAlBS;;QACmB,+UAAY;;;KAD/B;AAgCT,SAAS,WAAW,SAAkB;IACpC,IAAI,CAAC,WAAW,OAAO;IACvB,OAAO,IAAI,KAAK,WAAW,kBAAkB,CAAC,SAAS;QACrD,SAAS;QACT,OAAO;QACP,KAAK;IACP;AACF;AAOA,SAAS,kBAAkB,EAAE,GAAG,EAAE,QAAQ,EAAqB;IAC7D,MAAM,gBAAgB;QAAC,IAAI,SAAS;QAAE,IAAI,UAAU;KAAC,CAClD,MAAM,CAAC,SACP,IAAI,CAAC;IAER,qBACE,qYAAC;QACC,MAAK;QACL,WAAW,oKAAM,CAAC,GAAG;QACrB,SAAS,IAAM,SAAS,IAAI,IAAI;;0BAEhC,qYAAC;gBAAI,WAAW,oKAAM,CAAC,QAAQ;0BAC5B,IAAI,KAAK,iBACR,qYAAC,mVAAK;oBACJ,KAAK,IAAI,KAAK;oBACd,KAAK,IAAI,QAAQ,IAAI,IAAI,KAAK;oBAC9B,OAAO;oBACP,QAAQ;oBACR,WAAW,oKAAM,CAAC,aAAa;;;;;yCAGjC,qYAAC,6SAAQ;oBACP,MAAM;oBACN,OAAO;wBAAE,QAAQ;wBAAQ,OAAO;oBAA6B;;;;;;;;;;;0BAInE,qYAAC;gBAAI,WAAW,oKAAM,CAAC,UAAU;;kCAC/B,qYAAC;wBAAG,WAAW,oKAAM,CAAC,QAAQ;kCAAG,IAAI,KAAK;;;;;;oBACzC,IAAI,SAAS,kBACZ,qYAAC;wBAAE,WAAW,oKAAM,CAAC,UAAU;kCAAG,WAAW,IAAI,SAAS;;;;;;oBAE3D,+BAAiB,qYAAC;wBAAE,WAAW,oKAAM,CAAC,UAAU;kCAAG;;;;;;;;;;;;;;;;;;AAI5D;MApCS;AA0CT,SAAS,cAAc,EAAE,QAAQ,EAAsB;;IACrD,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,qUAAO;IACxB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,+UAAY;IAE9B,IAAI,CAAC,SAAS,MAAM,IAAI,OAAO,IAAI;QACjC,qBACE,qYAAC;YAAI,WAAW,oKAAM,CAAC,SAAS;sBAC9B,cAAA,qYAAC;0BAAE;;;;;;;;;;;IAGT;IAEA,IAAI,KAAK,MAAM,KAAK,GAAG;QACrB,qBACE,qYAAC;YAAI,WAAW,oKAAM,CAAC,SAAS;sBAC9B,cAAA,qYAAC;;oBAAE;oBAA2B;oBAAM;;;;;;;;;;;;IAG1C;IAEA,qBACE,qYAAC;QAAI,WAAW,oKAAM,CAAC,OAAO;kBAC3B,KAAK,GAAG,CAAC,CAAC,oBACT,qYAAC;gBAAqC,KAAK;gBAAK,UAAU;eAAlC,IAAI,QAAQ;;;;;;;;;;AAI5C;IA3BS;;QACU,qUAAO;QACN,+UAAY;;;MAFvB;AA6BM,SAAS,iBAAiB,EACvC,MAAM,EACN,OAAO,EACe;;IACtB,MAAM,gBAAgB,IAAA,oKAAgB;IAEtC,SAAS,kBAAkB,IAAY;QACrC,eAAe,cAAc;QAC7B;IACF;IAEA,qBACE,qYAAC,sMAAK;QACJ,MAAM;QACN,SAAS;QACT,iBAAiB;QACjB,WAAW,oKAAM,CAAC,KAAK;kBAEvB,cAAA,qYAAC;YAAI,WAAW,oKAAM,CAAC,OAAO;;8BAC5B,qYAAC;oBAAI,WAAW,oKAAM,CAAC,MAAM;;sCAC3B,qYAAC;4BAAG,WAAW,oKAAM,CAAC,KAAK;sCAAE;;;;;;sCAC7B,qYAAC;4BACC,MAAK;4BACL,SAAS;4BACT,WAAW,oKAAM,CAAC,WAAW;4BAC7B,cAAW;sCAEX,cAAA,qYAAC,wRAAC;gCAAC,MAAM;;;;;;;;;;;;;;;;;gBAGZ,CAAC,IAAA,wJAAmB,OAAM,CAAC,iJAAY,iBACtC,qYAAC;oBAAI,WAAW,oKAAM,CAAC,SAAS;8BAC9B,cAAA,qYAAC;kCAAE;;;;;;;;;;2BAGL,0EAA0E;8BAC1E,qYAAC,iVAAa;oBACZ,cACE,iJAAY;oBAId,WAAW,sJAAa,CAAC,OAAO,CAAC,MAAM;;sCAEvC,qYAAC,yUAAS;4BAAC,aAAa;;;;;;sCACxB,qYAAC;;;;;sCACD,qYAAC;4BAAc,UAAU;;;;;;;;;;;;;;;;;;;;;;;AAMrC;IApDwB;;QAIA,oKAAgB;;;MAJhB"}},
    {"offset": {"line": 1065, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Search/AlgoliaSearchBox.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"clearButton\": \"AlgoliaSearchBox-module__CZD6La__clearButton\",\n  \"search\": \"AlgoliaSearchBox-module__CZD6La__search\",\n  \"searchIcon\": \"AlgoliaSearchBox-module__CZD6La__searchIcon\",\n  \"searchInput\": \"AlgoliaSearchBox-module__CZD6La__searchInput\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1075, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Search/AlgoliaSearchBox.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSearchBox } from \"react-instantsearch-hooks-web\";\nimport { Search, X } from \"lucide-react\";\nimport styles from \"./AlgoliaSearchBox.module.css\";\n\ntype AlgoliaSearchBoxProps = {\n  placeholder?: string;\n};\n\nexport function AlgoliaSearchBox({\n  placeholder = \"Search...\",\n}: AlgoliaSearchBoxProps) {\n  const { query, refine, clear } = useSearchBox();\n\n  return (\n    <div className={styles.search}>\n      <Search className={styles.searchIcon} size={20} aria-hidden=\"true\" />\n      <input\n        type=\"search\"\n        value={query}\n        onChange={(e) => refine(e.target.value)}\n        placeholder={placeholder}\n        className={styles.searchInput}\n        aria-label={placeholder}\n      />\n      {query && (\n        <button\n          type=\"button\"\n          onClick={() => clear()}\n          className={styles.clearButton}\n          aria-label=\"Clear search\"\n        >\n          <X size={16} />\n        </button>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;;;AAJA;;;;AAUO,SAAS,iBAAiB,EAC/B,cAAc,WAAW,EACH;;IACtB,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,+UAAY;IAE7C,qBACE,qYAAC;QAAI,WAAW,yKAAM,CAAC,MAAM;;0BAC3B,qYAAC,uSAAM;gBAAC,WAAW,yKAAM,CAAC,UAAU;gBAAE,MAAM;gBAAI,eAAY;;;;;;0BAC5D,qYAAC;gBACC,MAAK;gBACL,OAAO;gBACP,UAAU,CAAC,IAAM,OAAO,EAAE,MAAM,CAAC,KAAK;gBACtC,aAAa;gBACb,WAAW,yKAAM,CAAC,WAAW;gBAC7B,cAAY;;;;;;YAEb,uBACC,qYAAC;gBACC,MAAK;gBACL,SAAS,IAAM;gBACf,WAAW,yKAAM,CAAC,WAAW;gBAC7B,cAAW;0BAEX,cAAA,qYAAC,wRAAC;oBAAC,MAAM;;;;;;;;;;;;;;;;;AAKnB;GA5BgB;;QAGmB,+UAAY;;;KAH/B"}},
    {"offset": {"line": 1156, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Search/index.ts"],"sourcesContent":["export { default as SearchModal } from \"./SearchModal\";\nexport { default as LocationSearchModal } from \"./LocationSearchModal\";\nexport { default as EventSearchModal } from \"./EventSearchModal\";\nexport { AlgoliaSearchBox } from \"./AlgoliaSearchBox\";\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 1171, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Locations/LocationCard/LocationCard.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"card\": \"LocationCard-module__aB1IFG__card\",\n  \"cardTitle\": \"LocationCard-module__aB1IFG__cardTitle\",\n  \"content\": \"LocationCard-module__aB1IFG__content\",\n  \"description\": \"LocationCard-module__aB1IFG__description\",\n  \"mapWrapper\": \"LocationCard-module__aB1IFG__mapWrapper\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1182, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Locations/LocationCard/LocationCard.tsx"],"sourcesContent":["import LocationMapWrapper from \"@/components/Locations/LocationMapWrapper\";\nimport styles from \"./LocationCard.module.css\";\n\ntype LocationCardProps = {\n  title: string;\n  content?: string;\n  coordinates?: {\n    lat?: number | null;\n    lng?: number | null;\n  };\n};\n\nexport function LocationCard({\n  title,\n  content,\n  coordinates,\n}: LocationCardProps) {\n  return (\n    <article className={styles.card}>\n      <div className={styles.content}>\n        <h3 className={styles.cardTitle}>{title}</h3>\n        {content && <p className={styles.description}>{content}</p>}\n      </div>\n      <div className={styles.mapWrapper}>\n        <LocationMapWrapper title={title} coordinates={coordinates} />\n      </div>\n    </article>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAWO,SAAS,aAAa,EAC3B,KAAK,EACL,OAAO,EACP,WAAW,EACO;IAClB,qBACE,qYAAC;QAAQ,WAAW,wLAAM,CAAC,IAAI;;0BAC7B,qYAAC;gBAAI,WAAW,wLAAM,CAAC,OAAO;;kCAC5B,qYAAC;wBAAG,WAAW,wLAAM,CAAC,SAAS;kCAAG;;;;;;oBACjC,yBAAW,qYAAC;wBAAE,WAAW,wLAAM,CAAC,WAAW;kCAAG;;;;;;;;;;;;0BAEjD,qYAAC;gBAAI,WAAW,wLAAM,CAAC,UAAU;0BAC/B,cAAA,qYAAC,mKAAkB;oBAAC,OAAO;oBAAO,aAAa;;;;;;;;;;;;;;;;;AAIvD;KAhBgB"}},
    {"offset": {"line": 1253, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Locations/LocationCard/index.ts"],"sourcesContent":["export { LocationCard } from \"./LocationCard\";\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 1262, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Locations/LocationsSearch/InfiniteLocationsHits.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"cardLink\": \"InfiniteLocationsHits-module__gP-HJG__cardLink\",\n  \"empty\": \"InfiniteLocationsHits-module__gP-HJG__empty\",\n  \"grid\": \"InfiniteLocationsHits-module__gP-HJG__grid\",\n  \"sentinel\": \"InfiniteLocationsHits-module__gP-HJG__sentinel\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1272, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Locations/LocationsSearch/InfiniteLocationsHits.tsx"],"sourcesContent":["\"use client\";\n\n// eslint-disable-next-line no-restricted-imports\nimport { useRef, useEffect } from \"react\";\nimport { useInfiniteHits, useSearchBox } from \"react-instantsearch-hooks-web\";\nimport { LocationCard } from \"../LocationCard\";\nimport Link from \"next/link\";\nimport styles from \"./InfiniteLocationsHits.module.css\";\nimport { FlipMotion, FlipMotionItem } from \"@/components/UI\";\n\ntype LocationHit = {\n  objectID: string;\n  title: string;\n  slug: string;\n  city?: string;\n  state?: string;\n  streetAddress?: string;\n  content?: string;\n  shortDescription?: string;\n  image?: string;\n  imageAlt?: string;\n  latitude?: number | null;\n  longitude?: number | null;\n};\n\nexport function InfiniteLocationsHits() {\n  const { hits, isLastPage, showMore } = useInfiniteHits<LocationHit>();\n  const { query } = useSearchBox();\n  const sentinelRef = useRef<HTMLLIElement>(null);\n\n  // Reason this component must use useEffect:\n  // - Syncing with browser API (IntersectionObserver) for infinite scroll\n  // - IntersectionObserver is a browser API that requires DOM access\n  // - This is a side effect that sets up and cleans up an observer when dependencies change\n  useEffect(() => {\n    const sentinel = sentinelRef.current;\n    if (!sentinel) return;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting && !isLastPage) {\n            showMore();\n          }\n        });\n      },\n      { rootMargin: \"400px\" } // Trigger 400px before reaching bottom\n    );\n\n    observer.observe(sentinel);\n    return () => observer.disconnect();\n  }, [isLastPage, showMore]);\n\n  if (hits.length === 0 && query) {\n    return (\n      <div className={styles.empty}>\n        <p>No locations found for &ldquo;{query}&rdquo;</p>\n      </div>\n    );\n  }\n\n  if (hits.length === 0) {\n    return (\n      <div className={styles.empty}>\n        <p>No locations available.</p>\n      </div>\n    );\n  }\n\n  return (\n    <FlipMotion className={styles.grid}>\n      {hits.map((hit) => (\n        <FlipMotionItem key={hit.objectID} itemId={hit.objectID}>\n          <Link href={`/locations/${hit.slug}`} className={styles.cardLink}>\n            <LocationCard\n              title={hit.title}\n              content={hit.shortDescription || hit.content}\n              coordinates={{\n                lat: hit.latitude,\n                lng: hit.longitude,\n              }}\n            />\n          </Link>\n        </FlipMotionItem>\n      ))}\n      {/* <li ref={sentinelRef} aria-hidden=\"true\" className={styles.sentinel} /> */}\n      <FlipMotionItem\n        ref={sentinelRef}\n        aria-hidden={true}\n        className={styles.sentinel}\n        itemId=\"sentinel\"\n        initialOpacity={0}\n        animateOpacity={1}\n      >\n        {/* Sentinel element for infinite scroll */}\n      </FlipMotionItem>\n    </FlipMotion>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA,iDAAiD;AACjD;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;;;AARA;;;;;;;AAyBO,SAAS;;IACd,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,IAAA,qVAAe;IACtD,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,+UAAY;IAC9B,MAAM,cAAc,IAAA,+WAAM,EAAgB;IAE1C,4CAA4C;IAC5C,wEAAwE;IACxE,mEAAmE;IACnE,0FAA0F;IAC1F,IAAA,kXAAS;2CAAC;YACR,MAAM,WAAW,YAAY,OAAO;YACpC,IAAI,CAAC,UAAU;YAEf,MAAM,WAAW,IAAI;mDACnB,CAAC;oBACC,QAAQ,OAAO;2DAAC,CAAC;4BACf,IAAI,MAAM,cAAc,IAAI,CAAC,YAAY;gCACvC;4BACF;wBACF;;gBACF;kDACA;gBAAE,YAAY;YAAQ,EAAE,uCAAuC;;YAGjE,SAAS,OAAO,CAAC;YACjB;mDAAO,IAAM,SAAS,UAAU;;QAClC;0CAAG;QAAC;QAAY;KAAS;IAEzB,IAAI,KAAK,MAAM,KAAK,KAAK,OAAO;QAC9B,qBACE,qYAAC;YAAI,WAAW,oMAAM,CAAC,KAAK;sBAC1B,cAAA,qYAAC;;oBAAE;oBAA+B;oBAAM;;;;;;;;;;;;IAG9C;IAEA,IAAI,KAAK,MAAM,KAAK,GAAG;QACrB,qBACE,qYAAC;YAAI,WAAW,oMAAM,CAAC,KAAK;sBAC1B,cAAA,qYAAC;0BAAE;;;;;;;;;;;IAGT;IAEA,qBACE,qYAAC,gLAAU;QAAC,WAAW,oMAAM,CAAC,IAAI;;YAC/B,KAAK,GAAG,CAAC,CAAC,oBACT,qYAAC,oLAAc;oBAAoB,QAAQ,IAAI,QAAQ;8BACrD,cAAA,qYAAC,kXAAI;wBAAC,MAAM,CAAC,WAAW,EAAE,IAAI,IAAI,EAAE;wBAAE,WAAW,oMAAM,CAAC,QAAQ;kCAC9D,cAAA,qYAAC,kLAAY;4BACX,OAAO,IAAI,KAAK;4BAChB,SAAS,IAAI,gBAAgB,IAAI,IAAI,OAAO;4BAC5C,aAAa;gCACX,KAAK,IAAI,QAAQ;gCACjB,KAAK,IAAI,SAAS;4BACpB;;;;;;;;;;;mBARe,IAAI,QAAQ;;;;;0BAcnC,qYAAC,oLAAc;gBACb,KAAK;gBACL,eAAa;gBACb,WAAW,oMAAM,CAAC,QAAQ;gBAC1B,QAAO;gBACP,gBAAgB;gBAChB,gBAAgB;;;;;;;;;;;;AAMxB;GAzEgB;;QACyB,qVAAe;QACpC,+UAAY;;;KAFhB"}},
    {"offset": {"line": 1433, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Locations/LocationsSearch/LocationsSearch.tsx"],"sourcesContent":["\"use client\";\n\nimport { InstantSearch, Configure } from \"react-instantsearch-hooks-web\";\nimport { searchClient, isAlgoliaConfigured } from \"@/lib/search/client\";\nimport { algoliaConfig } from \"@/config/algolia.config\";\nimport { PageHeader } from \"@/components/UI\";\nimport { ErrorState } from \"@/components/UI\";\nimport { AlgoliaSearchBox } from \"@/components/Search\";\nimport { InfiniteLocationsHits } from \"./InfiniteLocationsHits\";\n\nexport function LocationsSearch() {\n  if (!isAlgoliaConfigured() || !searchClient) {\n    return (\n      <ErrorState>\n        Search is not configured. Please check your Algolia settings.\n      </ErrorState>\n    );\n  }\n\n  return (\n    // @ts-expect-error - react-instantsearch types incompatible with React 19\n    <InstantSearch\n      searchClient={\n        searchClient as unknown as Parameters<\n          typeof InstantSearch\n        >[0][\"searchClient\"]\n      }\n      indexName={algoliaConfig.indices.locations}\n    >\n      <Configure hitsPerPage={12} />\n      <PageHeader\n        title=\"Our Locations\"\n        subtitle=\"Find a clinic near you and visit us today\"\n        searchSlot={<AlgoliaSearchBox placeholder=\"Search locations...\" />}\n      />\n      <InfiniteLocationsHits />\n    </InstantSearch>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AARA;;;;;;;;;AAUO,SAAS;IACd,IAAI,CAAC,IAAA,wJAAmB,OAAM,CAAC,iJAAY,EAAE;QAC3C,qBACE,qYAAC,iLAAU;sBAAC;;;;;;IAIhB;IAEA,OACE,0EAA0E;kBAC1E,qYAAC,iVAAa;QACZ,cACE,iJAAY;QAId,WAAW,sJAAa,CAAC,OAAO,CAAC,SAAS;;0BAE1C,qYAAC,yUAAS;gBAAC,aAAa;;;;;;0BACxB,qYAAC,wNAAU;gBACT,OAAM;gBACN,UAAS;gBACT,0BAAY,qYAAC,uKAAgB;oBAAC,aAAY;;;;;;;;;;;0BAE5C,qYAAC,uMAAqB;;;;;;;;;;;AAG5B;KA5BgB"}},
    {"offset": {"line": 1515, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Bookings/ServiceSelect.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"container\": \"ServiceSelect-module__ogG9QG__container\",\n  \"icon\": \"ServiceSelect-module__ogG9QG__icon\",\n  \"label\": \"ServiceSelect-module__ogG9QG__label\",\n  \"practitioner\": \"ServiceSelect-module__ogG9QG__practitioner\",\n  \"select\": \"ServiceSelect-module__ogG9QG__select\",\n  \"selectWrapper\": \"ServiceSelect-module__ogG9QG__selectWrapper\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1527, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Bookings/ServiceSelect.tsx"],"sourcesContent":["\"use client\";\n\nimport { ChevronDown } from \"lucide-react\";\nimport type { BookableService, PractitionerType } from \"./types\";\nimport styles from \"./ServiceSelect.module.css\";\n\ntype ServiceSelectProps = {\n  services: BookableService[];\n  selectedId: number | null;\n  onSelect: (id: string | null) => void;\n  loading?: boolean;\n};\n\nfunction formatDuration(duration: number, unit: \"minute\" | \"hour\" | \"day\"): string {\n  if (unit === \"minute\") {\n    return `${duration} min`;\n  }\n  if (unit === \"hour\") {\n    return duration === 1 ? \"1 hour\" : `${duration} hours`;\n  }\n  return duration === 1 ? \"1 day\" : `${duration} days`;\n}\n\nconst PRACTITIONER_LABELS: Record<PractitionerType, string> = {\n  chiropractor: \"Chiropractor\",\n  physical_therapist: \"Physical Therapist\",\n  massage_therapist: \"Massage Therapist\",\n  sports_medicine: \"Sports Medicine Specialist\",\n};\n\nfunction formatPractitioners(types: PractitionerType[]): string {\n  return types.map((t) => PRACTITIONER_LABELS[t]).join(\" + \");\n}\n\nexport function ServiceSelect({ services, selectedId, onSelect, loading }: ServiceSelectProps) {\n  const selectedService = services.find((s) => s.id === selectedId);\n\n  function handleChange(e: React.ChangeEvent<HTMLSelectElement>) {\n    const value = e.target.value;\n    onSelect(value || null);\n  }\n\n  return (\n    <div className={styles.container}>\n      <label className={styles.label}>Service Type</label>\n      <div className={styles.selectWrapper}>\n        <select\n          className={styles.select}\n          value={selectedId?.toString() ?? \"\"}\n          onChange={handleChange}\n          disabled={loading}\n        >\n          <option value=\"\">Select a service...</option>\n          {services.map((service) => (\n            <option key={service.id} value={service.id}>\n              {service.name} ({formatDuration(service.duration, service.durationUnit)})\n            </option>\n          ))}\n        </select>\n        <ChevronDown className={styles.icon} size={20} />\n      </div>\n      {selectedService?.practitionerTypes && selectedService.practitionerTypes.length > 0 && (\n        <p className={styles.practitioner}>\n          {formatPractitioners(selectedService.practitionerTypes)}\n        </p>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAJA;;;;AAaA,SAAS,eAAe,QAAgB,EAAE,IAA+B;IACvE,IAAI,SAAS,UAAU;QACrB,OAAO,GAAG,SAAS,IAAI,CAAC;IAC1B;IACA,IAAI,SAAS,QAAQ;QACnB,OAAO,aAAa,IAAI,WAAW,GAAG,SAAS,MAAM,CAAC;IACxD;IACA,OAAO,aAAa,IAAI,UAAU,GAAG,SAAS,KAAK,CAAC;AACtD;AAEA,MAAM,sBAAwD;IAC5D,cAAc;IACd,oBAAoB;IACpB,mBAAmB;IACnB,iBAAiB;AACnB;AAEA,SAAS,oBAAoB,KAAyB;IACpD,OAAO,MAAM,GAAG,CAAC,CAAC,IAAM,mBAAmB,CAAC,EAAE,EAAE,IAAI,CAAC;AACvD;AAEO,SAAS,cAAc,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,OAAO,EAAsB;IAC3F,MAAM,kBAAkB,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAEtD,SAAS,aAAa,CAAuC;QAC3D,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;QAC5B,SAAS,SAAS;IACpB;IAEA,qBACE,qYAAC;QAAI,WAAW,wKAAM,CAAC,SAAS;;0BAC9B,qYAAC;gBAAM,WAAW,wKAAM,CAAC,KAAK;0BAAE;;;;;;0BAChC,qYAAC;gBAAI,WAAW,wKAAM,CAAC,aAAa;;kCAClC,qYAAC;wBACC,WAAW,wKAAM,CAAC,MAAM;wBACxB,OAAO,YAAY,cAAc;wBACjC,UAAU;wBACV,UAAU;;0CAEV,qYAAC;gCAAO,OAAM;0CAAG;;;;;;4BAChB,SAAS,GAAG,CAAC,CAAC,wBACb,qYAAC;oCAAwB,OAAO,QAAQ,EAAE;;wCACvC,QAAQ,IAAI;wCAAC;wCAAG,eAAe,QAAQ,QAAQ,EAAE,QAAQ,YAAY;wCAAE;;mCAD7D,QAAQ,EAAE;;;;;;;;;;;kCAK3B,qYAAC,0TAAW;wBAAC,WAAW,wKAAM,CAAC,IAAI;wBAAE,MAAM;;;;;;;;;;;;YAE5C,iBAAiB,qBAAqB,gBAAgB,iBAAiB,CAAC,MAAM,GAAG,mBAChF,qYAAC;gBAAE,WAAW,wKAAM,CAAC,YAAY;0BAC9B,oBAAoB,gBAAgB,iBAAiB;;;;;;;;;;;;AAKhE;KAlCgB"}},
    {"offset": {"line": 1647, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Bookings/DateStrip.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"container\": \"DateStrip-module__YAmvKG__container\",\n  \"dateButton\": \"DateStrip-module__YAmvKG__dateButton\",\n  \"dayOfMonth\": \"DateStrip-module__YAmvKG__dayOfMonth\",\n  \"dayOfWeek\": \"DateStrip-module__YAmvKG__dayOfWeek\",\n  \"label\": \"DateStrip-module__YAmvKG__label\",\n  \"navButton\": \"DateStrip-module__YAmvKG__navButton\",\n  \"selected\": \"DateStrip-module__YAmvKG__selected\",\n  \"strip\": \"DateStrip-module__YAmvKG__strip\",\n  \"stripWrapper\": \"DateStrip-module__YAmvKG__stripWrapper\",\n  \"unavailable\": \"DateStrip-module__YAmvKG__unavailable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1663, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Bookings/DateStrip.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo } from \"react\";\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\nimport { format, addDays, startOfDay } from \"date-fns\";\nimport { clsx } from \"clsx\";\nimport type { AvailableDate } from \"./types\";\nimport styles from \"./DateStrip.module.css\";\n\ntype DateStripProps = {\n  availableDates: AvailableDate[];\n  selectedDate: string | null;\n  onSelect: (date: string | null) => void;\n  startDate?: Date;\n  daysToShow?: number;\n  onNavigate?: (direction: \"prev\" | \"next\") => void;\n  loading?: boolean;\n};\n\nexport function DateStrip({\n  availableDates,\n  selectedDate,\n  onSelect,\n  startDate = new Date(),\n  daysToShow = 5,\n  onNavigate,\n  loading,\n}: DateStripProps) {\n  const dates = useMemo(() => {\n    const start = startOfDay(startDate);\n    return Array.from({ length: daysToShow }, (_, i) => {\n      const date = addDays(start, i);\n      const dateStr = format(date, \"yyyy-MM-dd\");\n      const availableDate = availableDates.find((d) => d.date === dateStr);\n\n      return {\n        date: dateStr,\n        dayOfWeek: format(date, \"EEE\"),\n        dayOfMonth: date.getDate(),\n        available: availableDate?.available ?? false,\n      };\n    });\n  }, [startDate, daysToShow, availableDates]);\n\n  function handleSelect(dateStr: string, available: boolean) {\n    if (!available || loading) return;\n    onSelect(dateStr);\n  }\n\n  return (\n    <div className={styles.container}>\n      <label className={styles.label}>Select Date</label>\n      <div className={styles.stripWrapper}>\n        {onNavigate && (\n          <button\n            type=\"button\"\n            className={styles.navButton}\n            onClick={() => onNavigate(\"prev\")}\n            aria-label=\"Previous dates\"\n            disabled={loading}\n          >\n            <ChevronLeft size={20} />\n          </button>\n        )}\n        <div className={styles.strip}>\n          {dates.map((d) => {\n            const isSelected = selectedDate === d.date;\n            return (\n              <button\n                key={d.date}\n                type=\"button\"\n                className={clsx(styles.dateButton, isSelected && styles.selected, !d.available && styles.unavailable)}\n                onClick={() => handleSelect(d.date, d.available)}\n                disabled={!d.available || loading}\n                aria-pressed={isSelected}\n                aria-label={`${d.dayOfWeek} ${d.dayOfMonth}${!d.available ? \", unavailable\" : \"\"}`}\n              >\n                <span className={styles.dayOfWeek}>{d.dayOfWeek}</span>\n                <span className={styles.dayOfMonth}>{d.dayOfMonth}</span>\n              </button>\n            );\n          })}\n        </div>\n        {onNavigate && (\n          <button\n            type=\"button\"\n            className={styles.navButton}\n            onClick={() => onNavigate(\"next\")}\n            aria-label=\"Next dates\"\n            disabled={loading}\n          >\n            <ChevronRight size={20} />\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;;;AAPA;;;;;;AAmBO,SAAS,UAAU,EACxB,cAAc,EACd,YAAY,EACZ,QAAQ,EACR,YAAY,IAAI,MAAM,EACtB,aAAa,CAAC,EACd,UAAU,EACV,OAAO,EACQ;;IACf,MAAM,QAAQ,IAAA,gXAAO;oCAAC;YACpB,MAAM,QAAQ,IAAA,kNAAU,EAAC;YACzB,OAAO,MAAM,IAAI,CAAC;gBAAE,QAAQ;YAAW;4CAAG,CAAC,GAAG;oBAC5C,MAAM,OAAO,IAAA,4MAAO,EAAC,OAAO;oBAC5B,MAAM,UAAU,IAAA,0NAAM,EAAC,MAAM;oBAC7B,MAAM,gBAAgB,eAAe,IAAI;kEAAC,CAAC,IAAM,EAAE,IAAI,KAAK;;oBAE5D,OAAO;wBACL,MAAM;wBACN,WAAW,IAAA,0NAAM,EAAC,MAAM;wBACxB,YAAY,KAAK,OAAO;wBACxB,WAAW,eAAe,aAAa;oBACzC;gBACF;;QACF;mCAAG;QAAC;QAAW;QAAY;KAAe;IAE1C,SAAS,aAAa,OAAe,EAAE,SAAkB;QACvD,IAAI,CAAC,aAAa,SAAS;QAC3B,SAAS;IACX;IAEA,qBACE,qYAAC;QAAI,WAAW,oKAAM,CAAC,SAAS;;0BAC9B,qYAAC;gBAAM,WAAW,oKAAM,CAAC,KAAK;0BAAE;;;;;;0BAChC,qYAAC;gBAAI,WAAW,oKAAM,CAAC,YAAY;;oBAChC,4BACC,qYAAC;wBACC,MAAK;wBACL,WAAW,oKAAM,CAAC,SAAS;wBAC3B,SAAS,IAAM,WAAW;wBAC1B,cAAW;wBACX,UAAU;kCAEV,cAAA,qYAAC,0TAAW;4BAAC,MAAM;;;;;;;;;;;kCAGvB,qYAAC;wBAAI,WAAW,oKAAM,CAAC,KAAK;kCACzB,MAAM,GAAG,CAAC,CAAC;4BACV,MAAM,aAAa,iBAAiB,EAAE,IAAI;4BAC1C,qBACE,qYAAC;gCAEC,MAAK;gCACL,WAAW,IAAA,iMAAI,EAAC,oKAAM,CAAC,UAAU,EAAE,cAAc,oKAAM,CAAC,QAAQ,EAAE,CAAC,EAAE,SAAS,IAAI,oKAAM,CAAC,WAAW;gCACpG,SAAS,IAAM,aAAa,EAAE,IAAI,EAAE,EAAE,SAAS;gCAC/C,UAAU,CAAC,EAAE,SAAS,IAAI;gCAC1B,gBAAc;gCACd,cAAY,GAAG,EAAE,SAAS,CAAC,CAAC,EAAE,EAAE,UAAU,GAAG,CAAC,EAAE,SAAS,GAAG,kBAAkB,IAAI;;kDAElF,qYAAC;wCAAK,WAAW,oKAAM,CAAC,SAAS;kDAAG,EAAE,SAAS;;;;;;kDAC/C,qYAAC;wCAAK,WAAW,oKAAM,CAAC,UAAU;kDAAG,EAAE,UAAU;;;;;;;+BAT5C,EAAE,IAAI;;;;;wBAYjB;;;;;;oBAED,4BACC,qYAAC;wBACC,MAAK;wBACL,WAAW,oKAAM,CAAC,SAAS;wBAC3B,SAAS,IAAM,WAAW;wBAC1B,cAAW;wBACX,UAAU;kCAEV,cAAA,qYAAC,6TAAY;4BAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAMhC;GA9EgB;KAAA"}},
    {"offset": {"line": 1829, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Bookings/TimeSlotGrid.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"container\": \"TimeSlotGrid-module__9uxPmq__container\",\n  \"empty\": \"TimeSlotGrid-module__9uxPmq__empty\",\n  \"grid\": \"TimeSlotGrid-module__9uxPmq__grid\",\n  \"horizontalScrollContainer\": \"TimeSlotGrid-module__9uxPmq__horizontalScrollContainer\",\n  \"label\": \"TimeSlotGrid-module__9uxPmq__label\",\n  \"navigationButton\": \"TimeSlotGrid-module__9uxPmq__navigationButton\",\n  \"section\": \"TimeSlotGrid-module__9uxPmq__section\",\n  \"selected\": \"TimeSlotGrid-module__9uxPmq__selected\",\n  \"slot\": \"TimeSlotGrid-module__9uxPmq__slot\",\n  \"stripWrapper\": \"TimeSlotGrid-module__9uxPmq__stripWrapper\",\n  \"unavailable\": \"TimeSlotGrid-module__9uxPmq__unavailable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1846, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Bookings/TimeSlotGrid.tsx"],"sourcesContent":["\"use client\";\n\n// eslint-disable-next-line no-restricted-imports\nimport { useRef, useState, useEffect } from \"react\";\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\nimport { clsx } from \"clsx\";\nimport type { TimeSlot } from \"./types\";\nimport styles from \"./TimeSlotGrid.module.css\";\n\ntype TimeSlotGridProps = {\n  slots: TimeSlot[];\n  selectedTime: string | null;\n  onSelect: (time: string | null) => void;\n  loading?: boolean;\n};\n\nconst SCROLL_THRESHOLD = 12;\nconst SLOTS_PER_SECTION = 9;\n\nfunction formatTime(time24: string): string {\n  const [hours, minutes] = time24.split(\":\").map(Number);\n  const period = hours >= 12 ? \"PM\" : \"AM\";\n  const hours12 = hours % 12 || 12;\n  return `${hours12}:${minutes.toString().padStart(2, \"0\")} ${period}`;\n}\n\nexport function TimeSlotGrid({\n  slots,\n  selectedTime,\n  onSelect,\n  loading,\n}: TimeSlotGridProps) {\n  const scrollContainerRef = useRef<HTMLDivElement>(null);\n  const [canScrollLeft, setCanScrollLeft] = useState(false);\n  const [canScrollRight, setCanScrollRight] = useState(false);\n\n  const shouldSection = slots.length > SCROLL_THRESHOLD;\n\n  // Divide slots into sections of 9 slots each\n  const sections: TimeSlot[][] = [];\n  if (shouldSection) {\n    for (let i = 0; i < slots.length; i += SLOTS_PER_SECTION) {\n      sections.push(slots.slice(i, i + SLOTS_PER_SECTION));\n    }\n  } else {\n    sections.push(slots);\n  }\n\n  // Reason this component must use useEffect:\n  // - Syncing with browser scroll position to update button disabled states\n  // - Must check scroll position when slots change or user scrolls\n  // - This is a side effect that syncs UI state with browser scroll API\n  useEffect(() => {\n    if (!shouldSection || !scrollContainerRef.current) {\n      setCanScrollLeft(false);\n      setCanScrollRight(false);\n      return;\n    }\n\n    function updateScrollState() {\n      const container = scrollContainerRef.current;\n      if (!container) return;\n\n      const { scrollLeft, scrollWidth, clientWidth } = container;\n      const threshold = 1;\n\n      setCanScrollLeft(scrollLeft > threshold);\n      setCanScrollRight(scrollLeft + clientWidth < scrollWidth - threshold);\n    }\n\n    updateScrollState();\n\n    const container = scrollContainerRef.current;\n    container.addEventListener(\"scroll\", updateScrollState, { passive: true });\n\n    return () => {\n      container.removeEventListener(\"scroll\", updateScrollState);\n    };\n  }, [shouldSection, slots]);\n\n  function handleScrollPrevious() {\n    const container = scrollContainerRef.current;\n    if (!container) return;\n\n    // Scroll left by one section width\n    container.scrollBy({ left: -container.clientWidth, behavior: \"smooth\" });\n  }\n\n  function handleScrollNext() {\n    const container = scrollContainerRef.current;\n    if (!container) return;\n\n    // Scroll right by one section width\n    container.scrollBy({ left: container.clientWidth, behavior: \"smooth\" });\n  }\n\n  if (slots.length === 0 && !loading) {\n    return (\n      <div className={styles.container}>\n        <label className={styles.label}>Available Times</label>\n        <p className={styles.empty}>No available times for this date.</p>\n      </div>\n    );\n  }\n\n  function renderSection(sectionSlots: TimeSlot[], sectionIndex: number) {\n    return (\n      <div key={sectionIndex} className={styles.section}>\n        <div className={styles.grid}>\n          {sectionSlots.map((slot) => {\n            const isSelected = selectedTime === slot.start;\n            return (\n              <button\n                key={slot.start}\n                type=\"button\"\n                className={clsx(\n                  styles.slot,\n                  isSelected && styles.selected,\n                  !slot.available && styles.unavailable\n                )}\n                onClick={() => slot.available && onSelect(slot.start)}\n                disabled={!slot.available || loading}\n                aria-pressed={isSelected}\n              >\n                {formatTime(slot.start)}\n              </button>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.container}>\n      <label className={styles.label}>Available Times</label>\n      {shouldSection ? (\n        <div className={styles.stripWrapper}>\n          <button\n            type=\"button\"\n            className={styles.navigationButton}\n            onClick={handleScrollPrevious}\n            disabled={!canScrollLeft}\n            aria-label=\"Scroll to previous time slots\"\n          >\n            <ChevronLeft size={20} />\n          </button>\n          <div\n            ref={scrollContainerRef}\n            className={styles.horizontalScrollContainer}\n          >\n            {sections.map((section, index) => renderSection(section, index))}\n          </div>\n          <button\n            type=\"button\"\n            className={styles.navigationButton}\n            onClick={handleScrollNext}\n            disabled={!canScrollRight}\n            aria-label=\"Scroll to next time slots\"\n          >\n            <ChevronRight size={20} />\n          </button>\n        </div>\n      ) : (\n        <div className={styles.grid}>\n          {slots.map((slot) => {\n            const isSelected = selectedTime === slot.start;\n            return (\n              <button\n                key={slot.start}\n                type=\"button\"\n                className={clsx(\n                  styles.slot,\n                  isSelected && styles.selected,\n                  !slot.available && styles.unavailable\n                )}\n                onClick={() => slot.available && onSelect(slot.start)}\n                disabled={!slot.available || loading}\n                aria-pressed={isSelected}\n              >\n                {formatTime(slot.start)}\n              </button>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2101, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Bookings/useBookingParams.ts"],"sourcesContent":["\"use client\";\n\nimport { useSearchParams, useRouter, usePathname } from \"next/navigation\";\nimport { useCallback } from \"react\";\n\nexport function useBookingParams() {\n  const searchParams = useSearchParams();\n  const router = useRouter();\n  const pathname = usePathname();\n\n  const serviceId = searchParams.get(\"serviceId\");\n  const date = searchParams.get(\"date\");\n  const time = searchParams.get(\"time\");\n\n  const updateParams = useCallback(\n    (updates: { serviceId?: string | null; date?: string | null; time?: string | null }) => {\n      const params = new URLSearchParams(searchParams.toString());\n\n      Object.entries(updates).forEach(([key, value]) => {\n        if (value === null || value === undefined) {\n          params.delete(key);\n        } else {\n          params.set(key, value);\n        }\n      });\n\n      const newUrl = params.toString() ? `${pathname}?${params.toString()}` : pathname;\n      router.push(newUrl, { scroll: false });\n    },\n    [searchParams, router, pathname]\n  );\n\n  const setServiceId = useCallback(\n    (id: string | null) => {\n      // When service changes, reset date and time\n      updateParams({ serviceId: id, date: null, time: null });\n    },\n    [updateParams]\n  );\n\n  const setDate = useCallback(\n    (newDate: string | null) => {\n      // When date changes, reset time\n      updateParams({ date: newDate, time: null });\n    },\n    [updateParams]\n  );\n\n  const setTime = useCallback(\n    (newTime: string | null) => {\n      updateParams({ time: newTime });\n    },\n    [updateParams]\n  );\n\n  const clearAll = useCallback(() => {\n    updateParams({ serviceId: null, date: null, time: null });\n  }, [updateParams]);\n\n  return {\n    serviceId: serviceId ? parseInt(serviceId, 10) : null,\n    date,\n    time,\n    setServiceId,\n    setDate,\n    setTime,\n    clearAll,\n    isComplete: serviceId !== null && date !== null && time !== null,\n  };\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAKO,SAAS;;IACd,MAAM,eAAe,IAAA,gWAAe;IACpC,MAAM,SAAS,IAAA,0VAAS;IACxB,MAAM,WAAW,IAAA,4VAAW;IAE5B,MAAM,YAAY,aAAa,GAAG,CAAC;IACnC,MAAM,OAAO,aAAa,GAAG,CAAC;IAC9B,MAAM,OAAO,aAAa,GAAG,CAAC;IAE9B,MAAM,eAAe,IAAA,oXAAW;sDAC9B,CAAC;YACC,MAAM,SAAS,IAAI,gBAAgB,aAAa,QAAQ;YAExD,OAAO,OAAO,CAAC,SAAS,OAAO;8DAAC,CAAC,CAAC,KAAK,MAAM;oBAC3C,IAAI,UAAU,QAAQ,UAAU,WAAW;wBACzC,OAAO,MAAM,CAAC;oBAChB,OAAO;wBACL,OAAO,GAAG,CAAC,KAAK;oBAClB;gBACF;;YAEA,MAAM,SAAS,OAAO,QAAQ,KAAK,GAAG,SAAS,CAAC,EAAE,OAAO,QAAQ,IAAI,GAAG;YACxE,OAAO,IAAI,CAAC,QAAQ;gBAAE,QAAQ;YAAM;QACtC;qDACA;QAAC;QAAc;QAAQ;KAAS;IAGlC,MAAM,eAAe,IAAA,oXAAW;sDAC9B,CAAC;YACC,4CAA4C;YAC5C,aAAa;gBAAE,WAAW;gBAAI,MAAM;gBAAM,MAAM;YAAK;QACvD;qDACA;QAAC;KAAa;IAGhB,MAAM,UAAU,IAAA,oXAAW;iDACzB,CAAC;YACC,gCAAgC;YAChC,aAAa;gBAAE,MAAM;gBAAS,MAAM;YAAK;QAC3C;gDACA;QAAC;KAAa;IAGhB,MAAM,UAAU,IAAA,oXAAW;iDACzB,CAAC;YACC,aAAa;gBAAE,MAAM;YAAQ;QAC/B;gDACA;QAAC;KAAa;IAGhB,MAAM,WAAW,IAAA,oXAAW;kDAAC;YAC3B,aAAa;gBAAE,WAAW;gBAAM,MAAM;gBAAM,MAAM;YAAK;QACzD;iDAAG;QAAC;KAAa;IAEjB,OAAO;QACL,WAAW,YAAY,SAAS,WAAW,MAAM;QACjD;QACA;QACA;QACA;QACA;QACA;QACA,YAAY,cAAc,QAAQ,SAAS,QAAQ,SAAS;IAC9D;AACF;GAhEgB;;QACO,gWAAe;QACrB,0VAAS;QACP,4VAAW"}},
    {"offset": {"line": 2208, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/Bookings/BookingWidget.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"confirmButton\": \"BookingWidget-module__RRk5PW__confirmButton\",\n  \"content\": \"BookingWidget-module__RRk5PW__content\",\n  \"header\": \"BookingWidget-module__RRk5PW__header\",\n  \"signIn\": \"BookingWidget-module__RRk5PW__signIn\",\n  \"title\": \"BookingWidget-module__RRk5PW__title\",\n  \"widget\": \"BookingWidget-module__RRk5PW__widget\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 2220, "column": 0}, "map": {"version":3,"sources":["file:///Users/sb/Dev/chirostretch/src/components/Bookings/BookingWidget.tsx"],"sourcesContent":["\"use client\";\n\n// eslint-disable-next-line no-restricted-imports\nimport { useState, useEffect, useCallback } from \"react\";\nimport { addDays, format } from \"date-fns\";\nimport Link from \"next/link\";\nimport { ServiceSelect } from \"./ServiceSelect\";\nimport { DateStrip } from \"./DateStrip\";\nimport { TimeSlotGrid } from \"./TimeSlotGrid\";\nimport { useBookingParams } from \"./useBookingParams\";\nimport type { BookableService, AvailableDate, TimeSlot } from \"./types\";\nimport styles from \"./BookingWidget.module.css\";\nimport { Button } from \"@/components/UI\";\n\ntype BookingWidgetProps = {\n  services: BookableService[];\n  onConfirm?: (booking: {\n    serviceId: number;\n    date: string;\n    time: string;\n  }) => void;\n};\n\nconst DAYS_TO_SHOW = 5;\n\nexport function BookingWidget({ services, onConfirm }: BookingWidgetProps) {\n  const {\n    serviceId,\n    date,\n    time,\n    setServiceId,\n    setDate,\n    setTime,\n    isComplete,\n  } = useBookingParams();\n\n  const [startDate, setStartDate] = useState(() => new Date());\n  const [availableDates, setAvailableDates] = useState<AvailableDate[]>([]);\n  const [timeSlots, setTimeSlots] = useState<TimeSlot[]>([]);\n  const [loadingDates, setLoadingDates] = useState(false);\n  const [loadingSlots, setLoadingSlots] = useState(false);\n  const [confirming, setConfirming] = useState(false);\n\n  // Reason this component must use useEffect:\n  // - Syncing with external API (booking availability endpoint) when service/date changes\n  // - Server Components cannot handle client-side API calls with dynamic parameters\n  // - This is a side effect that must run when dependencies change\n  useEffect(() => {\n    if (!serviceId) {\n      setAvailableDates([]);\n      return;\n    }\n\n    async function fetchAvailability() {\n      setLoadingDates(true);\n      try {\n        const endDate = addDays(startDate, DAYS_TO_SHOW);\n        const res = await fetch(\n          `/api/bookings/slots?productId=${serviceId}&startDate=${format(\n            startDate,\n            \"yyyy-MM-dd\"\n          )}&endDate=${format(endDate, \"yyyy-MM-dd\")}`\n        );\n\n        if (!res.ok) throw new Error(\"Failed to fetch availability\");\n\n        const data = await res.json();\n\n        // Transform slots data to available dates\n        // API returns { success: true, slots: [{ date, available, slots: [...] }] }\n        const dateMap = new Map<string, boolean>();\n        const slotsArray = data.slots ?? data;\n        if (Array.isArray(slotsArray)) {\n          slotsArray.forEach((slot: { date?: string; available?: boolean }) => {\n            if (slot.date) {\n              dateMap.set(slot.date, slot.available ?? true);\n            }\n          });\n        }\n\n        // Generate date objects for the strip\n        const dates: AvailableDate[] = Array.from(\n          { length: DAYS_TO_SHOW },\n          (_, i) => {\n            const d = addDays(startDate, i);\n            const dateStr = format(d, \"yyyy-MM-dd\");\n            return {\n              date: dateStr,\n              dayOfWeek: format(d, \"EEE\"),\n              dayOfMonth: d.getDate(),\n              available: dateMap.get(dateStr) ?? true, // Default to available if not specified\n            };\n          }\n        );\n\n        setAvailableDates(dates);\n      } catch (error) {\n        console.error(\"Error fetching availability:\", error);\n        // Set all dates as available on error (fallback)\n        const dates: AvailableDate[] = Array.from(\n          { length: DAYS_TO_SHOW },\n          (_, i) => {\n            const d = addDays(startDate, i);\n            return {\n              date: format(d, \"yyyy-MM-dd\"),\n              dayOfWeek: format(d, \"EEE\"),\n              dayOfMonth: d.getDate(),\n              available: true,\n            };\n          }\n        );\n        setAvailableDates(dates);\n      } finally {\n        setLoadingDates(false);\n      }\n    }\n\n    fetchAvailability();\n  }, [serviceId, startDate]);\n\n  // Reason this component must use useEffect:\n  // - Syncing with external API (time slots endpoint) when date changes\n  // - Server Components cannot handle client-side API calls with dynamic parameters\n  // - This is a side effect that must run when date dependency changes\n  useEffect(() => {\n    if (!serviceId || !date) {\n      setTimeSlots([]);\n      return;\n    }\n\n    async function fetchTimeSlots() {\n      setLoadingSlots(true);\n      try {\n        const res = await fetch(\n          `/api/bookings/slots?productId=${serviceId}&startDate=${date}&endDate=${date}`\n        );\n\n        if (!res.ok) throw new Error(\"Failed to fetch time slots\");\n\n        const data = await res.json();\n\n        // Transform to time slots\n        // API returns { slots: [{ date, available, slots: [{ time, available }] }] }\n        const slots: TimeSlot[] = [];\n        const slotsArray = data.slots ?? data;\n        if (Array.isArray(slotsArray)) {\n          // Find the slot for the selected date\n          const dateSlot = slotsArray.find(\n            (s: { date?: string }) => s.date === date\n          );\n          if (dateSlot?.slots && Array.isArray(dateSlot.slots)) {\n            dateSlot.slots.forEach(\n              (slot: { time?: string; available?: boolean }) => {\n                if (slot.time) {\n                  slots.push({\n                    start: slot.time,\n                    end: \"\",\n                    available: slot.available ?? true,\n                  });\n                }\n              }\n            );\n          }\n        }\n\n        setTimeSlots(slots);\n      } catch (error) {\n        console.error(\"Error fetching time slots:\", error);\n        setTimeSlots([]);\n      } finally {\n        setLoadingSlots(false);\n      }\n    }\n\n    fetchTimeSlots();\n  }, [serviceId, date]);\n\n  const handleNavigate = useCallback((direction: \"prev\" | \"next\") => {\n    setStartDate((current) =>\n      addDays(current, direction === \"next\" ? DAYS_TO_SHOW : -DAYS_TO_SHOW)\n    );\n  }, []);\n\n  async function handleConfirm() {\n    if (!isComplete || !serviceId || !date || !time) return;\n\n    setConfirming(true);\n    try {\n      if (onConfirm) {\n        onConfirm({ serviceId, date, time });\n      } else {\n        // Add booking to cart via custom endpoint\n        const res = await fetch(\"/api/bookings/add-to-cart\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            productId: serviceId,\n            date,\n            time,\n          }),\n        });\n\n        const data = await res.json();\n\n        if (!res.ok || !data.success) {\n          throw new Error(data.error || \"Failed to add booking to cart\");\n        }\n\n        window.location.href = \"/cart\";\n      }\n    } catch (error) {\n      console.error(\"Error confirming booking:\", error);\n      alert(\n        error instanceof Error\n          ? error.message\n          : \"Failed to confirm booking. Please try again.\"\n      );\n    } finally {\n      setConfirming(false);\n    }\n  }\n\n  return (\n    <div className={styles.widget}>\n      <div className={styles.header}>\n        <h2 className={styles.title}>New Appointment</h2>\n        <Link href=\"/account\" className={styles.signIn}>\n          Sign in\n        </Link>\n      </div>\n\n      <div className={styles.content}>\n        <ServiceSelect\n          services={services}\n          selectedId={serviceId}\n          onSelect={setServiceId}\n          loading={loadingDates}\n        />\n\n        {serviceId && (\n          <DateStrip\n            availableDates={availableDates}\n            selectedDate={date}\n            onSelect={setDate}\n            startDate={startDate}\n            daysToShow={DAYS_TO_SHOW}\n            onNavigate={handleNavigate}\n            loading={loadingDates}\n          />\n        )}\n\n        {serviceId && date && (\n          <TimeSlotGrid\n            slots={timeSlots}\n            selectedTime={time}\n            onSelect={setTime}\n            loading={loadingSlots}\n          />\n        )}\n        <Button\n          fullWidth\n          onClick={handleConfirm}\n          disabled={!isComplete || confirming}\n        >\n          {confirming ? \"Confirming...\" : \"Confirm Booking\"}\n        </Button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA,iDAAiD;AACjD;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;;;AAZA;;;;;;;;;;AAuBA,MAAM,eAAe;AAEd,SAAS,cAAc,EAAE,QAAQ,EAAE,SAAS,EAAsB;;IACvE,MAAM,EACJ,SAAS,EACT,IAAI,EACJ,IAAI,EACJ,YAAY,EACZ,OAAO,EACP,OAAO,EACP,UAAU,EACX,GAAG,IAAA,wKAAgB;IAEpB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iXAAQ;kCAAC,IAAM,IAAI;;IACrD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iXAAQ,EAAkB,EAAE;IACxE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iXAAQ,EAAa,EAAE;IACzD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iXAAQ,EAAC;IACjD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iXAAQ,EAAC;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iXAAQ,EAAC;IAE7C,4CAA4C;IAC5C,wFAAwF;IACxF,kFAAkF;IAClF,iEAAiE;IACjE,IAAA,kXAAS;mCAAC;YACR,IAAI,CAAC,WAAW;gBACd,kBAAkB,EAAE;gBACpB;YACF;YAEA,eAAe;gBACb,gBAAgB;gBAChB,IAAI;oBACF,MAAM,UAAU,IAAA,4MAAO,EAAC,WAAW;oBACnC,MAAM,MAAM,MAAM,MAChB,CAAC,8BAA8B,EAAE,UAAU,WAAW,EAAE,IAAA,0NAAM,EAC5D,WACA,cACA,SAAS,EAAE,IAAA,0NAAM,EAAC,SAAS,eAAe;oBAG9C,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;oBAE7B,MAAM,OAAO,MAAM,IAAI,IAAI;oBAE3B,0CAA0C;oBAC1C,4EAA4E;oBAC5E,MAAM,UAAU,IAAI;oBACpB,MAAM,aAAa,KAAK,KAAK,IAAI;oBACjC,IAAI,MAAM,OAAO,CAAC,aAAa;wBAC7B,WAAW,OAAO;yEAAC,CAAC;gCAClB,IAAI,KAAK,IAAI,EAAE;oCACb,QAAQ,GAAG,CAAC,KAAK,IAAI,EAAE,KAAK,SAAS,IAAI;gCAC3C;4BACF;;oBACF;oBAEA,sCAAsC;oBACtC,MAAM,QAAyB,MAAM,IAAI,CACvC;wBAAE,QAAQ;oBAAa;2EACvB,CAAC,GAAG;4BACF,MAAM,IAAI,IAAA,4MAAO,EAAC,WAAW;4BAC7B,MAAM,UAAU,IAAA,0NAAM,EAAC,GAAG;4BAC1B,OAAO;gCACL,MAAM;gCACN,WAAW,IAAA,0NAAM,EAAC,GAAG;gCACrB,YAAY,EAAE,OAAO;gCACrB,WAAW,QAAQ,GAAG,CAAC,YAAY;4BACrC;wBACF;;oBAGF,kBAAkB;gBACpB,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,gCAAgC;oBAC9C,iDAAiD;oBACjD,MAAM,QAAyB,MAAM,IAAI,CACvC;wBAAE,QAAQ;oBAAa;2EACvB,CAAC,GAAG;4BACF,MAAM,IAAI,IAAA,4MAAO,EAAC,WAAW;4BAC7B,OAAO;gCACL,MAAM,IAAA,0NAAM,EAAC,GAAG;gCAChB,WAAW,IAAA,0NAAM,EAAC,GAAG;gCACrB,YAAY,EAAE,OAAO;gCACrB,WAAW;4BACb;wBACF;;oBAEF,kBAAkB;gBACpB,SAAU;oBACR,gBAAgB;gBAClB;YACF;YAEA;QACF;kCAAG;QAAC;QAAW;KAAU;IAEzB,4CAA4C;IAC5C,sEAAsE;IACtE,kFAAkF;IAClF,qEAAqE;IACrE,IAAA,kXAAS;mCAAC;YACR,IAAI,CAAC,aAAa,CAAC,MAAM;gBACvB,aAAa,EAAE;gBACf;YACF;YAEA,eAAe;gBACb,gBAAgB;gBAChB,IAAI;oBACF,MAAM,MAAM,MAAM,MAChB,CAAC,8BAA8B,EAAE,UAAU,WAAW,EAAE,KAAK,SAAS,EAAE,MAAM;oBAGhF,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;oBAE7B,MAAM,OAAO,MAAM,IAAI,IAAI;oBAE3B,0BAA0B;oBAC1B,6EAA6E;oBAC7E,MAAM,QAAoB,EAAE;oBAC5B,MAAM,aAAa,KAAK,KAAK,IAAI;oBACjC,IAAI,MAAM,OAAO,CAAC,aAAa;wBAC7B,sCAAsC;wBACtC,MAAM,WAAW,WAAW,IAAI;+EAC9B,CAAC,IAAyB,EAAE,IAAI,KAAK;;wBAEvC,IAAI,UAAU,SAAS,MAAM,OAAO,CAAC,SAAS,KAAK,GAAG;4BACpD,SAAS,KAAK,CAAC,OAAO;0EACpB,CAAC;oCACC,IAAI,KAAK,IAAI,EAAE;wCACb,MAAM,IAAI,CAAC;4CACT,OAAO,KAAK,IAAI;4CAChB,KAAK;4CACL,WAAW,KAAK,SAAS,IAAI;wCAC/B;oCACF;gCACF;;wBAEJ;oBACF;oBAEA,aAAa;gBACf,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,8BAA8B;oBAC5C,aAAa,EAAE;gBACjB,SAAU;oBACR,gBAAgB;gBAClB;YACF;YAEA;QACF;kCAAG;QAAC;QAAW;KAAK;IAEpB,MAAM,iBAAiB,IAAA,oXAAW;qDAAC,CAAC;YAClC;6DAAa,CAAC,UACZ,IAAA,4MAAO,EAAC,SAAS,cAAc,SAAS,eAAe,CAAC;;QAE5D;oDAAG,EAAE;IAEL,eAAe;QACb,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM;QAEjD,cAAc;QACd,IAAI;YACF,IAAI,WAAW;gBACb,UAAU;oBAAE;oBAAW;oBAAM;gBAAK;YACpC,OAAO;gBACL,0CAA0C;gBAC1C,MAAM,MAAM,MAAM,MAAM,6BAA6B;oBACnD,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;wBACnB,WAAW;wBACX;wBACA;oBACF;gBACF;gBAEA,MAAM,OAAO,MAAM,IAAI,IAAI;gBAE3B,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,OAAO,EAAE;oBAC5B,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;gBAChC;gBAEA,OAAO,QAAQ,CAAC,IAAI,GAAG;YACzB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,MACE,iBAAiB,QACb,MAAM,OAAO,GACb;QAER,SAAU;YACR,cAAc;QAChB;IACF;IAEA,qBACE,qYAAC;QAAI,WAAW,wKAAM,CAAC,MAAM;;0BAC3B,qYAAC;gBAAI,WAAW,wKAAM,CAAC,MAAM;;kCAC3B,qYAAC;wBAAG,WAAW,wKAAM,CAAC,KAAK;kCAAE;;;;;;kCAC7B,qYAAC,kXAAI;wBAAC,MAAK;wBAAW,WAAW,wKAAM,CAAC,MAAM;kCAAE;;;;;;;;;;;;0BAKlD,qYAAC;gBAAI,WAAW,wKAAM,CAAC,OAAO;;kCAC5B,qYAAC,mKAAa;wBACZ,UAAU;wBACV,YAAY;wBACZ,UAAU;wBACV,SAAS;;;;;;oBAGV,2BACC,qYAAC,2JAAS;wBACR,gBAAgB;wBAChB,cAAc;wBACd,UAAU;wBACV,WAAW;wBACX,YAAY;wBACZ,YAAY;wBACZ,SAAS;;;;;;oBAIZ,aAAa,sBACZ,qYAAC,iKAAY;wBACX,OAAO;wBACP,cAAc;wBACd,UAAU;wBACV,SAAS;;;;;;kCAGb,qYAAC,0NAAM;wBACL,SAAS;wBACT,SAAS;wBACT,UAAU,CAAC,cAAc;kCAExB,aAAa,kBAAkB;;;;;;;;;;;;;;;;;;AAK1C;GApPgB;;QASV,wKAAgB;;;KATN"}}]
}